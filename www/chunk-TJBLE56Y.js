var _M=Object.defineProperty,IM=Object.defineProperties;var wM=Object.getOwnPropertyDescriptors;var hc=Object.getOwnPropertySymbols,EM=Object.getPrototypeOf,DI=Object.prototype.hasOwnProperty,TI=Object.prototype.propertyIsEnumerable,DM=Reflect.get;var EI=(t,e,n)=>e in t?_M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})DI.call(e,n)&&EI(t,n,e[n]);if(hc)for(var n of hc(e))TI.call(e,n)&&EI(t,n,e[n]);return t},ie=(t,e)=>IM(t,wM(e));var CI=(t,e)=>{var n={};for(var r in t)DI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&hc)for(var r of hc(t))e.indexOf(r)<0&&TI.call(t,r)&&(n[r]=t[r]);return n};var Hn=(t,e,n)=>DM(EM(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var bI=null;var Ph=1,AI=Symbol("SIGNAL");function Fe(t){let e=bI;return bI=t,e}var SI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function TM(t){if(!(Fh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ph)){if(!t.producerMustRecompute(t)&&!Oh(t)){t.dirty=!1,t.lastCleanEpoch=Ph;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ph}}function RI(t){return t&&(t.nextProducerIndex=0),Fe(t)}function MI(t,e){if(Fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)kh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Oh(t){fc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(TM(n),r!==n.version))return!0}return!1}function NI(t){if(fc(t),Fh(t))for(let e=0;e<t.producerNode.length;e++)kh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function kh(t,e){if(CM(t),fc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)kh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fc(i),i.producerIndexOfThis[r]=e}}function Fh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function CM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bM(){throw new Error}var AM=bM;function xI(t){AM=t}function L(t){return typeof t=="function"}function bi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pc=bi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof pc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{PI(s)}catch(o){e=e??[],o instanceof pc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new pc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)PI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rr(n,e)}remove(e){let{_finalizers:n}=this;n&&Rr(n,e),e instanceof t&&e._removeParent(this)}};_e.EMPTY=(()=>{let t=new _e;return t.closed=!0,t})();var Lh=_e.EMPTY;function gc(t){return t instanceof _e||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function PI(t){L(t)?t():t.unsubscribe()}var Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ai={setTimeout(t,e,...n){let{delegate:r}=Ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mc(t){Ai.setTimeout(()=>{let{onUnhandledError:e}=Nt;if(e)e(t);else throw t})}function eo(){}var OI=Vh("C",void 0,void 0);function kI(t){return Vh("E",void 0,t)}function FI(t){return Vh("N",t,void 0)}function Vh(t,e,n){return{kind:t,value:e,error:n}}var Mr=null;function Si(t){if(Nt.useDeprecatedSynchronousErrorHandling){let e=!Mr;if(e&&(Mr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Mr;if(Mr=null,n)throw r}}else t()}function LI(t){Nt.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=t)}var Nr=class extends _e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gc(e)&&e.add(this)):this.destination=MM}static create(e,n,r){return new Ri(e,n,r)}next(e){this.isStopped?jh(FI(e),this):this._next(e)}error(e){this.isStopped?jh(kI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jh(OI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SM=Function.prototype.bind;function Uh(t,e){return SM.call(t,e)}var Bh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yc(r)}else yc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yc(n)}}},Ri=class extends Nr{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Nt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uh(e.next,s),error:e.error&&Uh(e.error,s),complete:e.complete&&Uh(e.complete,s)}):i=e}this.destination=new Bh(i)}};function yc(t){Nt.useDeprecatedSynchronousErrorHandling?LI(t):mc(t)}function RM(t){throw t}function jh(t,e){let{onStoppedNotification:n}=Nt;n&&Ai.setTimeout(()=>n(t,e))}var MM={closed:!0,next:eo,error:RM,complete:eo};var Mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(t){return t}function vc(...t){return $h(t)}function $h(t){return t.length===0?ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=xM(n)?n:new Ri(n,r,i);return Si(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=VI(r),new r((i,s)=>{let o=new Ri({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mi](){return this}pipe(...n){return $h(n)(this)}toPromise(n){return n=VI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function VI(t){var e;return(e=t??Nt.Promise)!==null&&e!==void 0?e:Promise}function NM(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function xM(t){return t&&t instanceof Nr||NM(t)&&gc(t)}function Hh(t){return L(t?.lift)}function J(t){return e=>{if(Hh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new qh(t,e,n,r,i)}var qh=class extends Nr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ni(){return J((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xi=class extends q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _e;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_e.EMPTY)}return e}refCount(){return Ni()(this)}};var UI=bi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _c(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new UI}next(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Lh:(this.currentObservers=null,s.push(n),new _e(()=>{this.currentObservers=null,Rr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return t.create=(e,n)=>new _c(e,n),t})(),_c=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Lh}};var Le=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zh={now(){return(zh.delegate||Date).now()},delegate:void 0};var Ic=class extends _e{constructor(e,n){super()}schedule(e,n=0){return this}};var to={setInterval(t,e,...n){let{delegate:r}=to;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=to;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Pi=class extends Ic{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return to.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&to.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Oi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Oi.now=zh.now;var ki=class extends Oi{constructor(e,n=Oi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Gh=new ki(Pi);var wc=class extends Pi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ec=class extends ki{};var Wh=new Ec(wc);var Ct=new q(t=>t.complete());function jI(t){return t&&L(t.schedule)}function BI(t){return t[t.length-1]}function Dc(t){return L(BI(t))?t.pop():void 0}function qn(t){return jI(BI(t))?t.pop():void 0}function Kh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function $I(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(t){return this instanceof xr?(this.v=t,this):new xr(t)}function qI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(g,_){s.push([h,p,g,_])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof xr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function zI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $I=="function"?$I(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Tc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Cc(t){return L(t?.then)}function bc(t){return L(t[Mi])}function Ac(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function Sc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rc=PM();function Mc(t){return L(t?.[Rc])}function Nc(t){return qI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xr(n.read());if(i)return yield xr(void 0);yield yield xr(r)}}finally{n.releaseLock()}})}function xc(t){return L(t?.getReader)}function Ee(t){if(t instanceof q)return t;if(t!=null){if(bc(t))return OM(t);if(Tc(t))return kM(t);if(Cc(t))return FM(t);if(Ac(t))return GI(t);if(Mc(t))return LM(t);if(xc(t))return VM(t)}throw Sc(t)}function OM(t){return new q(e=>{let n=t[Mi]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kM(t){return new q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function FM(t){return new q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,mc)})}function LM(t){return new q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function GI(t){return new q(e=>{UM(t,e).catch(n=>e.error(n))})}function VM(t){return GI(Nc(t))}function UM(t,e){var n,r,i,s;return HI(this,void 0,void 0,function*(){try{for(n=zI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function it(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function zn(t,e=0){return J((n,r)=>{n.subscribe(W(r,i=>it(r,t,()=>r.next(i),e),()=>it(r,t,()=>r.complete(),e),i=>it(r,t,()=>r.error(i),e)))})}function Gn(t,e=0){return J((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function WI(t,e){return Ee(t).pipe(Gn(e),zn(e))}function KI(t,e){return Ee(t).pipe(Gn(e),zn(e))}function QI(t,e){return new q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function YI(t,e){return new q(n=>{let r;return it(n,e,()=>{r=t[Rc](),it(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function Pc(t,e){if(!t)throw new Error("Iterable cannot be null");return new q(n=>{it(n,e,()=>{let r=t[Symbol.asyncIterator]();it(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function JI(t,e){return Pc(Nc(t),e)}function ZI(t,e){if(t!=null){if(bc(t))return WI(t,e);if(Tc(t))return QI(t,e);if(Cc(t))return KI(t,e);if(Ac(t))return Pc(t,e);if(Mc(t))return YI(t,e);if(xc(t))return JI(t,e)}throw Sc(t)}function ee(t,e){return e?ZI(t,e):Ee(t)}function N(...t){let e=qn(t);return ee(t,e)}function Gt(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new q(e?i=>e.schedule(r,0,i):r)}function Qh(t){return!!t&&(t instanceof q||L(t.lift)&&L(t.subscribe))}var In=bi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function H(t,e){return J((n,r)=>{let i=0;n.subscribe(W(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:jM}=Array;function BM(t,e){return jM(e)?t(...e):t(e)}function Oc(t){return H(e=>BM(t,e))}var{isArray:$M}=Array,{getPrototypeOf:HM,prototype:qM,keys:zM}=Object;function kc(t){if(t.length===1){let e=t[0];if($M(e))return{args:e,keys:null};if(GM(e)){let n=zM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function GM(t){return t&&typeof t=="object"&&HM(t)===qM}function Fc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function no(...t){let e=qn(t),n=Dc(t),{args:r,keys:i}=kc(t);if(r.length===0)return ee([],e);let s=new q(WM(r,e,i?o=>Fc(i,o):ht));return n?s.pipe(Oc(n)):s}function WM(t,e,n=ht){return r=>{XI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)XI(e,()=>{let u=ee(t[c],e),l=!1;u.subscribe(W(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function XI(t,e,n){t?it(n,t,e):e()}function ew(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=_=>u<r?g(_):c.push(_),g=_=>{s&&e.next(_),u++;let v=!1;Ee(n(_,l++)).subscribe(W(e,D=>{i?.(D),s?p(D):e.next(D)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let D=c.shift();o?it(e,o,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(W(e,p,()=>{d=!0,h()})),()=>{a?.()}}function De(t,e,n=1/0){return L(e)?De((r,i)=>H((s,o)=>e(r,s,i,o))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),J((r,i)=>ew(r,i,t,n)))}function Wn(t=1/0){return De(ht,t)}function tw(){return Wn(1)}function Fi(...t){return tw()(ee(t,qn(t)))}function Lc(t){return new q(e=>{Ee(t()).subscribe(e)})}function Yh(...t){let e=Dc(t),{args:n,keys:r}=kc(t),i=new q(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Ee(n[l]).subscribe(W(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Fc(r,a):a),s.complete())}))}});return e?i.pipe(Oc(e)):i}function st(t,e){return J((n,r)=>{let i=0;n.subscribe(W(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ft(t){return J((e,n)=>{let r=null,i=!1,s;r=e.subscribe(W(n,void 0,void 0,o=>{s=Ee(t(o,ft(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function nw(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(W(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Kn(t,e){return L(e)?De(t,e,1):De(t,1)}function Qn(t){return J((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wn(t){return t<=0?()=>Ct:J((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Jh(t){return H(()=>t)}function Vc(t=KM){return J((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function KM(){return new In}function Li(t){return J((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?st((i,s)=>t(i,s,r)):ht,wn(1),n?Qn(e):Vc(()=>new In))}function Vi(t){return t<=0?()=>Ct:J((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Zh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?st((i,s)=>t(i,s,r)):ht,Vi(1),n?Qn(e):Vc(()=>new In))}function Uc(t,e){return J(nw(t,e,arguments.length>=2,!0))}function jc(...t){let e=qn(t);return J((n,r)=>{(e?Fi(t,n,e):Fi(t,n)).subscribe(r)})}function pt(t,e){return J((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let u=0,l=s++;Ee(t(c,l)).subscribe(i=W(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Xh(t){return J((e,n)=>{Ee(t).subscribe(W(n,()=>n.complete(),eo)),!n.closed&&e.subscribe(n)})}function he(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?J((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(W(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ht}var Bw="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(Du(e,n)),this.code=e}};function Du(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function QM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function rw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YM=ce({__forward_ref__:ce});function An(t){return t.__forward_ref__=An,t.toString=function(){return ot(this())},t}function Je(t){return $w(t)?t():t}function $w(t){return typeof t=="function"&&t.hasOwnProperty(YM)&&t.__forward_ref__===An}function Hw(t){return t&&!!t.\u0275providers}var JM=ce({\u0275cmp:ce}),ZM=ce({\u0275dir:ce}),XM=ce({\u0275pipe:ce}),eN=ce({\u0275mod:ce}),eu=ce({\u0275fac:ce}),io=ce({__NG_ELEMENT_ID__:ce}),iw=ce({__NG_ENV_ID__:ce});function Tu(t){return typeof t=="string"?t:t==null?"":String(t)}function tN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Tu(t)}function nN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}function yp(t,e){throw new A(-201,!1)}function rN(t,e){t==null&&iN(e,t,null,"!=")}function iN(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function je(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cu(t){return sw(t,zw)||sw(t,Gw)}function qw(t){return Cu(t)!==null}function sw(t,e){return t.hasOwnProperty(e)?t[e]:null}function sN(t){let e=t&&(t[zw]||t[Gw]);return e||null}function ow(t){return t&&(t.hasOwnProperty(aw)||t.hasOwnProperty(oN))?t[aw]:null}var zw=ce({\u0275prov:ce}),aw=ce({\u0275inj:ce}),Gw=ce({ngInjectableDef:ce}),oN=ce({ngInjectorDef:ce}),G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{}),vf;function Ww(){return vf}function bt(t){let e=vf;return vf=t,e}function Kw(t,e,n){let r=Cu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;yp(t,"Injector")}var Ze=globalThis;var b=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var aN={},oo=aN,_f="__NG_DI_FLAG__",tu="ngTempTokenPath",cN="ngTokenPath",uN=/\n/gm,lN="\u0275",cw="__source",Hi;function dN(){return Hi}function Yn(t){let e=Hi;return Hi=t,e}function hN(t,e=G.Default){if(Hi===void 0)throw new A(-203,!1);return Hi===null?Kw(t,void 0,e):Hi.get(t,e&G.Optional?null:void 0,e)}function S(t,e=G.Default){return(Ww()||hN)(Je(t),e)}function I(t,e=G.Default){return S(t,bu(e))}function bu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function If(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){let a=r[o],c=fN(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function Qw(t,e){return t[_f]=e,t.prototype[_f]=e,t}function fN(t){return t[_f]}function pN(t,e,n,r){let i=t[tu];throw e[cw]&&i.unshift(e[cw]),t.message=gN(`
`+t.message,i,n,r),t[cN]=i,t[tu]=null,t}function gN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lN?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ot(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(uN,`
  `)}`}function Eo(t){return{toString:t}.toString()}var Yw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Yw||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{}),zi={},gt=[],Ue=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ue||{});function Jw(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function wf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];mN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Zw(t){return t===3||t===4||t===6}function mN(t){return t.charCodeAt(0)===64}function ao(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?uw(t,n,i,null,e[++r]):uw(t,n,i,null,null))}}return t}function uw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Xw="ng-template";function yN(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&Jw(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function eE(t){return t.type===4&&t.value!==Xw}function vN(t,e,n){let r=t.type===4&&!n?Xw:t.value;return e===r}function _N(t,e,n){let r=4,i=t.attrs||[],s=EN(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Pt(r)&&!Pt(c))return!1;if(o&&Pt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!vN(t,c,n)||c===""&&e.length===1){if(Pt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!yN(t.attrs,u,n)){if(Pt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=IN(l,i,eE(t),n);if(d===-1){if(Pt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let p=r&8?h:null;if(p&&Jw(p,u,0)!==-1||r&2&&u!==h){if(Pt(r))return!1;o=!0}}}}return Pt(r)||o}function Pt(t){return(t&1)===0}function IN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return DN(e,t)}function wN(t,e,n=!1){for(let r=0;r<e.length;r++)if(_N(t,e[r],n))return!0;return!1}function EN(t){for(let e=0;e<t.length;e++){let n=t[e];if(Zw(n))return e}return t.length}function DN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function lw(t,e){return t?":not("+e.trim()+")":e}function TN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Pt(o)&&(e+=lw(s,i),i=""),r=o,s=s||!Pt(r);n++}return i!==""&&(e+=lw(s,i)),e}function CN(t){return t.map(TN).join(",")}function bN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Pt(i))break;i=s}r++}return{attrs:e,classes:n}}function tE(t){return Eo(()=>{let e=oE(t),n=ie(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""});aE(n);let r=t.dependencies;return n.directiveDefs=hw(r,!1),n.pipeDefs=hw(r,!0),n.id=RN(n),n})}function AN(t){return Zn(t)||nE(t)}function SN(t){return t!==null}function Be(t){return Eo(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dw(t,e){if(t==null)return zi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ue.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ue.None?[r,a]:r,e[s]=o):n[s]=r}return n}function we(t){return Eo(()=>{let e=oE(t);return aE(e),e})}function Zn(t){return t[JM]||null}function nE(t){return t[ZM]||null}function rE(t){return t[XM]||null}function iE(t){let e=Zn(t)||nE(t)||rE(t);return e!==null?e.standalone:!1}function sE(t,e){let n=t[eN]||null;if(!n&&e===!0)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}function oE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dw(t.inputs,e),outputs:dw(t.outputs),debugInfo:null}}function aE(t){t.features?.forEach(e=>e(t))}function hw(t,e){if(!t)return null;let n=e?rE:AN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SN)}function RN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var mt=0,F=1,O=2,Me=3,Ot=4,Ft=5,Jt=6,co=7,ze=8,Gi=9,Dn=10,Ie=11,uo=12,fw=13,Zi=14,yt=15,Do=16,Ui=17,Qt=18,Au=19,cE=20,Jn=21,ef=22,Or=23,Ge=25,uE=1,lo=6,Tn=7,nu=8,Wi=9,Ve=10,vp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(vp||{});function En(t){return Array.isArray(t)&&typeof t[uE]=="object"}function Xt(t){return Array.isArray(t)&&t[uE]===!0}function lE(t){return(t.flags&4)!==0}function To(t){return t.componentOffset>-1}function _p(t){return(t.flags&1)===1}function Xn(t){return!!t.template}function dE(t){return(t[O]&512)!==0}function Ki(t,e){let n=t.hasOwnProperty(eu);return n?t[eu]:null}var Ef=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function hE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function en(){return fE}function fE(t){return t.type.prototype.ngOnChanges&&(t.setInput=NN),MN}en.ngInherit=!0;function MN(){let t=gE(this),e=t?.current;if(e){let n=t.previous;if(n===zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function NN(t,e,n,r,i){let s=this.declaredInputs[r],o=gE(t)||xN(t,{previous:zi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Ef(u&&u.currentValue,n,c===zi),hE(t,e,i,n)}var pE="__ngSimpleChanges__";function gE(t){return t[pE]||null}function xN(t,e){return t[pE]=e}var pw=null;var Wt=function(t,e,n){pw?.(t,e,n)},mE="svg",PN="math",ON=!1;function kN(){return ON}function kt(t){for(;Array.isArray(t);)t=t[mt];return t}function yE(t,e){return kt(e[t])}function _t(t,e){return kt(e[t.index])}function Ip(t,e){return t.data[e]}function nr(t,e){let n=e[t];return En(n)?n:n[mt]}function FN(t){return(t[O]&4)===4}function wp(t){return(t[O]&128)===128}function LN(t){return Xt(t[Me])}function ru(t,e){return e==null?null:t[e]}function vE(t){t[Ui]=0}function VN(t){t[O]&1024||(t[O]|=1024,wp(t)&&ho(t))}function UN(t,e){for(;t>0;)e=e[Zi],t--;return e}function _E(t){return t[O]&9216||t[Or]?.dirty}function Df(t){_E(t)?ho(t):t[O]&64&&(kN()?(t[O]|=1024,ho(t)):t[Dn].changeDetectionScheduler?.notify())}function ho(t){t[Dn].changeDetectionScheduler?.notify();let e=fo(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!wp(e)));)e=fo(e)}function IE(t,e){if((t[O]&256)===256)throw new A(911,!1);t[Jn]===null&&(t[Jn]=[]),t[Jn].push(e)}function jN(t,e){if(t[Jn]===null)return;let n=t[Jn].indexOf(e);n!==-1&&t[Jn].splice(n,1)}function fo(t){let e=t[Me];return Xt(e)?e[Me]:e}var j={lFrame:SE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BN(){return j.lFrame.elementDepthCount}function $N(){j.lFrame.elementDepthCount++}function HN(){j.lFrame.elementDepthCount--}function wE(){return j.bindingsEnabled}function Co(){return j.skipHydrationRootTNode!==null}function qN(t){return j.skipHydrationRootTNode===t}function zN(t){j.skipHydrationRootTNode=t}function GN(){j.skipHydrationRootTNode=null}function te(){return j.lFrame.lView}function It(){return j.lFrame.tView}function G6(t){return j.lFrame.contextLView=t,t[ze]}function W6(t){return j.lFrame.contextLView=null,t}function at(){let t=EE();for(;t!==null&&t.type===64;)t=t.parent;return t}function EE(){return j.lFrame.currentTNode}function WN(){let t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bo(t,e){let n=j.lFrame;n.currentTNode=t,n.isParent=e}function DE(){return j.lFrame.isParent}function KN(){j.lFrame.isParent=!1}function TE(){let t=j.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QN(t){return j.lFrame.bindingIndex=t}function Ao(){return j.lFrame.bindingIndex++}function YN(t){let e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JN(){return j.lFrame.inI18n}function ZN(t,e){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tf(e)}function XN(){return j.lFrame.currentDirectiveIndex}function Tf(t){j.lFrame.currentDirectiveIndex=t}function ex(t){let e=j.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function CE(){return j.lFrame.currentQueryIndex}function Ep(t){j.lFrame.currentQueryIndex=t}function tx(t){let e=t[F];return e.type===2?e.declTNode:e.type===1?t[Ft]:null}function bE(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=tx(s),i===null||(s=s[Zi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=j.lFrame=AE();return r.currentTNode=e,r.lView=t,!0}function Dp(t){let e=AE(),n=t[F];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function AE(){let t=j.lFrame,e=t===null?null:t.child;return e===null?SE(t):e}function SE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RE(){let t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ME=RE;function Tp(){let t=RE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nx(t){return(j.lFrame.contextLView=UN(t,j.lFrame.contextLView))[ze]}function $r(){return j.lFrame.selectedIndex}function kr(t){j.lFrame.selectedIndex=t}function NE(){let t=j.lFrame;return Ip(t.tView,t.selectedIndex)}function K6(){j.lFrame.currentNamespace=mE}function Q6(){rx()}function rx(){j.lFrame.currentNamespace=null}function xE(){return j.lFrame.currentNamespace}var PE=!0;function Cp(){return PE}function rr(t){PE=t}function ix(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=fE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function bp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Kc(t,e,n){OE(t,e,3,n)}function Qc(t,e,n,r){(t[O]&3)===n&&OE(t,e,n,r)}function tf(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function OE(t,e,n,r){let i=r!==void 0?t[Ui]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ui]+=65536),(a<s||s==-1)&&(sx(t,n,e,c),t[Ui]=(t[Ui]&4294901760)+c+2),c++}function gw(t,e){Wt(4,t,e);let n=Fe(null);try{e.call(t)}finally{Fe(n),Wt(5,t,e)}}function sx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[O]>>14<t[Ui]>>16&&(t[O]&3)===e&&(t[O]+=16384,gw(a,s)):gw(a,s)}var qi=-1,Fr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ox(t){return t instanceof Fr}function ax(t){return(t.flags&8)!==0}function cx(t){return(t.flags&16)!==0}function kE(t){return t!==qi}function iu(t){return t&32767}function ux(t){return t>>16}function su(t,e){let n=ux(t),r=e;for(;n>0;)r=r[Zi],n--;return r}var Cf=!0;function mw(t){let e=Cf;return Cf=t,e}var lx=256,FE=lx-1,LE=5,dx=0,Kt={};function hx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(io)&&(r=n[io]),r==null&&(r=n[io]=dx++);let i=r&FE,s=1<<i;e.data[t+(i>>LE)]|=s}function ou(t,e){let n=VE(t,e);if(n!==-1)return n;let r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,nf(r.data,t),nf(e,null),nf(r.blueprint,null));let i=Ap(t,e),s=t.injectorIndex;if(kE(i)){let o=iu(i),a=su(i,e),c=a[F].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function nf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ap(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HE(i),r===null)return qi;if(n++,i=i[Zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qi}function bf(t,e,n){hx(t,e,n)}function fx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Zw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function UE(t,e,n){if(n&G.Optional||t!==void 0)return t;yp(e,"NodeInjector")}function jE(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[Gi],s=bt(void 0);try{return i?i.get(e,r,n&G.Optional):Kw(e,r,n&G.Optional)}finally{bt(s)}}return UE(r,e,n)}function BE(t,e,n,r=G.Default,i){if(t!==null){if(e[O]&2048&&!(r&G.Self)){let o=yx(t,e,n,r,Kt);if(o!==Kt)return o}let s=$E(t,e,n,r,Kt);if(s!==Kt)return s}return jE(e,n,r,i)}function $E(t,e,n,r,i){let s=gx(n);if(typeof s=="function"){if(!bE(e,t,r))return r&G.Host?UE(i,n,r):jE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&G.Optional))yp(n);else return o}finally{ME()}}else if(typeof s=="number"){let o=null,a=VE(t,e),c=qi,u=r&G.Host?e[yt][Ft]:null;for((a===-1||r&G.SkipSelf)&&(c=a===-1?Ap(t,e):e[a+8],c===qi||!vw(r,!1)?a=-1:(o=e[F],a=iu(c),e=su(c,e)));a!==-1;){let l=e[F];if(yw(s,a,l.data)){let d=px(a,e,n,o,r,u);if(d!==Kt)return d}c=e[a+8],c!==qi&&vw(r,e[F].data[a+8]===u)&&yw(s,a,e)?(o=l,a=iu(c),e=su(c,e)):a=-1}}return i}function px(t,e,n,r,i,s){let o=e[F],a=o.data[t+8],c=r==null?To(a)&&Cf:r!=o&&(a.type&3)!==0,u=i&G.Host&&s===a,l=Yc(a,o,n,c,u);return l!==null?Lr(e,o,l,a):Kt}function Yc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let g=o[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(i){let p=o[c];if(p&&Xn(p)&&p.type===n)return c}return null}function Lr(t,e,n,r){let i=t[n],s=e.data;if(ox(i)){let o=i;o.resolving&&nN(tN(s[n]));let a=mw(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?bt(o.injectImpl):null,l=bE(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&ix(n,s[n],e)}finally{u!==null&&bt(u),mw(a),o.resolving=!1,ME()}}return i}function gx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(io)?t[io]:void 0;return typeof e=="number"?e>=0?e&FE:mx:e}function yw(t,e,n){let r=1<<t;return!!(n[e+(t>>LE)]&r)}function vw(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var Pr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BE(this._tNode,this._lView,e,bu(r),n)}};function mx(){return new Pr(at(),te())}function ir(t){return Eo(()=>{let e=t.prototype.constructor,n=e[eu]||Af(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[eu]||Af(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Af(t){return $w(t)?()=>{let e=Af(Je(t));return e&&e()}:Ki(t)}function yx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[O]&2048&&!(o[O]&512);){let a=$E(s,o,n,r|G.Self,Kt);if(a!==Kt)return a;let c=s.parent;if(!c){let u=o[cE];if(u){let l=u.get(n,Kt,r);if(l!==Kt)return l}c=HE(o),o=o[Zi]}s=c}return i}function HE(t){let e=t[F],n=e.type;return n===2?e.declTNode:n===1?t[Ft]:null}function Sp(t){return fx(at(),t)}var Bc="__parameters__";function vx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qE(t,e,n){return Eo(()=>{let r=vx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Bc)?c[Bc]:Object.defineProperty(c,Bc,{value:[]})[Bc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function _x(t){let e=Ze.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Ix(t){return typeof t=="function"}function wx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Ex(t){return t.flat(Number.POSITIVE_INFINITY)}function Rp(t,e){t.forEach(n=>Array.isArray(n)?Rp(n,e):e(n))}function zE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function au(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Tx(t,e,n){let r=So(t,e);return r>=0?t[r|1]=n:(r=~r,Dx(t,r,e,n)),r}function rf(t,e){let n=So(t,e);if(n>=0)return t[n|1]}function So(t,e){return Cx(t,e,1)}function Cx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Xe=Qw(qE("Optional"),8);var GE=Qw(qE("SkipSelf"),4);function bx(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(Mx))}return s}return cu.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(p=>{a[u+h]=p,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>Nx(s));e.push(c)}),Sx(),Promise.all(e).then(()=>{})}var cu=new Map,Ax=new Set;function Sx(){let t=cu;return cu=new Map,t}function Rx(){return cu.size===0}function Mx(t){return typeof t=="string"?t:t.text()}function Nx(t){Ax.delete(t)}var Vr=new b(""),WE=new b("",-1),KE=new b(""),uu=class{get(e,n=oo){if(n===oo){let r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return n}};function Ro(t){return{\u0275providers:t}}function xx(...t){return{\u0275providers:QE(!0,t),\u0275fromNgModule:!0}}function QE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Rp(e,o=>{let a=o;Sf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YE(i,s),n}function YE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Mp(i,s=>{e(s,r)})}}function Sf(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,s=ow(t),o=!s&&Zn(t);if(!s&&!o){let c=t.ngModule;if(s=ow(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Sf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Rp(s.imports,l=>{Sf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&YE(u,e)}if(!a){let u=Ki(i)||(()=>new i);e({provide:i,useFactory:u,deps:gt},i),e({provide:KE,useValue:i,multi:!0},i),e({provide:Vr,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Mp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Mp(t,e){for(let n of t)Hw(n)&&(n=n.\u0275providers),Array.isArray(n)?Mp(n,e):e(n)}var Px=ce({provide:String,useValue:ce});function JE(t){return t!==null&&typeof t=="object"&&Px in t}function Ox(t){return!!(t&&t.useExisting)}function kx(t){return!!(t&&t.useFactory)}function Qi(t){return typeof t=="function"}function Fx(t){return!!t.useClass}var Su=new b(""),Jc={},Lx={},sf;function Np(){return sf===void 0&&(sf=new uu),sf}var vt=class{},po=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mf(e,o=>this.processProvider(o)),this.records.set(WE,ji(void 0,this)),i.has("environment")&&this.records.set(vt,ji(void 0,this));let s=this.records.get(Su);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(KE,gt,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yn(this),r=bt(void 0),i;try{return e()}finally{Yn(n),bt(r)}}get(e,n=oo,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(iw))return e[iw](this);r=bu(r);let i,s=Yn(this),o=bt(void 0);try{if(!(r&G.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=$x(e)&&Cu(e);u&&this.injectableDefInScope(u)?c=ji(Rf(e),Jc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&G.Self?Np():this.parent;return n=r&G.Optional&&n===oo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[tu]=a[tu]||[]).unshift(ot(e)),s)throw a;return pN(a,e,"R3InjectorError",this.source)}else throw a}finally{bt(o),Yn(s)}}resolveInjectorInitializers(){let e=Yn(this),n=bt(void 0),r;try{let i=this.get(Vr,gt,G.Self);for(let s of i)s()}finally{Yn(e),bt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=Je(e);let n=Qi(e)?e:Je(e&&e.provide),r=Ux(e);if(!Qi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ji(void 0,Jc,!0),i.factory=()=>If(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Jc&&(n.value=Lx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Bx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Rf(t){let e=Cu(t),n=e!==null?e.factory:Ki(t);if(n!==null)return n;if(t instanceof b)throw new A(204,!1);if(t instanceof Function)return Vx(t);throw new A(204,!1)}function Vx(t){if(t.length>0)throw new A(204,!1);let n=sN(t);return n!==null?()=>n.factory(t):()=>new t}function Ux(t){if(JE(t))return ji(void 0,t.useValue);{let e=ZE(t);return ji(e,Jc)}}function ZE(t,e,n){let r;if(Qi(t)){let i=Je(t);return Ki(i)||Rf(i)}else if(JE(t))r=()=>Je(t.useValue);else if(kx(t))r=()=>t.useFactory(...If(t.deps||[]));else if(Ox(t))r=()=>S(Je(t.useExisting));else{let i=Je(t&&(t.useClass||t.provide));if(jx(t))r=()=>new i(...If(t.deps));else return Ki(i)||Rf(i)}return r}function ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jx(t){return!!t.deps}function Bx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $x(t){return typeof t=="function"||typeof t=="object"&&t instanceof b}function Mf(t,e){for(let n of t)Array.isArray(n)?Mf(n,e):n&&Hw(n)?Mf(n.\u0275providers,e):e(n)}function Sn(t,e){t instanceof po&&t.assertNotDestroyed();let n,r=Yn(t),i=bt(void 0);try{return e()}finally{Yn(r),bt(i)}}function Hx(t){if(!Ww()&&!dN())throw new A(-203,!1)}function _w(t,e=null,n=null,r){let i=XE(t,e,n,r);return i.resolveInjectorInitializers(),i}function XE(t,e=null,n=null,r,i=new Set){let s=[n||gt,xx(t)];return r=r||(typeof t=="object"?void 0:ot(t)),new po(s,e||Np(),r||null,i)}var Ne=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return _w({name:""},i,r,"");{let s=r.name??"";return _w({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=oo,e.NULL=new uu,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>S(WE)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Nf;function eD(t){Nf=t}function Ru(){if(Nf!==void 0)return Nf;if(typeof document<"u")return document;throw new A(210,!1)}var Mo=new b("",{providedIn:"root",factory:()=>qx}),qx="ng",xp=new b(""),ct=new b("",{providedIn:"platform",factory:()=>"unknown"});var Pp=new b("",{providedIn:"root",factory:()=>Ru().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Y6(t){return t.ownerDocument.defaultView}function zx(t){return t.ownerDocument.body}function tD(t){return t instanceof Function?t():t}function ro(t){return(t??I(Ne)).get(ct)==="browser"}var Gx="ngSkipHydration",Wx="ngskiphydration";function nD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Wx)return!0}return!1}function rD(t){return t.hasAttribute(Gx)}function lu(t){return(t.flags&128)===128}function Kx(t){if(lu(t))return!0;let e=t.parent;for(;e;){if(lu(t)||nD(e))return!0;e=e.parent}return!1}var Cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cn||{}),Qx=/^>|^->|<!--|-->|--!>|<!-$/g,Yx=/(<|>)/g,Jx="\u200B$1\u200B";function Zx(t){return t.replace(Qx,e=>e.replace(Yx,Jx))}var iD=new Map,Xx=0;function eP(){return Xx++}function tP(t){iD.set(t[Au],t)}function nP(t){iD.delete(t[Au])}var Iw="__ngContext__";function Ur(t,e){En(e)?(t[Iw]=e[Au],tP(e)):t[Iw]=e}var rP;function Op(t,e){return rP(t,e)}function Bi(t,e,n,r,i){if(r!=null){let s,o=!1;Xt(r)?s=r:En(r)&&(o=!0,r=r[mt]);let a=kt(r);t===0&&n!==null?i==null?uD(e,n,a):du(e,n,a,i||null,!0):t===1&&n!==null?du(e,n,a,i||null,!0):t===2?dD(e,a,o):t===3&&e.destroyNode(a),s!=null&&IP(e,t,s,n,i)}}function sD(t,e){return t.createText(e)}function iP(t,e,n){t.setValue(e,n)}function oD(t,e){return t.createComment(Zx(e))}function kp(t,e,n){return t.createElement(e,n)}function sP(t,e){aD(t,e),e[mt]=null,e[Ft]=null}function oP(t,e,n,r,i,s){r[mt]=i,r[Ft]=e,Nu(t,r,n,1,i,s)}function aD(t,e){Nu(t,e,e[Ie],2,null,null)}function aP(t){let e=t[uo];if(!e)return of(t[F],t);for(;e;){let n=null;if(En(e))n=e[uo];else{let r=e[Ve];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)En(e)&&of(e[F],e),e=e[Me];e===null&&(e=t),En(e)&&of(e[F],e),n=e&&e[Ot]}e=n}}function cP(t,e,n,r){let i=Ve+r,s=n.length;r>0&&(n[i-1][Ot]=e),r<s-Ve?(e[Ot]=n[i],zE(n,Ve+r,e)):(n.push(e),e[Ot]=null),e[Me]=n;let o=e[Do];o!==null&&n!==o&&uP(o,e);let a=e[Qt];a!==null&&a.insertView(t),Df(e),e[O]|=128}function uP(t,e){let n=t[Wi],i=e[Me][Me][yt];e[yt]!==i&&(t[O]|=vp.HasTransplantedViews),n===null?t[Wi]=[e]:n.push(e)}function cD(t,e){let n=t[Wi],r=n.indexOf(e);n.splice(r,1)}function go(t,e){if(t.length<=Ve)return;let n=Ve+e,r=t[n];if(r){let i=r[Do];i!==null&&i!==t&&cD(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let s=au(t,Ve+e);sP(r[F],r);let o=s[Qt];o!==null&&o.detachView(s[F]),r[Me]=null,r[Ot]=null,r[O]&=-129}return r}function Mu(t,e){if(!(e[O]&256)){let n=e[Ie];n.destroyNode&&Nu(t,e,n,3,null,null),aP(e)}}function of(t,e){if(!(e[O]&256)){e[O]&=-129,e[O]|=256,e[Or]&&NI(e[Or]),dP(t,e),lP(t,e),e[F].type===1&&e[Ie].destroy();let n=e[Do];if(n!==null&&Xt(e[Me])){n!==e[Me]&&cD(n,e);let r=e[Qt];r!==null&&r.detachView(t)}nP(e)}}function lP(t,e){let n=t.cleanup,r=e[co];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[co]=null);let i=e[Jn];if(i!==null){e[Jn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function dP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Fr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Wt(4,a,c);try{c.call(a)}finally{Wt(5,a,c)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function hP(t,e,n){return fP(t,e.parent,n)}function fP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[mt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Yt.None||s===Yt.Emulated)return null}return _t(r,n)}}function du(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uD(t,e,n){t.appendChild(e,n)}function ww(t,e,n,r,i){r!==null?du(t,e,n,r,i):uD(t,e,n)}function pP(t,e,n,r){t.removeChild(e,n,r)}function Fp(t,e){return t.parentNode(e)}function gP(t,e){return t.nextSibling(e)}function mP(t,e,n){return vP(t,e,n)}function yP(t,e,n){return t.type&40?_t(t,n):null}var vP=yP,Ew;function Lp(t,e,n,r){let i=hP(t,r,e),s=e[Ie],o=r.parent||e[Ft],a=mP(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ww(s,i,n[c],a,!1);else ww(s,i,n,a,!1);Ew!==void 0&&Ew(s,r,e,n,i)}function Zc(t,e){if(e!==null){let n=e.type;if(n&3)return _t(e,t);if(n&4)return xf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zc(t,r);{let i=t[e.index];return Xt(i)?xf(-1,i):kt(i)}}else{if(n&32)return Op(e,t)()||kt(t[e.index]);{let r=lD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fo(t[yt]);return Zc(i,r)}else return Zc(t,e.next)}}}return null}function lD(t,e){if(e!==null){let r=t[yt][Ft],i=e.projection;return r.projection[i]}return null}function xf(t,e){let n=Ve+t+1;if(n<e.length){let r=e[n],i=r[F].firstChild;if(i!==null)return Zc(r,i)}return e[Tn]}function dD(t,e,n){let r=Fp(t,e);r&&pP(t,r,e,n)}function hD(t){t.textContent=""}function Vp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ur(kt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Vp(t,e,n.child,r,i,s,!1),Bi(e,t,i,a,s);else if(c&32){let u=Op(n,r),l;for(;l=u();)Bi(e,t,i,l,s);Bi(e,t,i,a,s)}else c&16?_P(t,e,r,n,i,s):Bi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Nu(t,e,n,r,i,s){Vp(n,r,t.firstChild,e,i,s,!1)}function _P(t,e,n,r,i,s){let o=n[yt],c=o[Ft].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Bi(e,t,i,l,s)}else{let u=c,l=o[Me];lu(r)&&(u.flags|=128),Vp(t,e,u,l,i,s,!0)}}function IP(t,e,n,r,i){let s=n[Tn],o=kt(n);s!==o&&Bi(e,t,r,s,i);for(let a=Ve;a<n.length;a++){let c=n[a];Nu(c[F],c,t,e,r,s)}}function wP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),t.setStyle(n,r,i,s))}}function EP(t,e,n){t.setAttribute(e,"style",n)}function fD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&wf(t,e,r),i!==null&&fD(t,e,i),s!==null&&EP(t,e,s)}var $c;function DP(){if($c===void 0&&($c=null,Ze.trustedTypes))try{$c=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $c}function Dw(t){return DP()?.createScriptURL(t)||t}var hu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bw})`}};function No(t){return t instanceof hu?t.changingThisBreaksApplicationSecurity:t}function Up(t,e){let n=TP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Bw})`)}return n===e}function TP(t){return t instanceof hu&&t.getTypeName()||null}var CP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gD(t){return t=String(t),t.match(CP)?t:"unsafe:"+t}var xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xu||{});function bP(t){let e=yD();return e?e.sanitize(xu.URL,t)||"":Up(t,"URL")?No(t):gD(Tu(t))}function AP(t){let e=yD();if(e)return Dw(e.sanitize(xu.RESOURCE_URL,t)||"");if(Up(t,"ResourceURL"))return Dw(No(t));throw new A(904,!1)}function SP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?AP:bP}function mD(t,e,n){return SP(e,n)(t)}function yD(){let t=te();return t&&t[Dn].sanitizer}var Pf=class{};function RP(){let t=new Hr;return I(ct)==="browser"&&(t.store=MP(Ru(),I(Mo))),t}var Hr=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=R({token:e,providedIn:"root",factory:RP});let t=e;return t})();function MP(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var vD="h",_D="b",Of=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Of||{}),NP="e",xP="t",jp="c",ID="x",fu="r",PP="i",OP="n",kP="d",FP="__nghData__",wD=FP,af="ngh",LP="nghm",ED=()=>null;function VP(t,e,n=!1){let r=t.getAttribute(af);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let l=e.get(Hr,null,{optional:!0});l!==null&&(c=l.get(wD,[])[Number(r)])}let u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,Pu(u,0,t.nextSibling)),a?t.setAttribute(af,a):t.removeAttribute(af),u}function UP(){ED=VP}function Bp(t,e,n=!1){return ED(t,e,n)}function jP(t){let e=t._lView;return e[F].type===2?null:(dE(e)&&(e=e[Ge]),e)}function BP(t){return t.textContent?.replace(/\s/gm,"")}function $P(t){let e=Ru(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=BP(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Pu(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function kf(t,e){return t.segmentHeads?.[e]??null}function HP(t,e){let n=t.data,r=n[NP]?.[e]??null;return r===null&&n[jp]?.[e]&&(r=$p(t,e)),r}function DD(t,e){return t.data[jp]?.[e]??null}function $p(t,e){let n=DD(t,e)??[],r=0;for(let i of n)r+=i[fu]*(i[ID]??1);return r}function Ou(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[kP];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Ff=class{},pu=class{};function qP(t){let e=Error(`No component factory found for ${ot(t)}.`);return e[zP]=t,e}var zP="ngComponent";var Lf=class{resolveComponentFactory(e){throw qP(e)}},ku=(()=>{let e=class e{};e.NULL=new Lf;let t=e;return t})();function GP(){return Xi(at(),te())}function Xi(t,e){return new et(_t(t,e))}var et=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=GP;let t=e;return t})();function WP(t){return t instanceof et?t.nativeElement:t}var mo=class{},Lt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>KP();let t=e;return t})();function KP(){let t=te(),e=at(),n=nr(e.index,t);return(En(n)?n:t)[Ie]}var QP=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),cf={};function gu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(kt(s)),Xt(s)&&YP(s,r);let o=n.type;if(o&8)gu(t,e,n.child,r);else if(o&32){let a=Op(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=lD(e,n);if(Array.isArray(a))r.push(...a);else{let c=fo(e[yt]);gu(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YP(t,e){for(let n=Ve;n<t.length;n++){let r=t[n],i=r[F].firstChild;i!==null&&gu(r[F],r,i,e)}t[Tn]!==t[mt]&&e.push(t[Tn])}var TD=[];function JP(t){return t[Or]??ZP(t)}function ZP(t){let e=TD.pop()??Object.create(eO);return e.lView=t,e}function XP(t){t.lView[Or]!==t&&(t.lView=null,TD.push(t))}var eO=ie(T({},SI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ho(t.lView)},consumerOnSignalRead(){this.lView[Or]=this}});function CD(t){return AD(t[uo])}function bD(t){return AD(t[Ot])}function AD(t){for(;t!==null&&!Xt(t);)t=t[Ot];return t}var tO="ngOriginalError";function uf(t){return t[tO]}var Zt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&uf(e);for(;n&&uf(n);)n=uf(n);return n||null}},SD=new b("",{providedIn:"root",factory:()=>I(Zt).handleError.bind(void 0)}),Hc=new b(""),RD=!1,MD=new b("",{providedIn:"root",factory:()=>RD});var sr={};function J6(t=1){ND(It(),te(),$r()+t,!1)}function ND(t,e,n,r){if(!r)if((e[O]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Kc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Qc(e,s,0,n)}kr(n)}function z(t,e=G.Default){let n=te();if(n===null)return S(t,e);let r=at();return BE(r,n,Je(t),e)}function xD(){let t="invalid";throw new Error(t)}function PD(t,e,n,r,i,s){let o=Fe(null);try{let a=null;i&Ue.SignalBased&&(a=e[r][AI]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ue.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):hE(e,a,r,s)}finally{Fe(o)}}function nO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)kr(~i);else{let s=i,o=n[++r],a=n[++r];ZN(o,s);let c=e[s];a(2,c)}}}finally{kr(-1)}}function Fu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[mt]=i,d[O]=r|4|128|8|64,(u!==null||t&&t[O]&2048)&&(d[O]|=2048),vE(d),d[Me]=d[Zi]=t,d[ze]=n,d[Dn]=o||t&&t[Dn],d[Ie]=a||t&&t[Ie],d[Gi]=c||t&&t[Gi]||null,d[Ft]=s,d[Au]=eP(),d[Jt]=l,d[cE]=u,d[yt]=e.type==2?t[yt]:d,d}function Lu(t,e,n,r,i){let s=t.data[e];if(s===null)s=rO(t,e,n,r,i),JN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=WN();s.injectorIndex=o===null?-1:o.injectorIndex}return bo(s,!0),s}function rO(t,e,n,r,i){let s=EE(),o=DE(),a=o?s:s&&s.parent,c=t.data[e]=lO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function OD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function kD(t,e,n,r,i){let s=$r(),o=r&2;try{kr(-1),o&&e.length>Ge&&ND(t,e,Ge,!1),Wt(o?2:0,i),n(r,i)}finally{kr(s),Wt(o?3:1,i)}}function FD(t,e,n){if(lE(e)){let r=Fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Fe(r)}}}function LD(t,e,n){wE()&&(yO(t,e,n,_t(n,e)),(n.flags&64)===64&&HD(t,e,n))}function VD(t,e,n=_t){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function UD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hp(t,e,n,r,i,s,o,a,c,u,l){let d=Ge+r,h=d+i,p=iO(d,h),g=typeof u=="function"?u():u;return p[F]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function iO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:sr);return n}function sO(t,e,n,r){let s=r.get(MD,RD)||n===Yt.ShadowDom,o=t.selectRootElement(e,s);return oO(o),o}function oO(t){jD(t)}var jD=()=>null;function aO(t){rD(t)?hD(t):$P(t)}function cO(){jD=aO}function uO(t,e,n,r){let i=GD(e);i.push(n),t.firstCreatePass&&WD(t).push(r,i.length-1)}function lO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Co()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Tw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Ue.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Cw(r,n,u,a,c):Cw(r,n,u,a)}return r}function Cw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function dO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,g=h?h.outputs:null;c=Tw(0,d.inputs,l,c,p),u=Tw(1,d.outputs,l,u,g);let _=c!==null&&o!==null&&!eE(e)?SO(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function hO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fO(t,e,n,r,i,s,o,a){let c=_t(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(qp(t,n,l,r,i),To(e)&&pO(n,e.index)):e.type&3?(r=hO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function pO(t,e){let n=nr(e,t);n[O]&16||(n[O]|=64)}function BD(t,e,n,r){if(wE()){let i=r===null?null:{"":-1},s=_O(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&$D(t,e,n,o,i,a),i&&IO(n,r,i)}n.mergedAttrs=ao(n.mergedAttrs,n.attrs)}function $D(t,e,n,r,i,s){for(let u=0;u<r.length;u++)bf(ou(n,e),t,r[u].type);EO(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=OD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=ao(n.mergedAttrs,l.hostAttrs),DO(t,n,e,c,l),wO(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}dO(t,n,s)}function gO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;mO(o)!=a&&o.push(a),o.push(n,r,s)}}function mO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;To(n)&&TO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ou(n,e),Ur(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Lr(e,t,a,n);if(Ur(u,e),o!==null&&AO(e,a-i,u,c,n,o),Xn(c)){let l=nr(n.index,e);l[ze]=Lr(e,t,a,n)}}}function HD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=XN();try{kr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Tf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&vO(c,u)}}finally{kr(-1),Tf(o)}}function vO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _O(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wN(e,o.selectors,!1))if(r||(r=[]),Xn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Vf(t,e,c)}else r.unshift(o),Vf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Vf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function IO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function wO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function EO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function DO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ki(i.type,!0)),o=new Fr(s,Xn(i),z);t.blueprint[r]=o,n[r]=o,gO(t,e,r,OD(t,n,i.hostVars,sr),i)}function TO(t,e,n){let r=_t(e,t),i=UD(n),s=t[Dn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Vu(t,Fu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function CO(t,e,n,r,i,s){let o=_t(t,e);bO(e[Ie],o,s,t.value,n,r,i)}function bO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Tu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function AO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];PD(r,n,c,u,l,d)}}function SO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function qD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zD(t,e){let n=t.contentQueries;if(n!==null){let r=Fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Ep(s),a.contentQueries(2,e[o],o)}}}finally{Fe(r)}}}function Vu(t,e){return t[uo]?t[fw][Ot]=e:t[uo]=e,t[fw]=e,e}function Uf(t,e,n){Ep(0);let r=Fe(null);try{e(t,n)}finally{Fe(r)}}function GD(t){return t[co]||(t[co]=[])}function WD(t){return t.cleanup||(t.cleanup=[])}function KD(t,e){let n=t[Gi],r=n?n.get(Zt,null):null;r&&r.handleError(e)}function qp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];PD(l,u,r,a,c,i)}}function RO(t,e,n){let r=yE(e,t);iP(t[Ie],r,n)}var MO=100;function NO(t,e=!0){let n=t[Dn],r=n.rendererFactory,i=!1;i||r.begin?.();try{xO(t)}catch(s){throw e&&KD(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function xO(t){jf(t,0);let e=0;for(;_E(t);){if(e===MO)throw new A(103,!1);e++,jf(t,1)}}function PO(t,e,n,r){let i=e[O];if((i&256)===256)return;let s=!1;!s&&e[Dn].inlineEffectRunner?.flush(),Dp(e);let o=null,a=null;!s&&OO(t)&&(a=JP(e),o=RI(a));try{vE(e),QN(t.bindingStartIndex),n!==null&&kD(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Kc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Qc(e,d,0,null),tf(e,0)}if(kO(e),QD(e,0),t.contentQueries!==null&&zD(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Kc(e,d)}else{let d=t.contentHooks;d!==null&&Qc(e,d,1),tf(e,1)}nO(t,e);let u=t.components;u!==null&&JD(e,u,0);let l=t.viewQuery;if(l!==null&&Uf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Kc(e,d)}else{let d=t.viewHooks;d!==null&&Qc(e,d,2),tf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ef]){for(let d of e[ef])d();e[ef]=null}s||(e[O]&=-73)}catch(c){throw ho(e),c}finally{a!==null&&(MI(a,o),XP(a)),Tp()}}function OO(t){return t.type!==2}function QD(t,e){for(let n=CD(t);n!==null;n=bD(n))for(let r=Ve;r<n.length;r++){let i=n[r];YD(i,e)}}function kO(t){for(let e=CD(t);e!==null;e=bD(e)){if(!(e[O]&vp.HasTransplantedViews))continue;let n=e[Wi];for(let r=0;r<n.length;r++){let i=n[r],s=i[Me];VN(i)}}}function FO(t,e,n){let r=nr(e,t);YD(r,n)}function YD(t,e){wp(t)&&jf(t,e)}function jf(t,e){let r=t[F],i=t[O],s=t[Or],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Oh(s)),s&&(s.dirty=!1),t[O]&=-9217,o)PO(r,t,r.template,t[ze]);else if(i&8192){QD(t,1);let a=r.components;a!==null&&JD(t,a,1)}}function JD(t,e,n){for(let r=0;r<e.length;r++)FO(t,e[r],n)}function zp(t){for(t[Dn].changeDetectionScheduler?.notify();t;){t[O]|=64;let e=fo(t);if(dE(t)&&!e)return t;t=e}return null}var jr=class{get rootNodes(){let e=this._lView,n=e[F];return gu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Me];if(Xt(e)){let n=e[nu],r=n?n.indexOf(this):-1;r>-1&&(go(e,r),au(n,r))}this._attachedToViewContainer=!1}Mu(this._lView[F],this._lView)}onDestroy(e){IE(this._lView,e)}markForCheck(){zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Df(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,NO(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,aD(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,Df(this._lView)}},es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LO;let t=e;return t})();function LO(t){return VO(at(),te(),(t&16)===16)}function VO(t,e,n){if(To(t)&&!n){let r=nr(t.index,e);return new jr(r,r)}else if(t.type&47){let r=e[yt];return new jr(r,e)}return null}var ZD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UO,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Bf=class extends ZD{constructor(e){super(),this._lView=e}onDestroy(e){return IE(this._lView,e),()=>jN(this._lView,e)}};function UO(){return new Bf(te())}var bw=new Set;function or(t){bw.has(t)||(bw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var $f=class extends rt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=lf(s),i&&(i=lf(i)),o&&(o=lf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof _e&&e.add(a),a}};function lf(t){return e=>{setTimeout(t,void 0,e)}}var fe=$f;function Aw(...t){}function jO(){let t=typeof Ze.requestAnimationFrame=="function",e=Ze[t?"requestAnimationFrame":"setTimeout"],n=Ze[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var K=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fe(!1),this.onMicrotaskEmpty=new fe(!1),this.onStable=new fe(!1),this.onError=new fe(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=jO().nativeRequestAnimationFrame,HO(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,BO,Aw,Aw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},BO={};function Gp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $O(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ze,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hf(t),t.isCheckStableRunning=!0,Gp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hf(t))}function HO(t){let e=()=>{$O(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(qO(a))return n.invokeTask(i,s,o,a);try{return Sw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Rw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Sw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Rw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Hf(t),Gp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Hf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Sw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rw(t){t._nesting--,Gp(t)}var qf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fe,this.onMicrotaskEmpty=new fe,this.onStable=new fe,this.onError=new fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function qO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function zO(t="zone.js",e){return t==="noop"?new qf:t==="zone.js"?new K(e):t}var $i=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}($i||{}),GO={destroy(){}};function Wp(t,e){!e&&Hx(Wp);let n=e?.injector??I(Ne);if(!ro(n))return GO;or("NgAfterNextRender");let r=n.get(Kp),i=r.handler??=new Gf,s=e?.phase??$i.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ZD).onDestroy(o),c=new zf(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var zf=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(K),this.errorHandler=e.get(Zt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Gf=class{constructor(){this.executingCallbacks=!1,this.buckets={[$i.EarlyRead]:new Set,[$i.Write]:new Set,[$i.MixedReadWrite]:new Set,[$i.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Kp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function WO(t,e){let n=nr(e,t),r=n[F];KO(r,n);let i=n[mt];i!==null&&n[Jt]===null&&(n[Jt]=Bp(i,n[Gi])),Qp(r,n,n[ze])}function KO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Qp(t,e,n){Dp(e);try{let r=t.viewQuery;r!==null&&Uf(1,r,n);let i=t.template;i!==null&&kD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zD(t,e),t.staticViewQueries&&Uf(2,t.viewQuery,n);let s=t.components;s!==null&&QO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,Tp()}}function QO(t,e){for(let n=0;n<e.length;n++)WO(t,e[n])}function Wf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=rw(i,a);else if(s==2){let c=a,u=e[++o];r=rw(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var mu=class extends ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Zn(e);return new Yi(n,this.ngModule)}};function Mw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function YO(t){let e=t.toLowerCase();return e==="svg"?mE:e==="math"?PN:null}var Kf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bu(r);let i=this.injector.get(e,cf,r);return i!==cf||n===cf?i:this.parentInjector.get(e,n,r)}},Yi=class extends pu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Mw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Mw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Kf(e,s):e,a=o.get(mo,null);if(a===null)throw new A(407,!1);let c=o.get(QP,null),u=o.get(Kp,null),l=o.get(Pf,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?sO(h,r,this.componentDef.encapsulation,o):kp(h,p,YO(p)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let v=null;g!==null&&(v=Bp(g,o,!0));let D=Hp(0,null,null,1,0,null,null,null,null,null,null),$=Fu(null,D,null,_,null,null,d,h,o,null,v);Dp($);let X,oe;try{let ve=this.componentDef,ae,dt=null;ve.findHostDirectiveDefs?(ae=[],dt=new Map,ve.findHostDirectiveDefs(ve,ae,dt),ae.push(ve)):ae=[ve];let $n=JO($,g),Sr=ZO($n,g,ve,ae,$,d,h);oe=Ip(D,Ge),g&&tk(h,ve,g,r),n!==void 0&&nk(oe,this.ngContentSelectors,n),X=ek(Sr,ve,ae,dt,$,[rk]),Qp(D,$,null)}finally{Tp()}return new Qf(this.componentType,X,Xi(oe,$),$,oe)}},Qf=class extends Ff{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new jr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;qp(s[F],s,i,e,n),this.previousInputValues.set(e,n);let o=nr(this._tNode.index,s);zp(o)}}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function JO(t,e){let n=t[F],r=Ge;return t[r]=e,Lu(n,r,2,"#host",null)}function ZO(t,e,n,r,i,s,o){let a=i[F];XO(r,t,e,o);let c=null;e!==null&&(c=Bp(e,i[Gi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Fu(i,UD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Vf(a,t,r.length-1),Vu(i,d),i[t.index]=d}function XO(t,e,n,r){for(let i of t)e.mergedAttrs=ao(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Wf(e,e.mergedAttrs,!0),n!==null&&pD(r,n,e))}function ek(t,e,n,r,i,s){let o=at(),a=i[F],c=_t(o,i);$D(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Lr(i,a,d,o);Ur(h,i)}HD(a,i,o),c&&Ur(c,i);let u=Lr(i,a,o.directiveStart+o.componentOffset,o);if(t[ze]=i[ze]=u,s!==null)for(let l of s)l(u,e);return FD(a,o,t),u}function tk(t,e,n,r){if(r)wf(t,n,["ng-version","17.1.2"]);else{let{attrs:i,classes:s}=bN(e.selectors[0]);i&&wf(t,n,i),s&&s.length>0&&fD(t,n,s.join(" "))}}function nk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function rk(){let t=at();bp(te()[F],t)}function ik(t){return Object.getPrototypeOf(t.prototype).constructor}function Vt(t){let e=ik(t.type),n=!0,r=[t];for(;e;){let i;if(Xn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=qc(t.inputs),o.inputTransforms=qc(t.inputTransforms),o.declaredInputs=qc(t.declaredInputs),o.outputs=qc(t.outputs);let a=i.hostBindings;a&&uk(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&ak(t,c),u&&ck(t,u),sk(t,i),QM(t.outputs,i.outputs),Xn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Vt&&(n=!1)}}e=Object.getPrototypeOf(e)}ok(r)}function sk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ok(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ao(i.hostAttrs,n=ao(n,i.hostAttrs))}}function qc(t){return t===zi?{}:t===gt?[]:t}function ak(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ck(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function uk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Yp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}function XD(t){let e=t[lo]??[],r=t[Me][Ie];for(let i of e)lk(i,r);t[lo]=gt}function lk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[fu];for(;n<i;){let s=r.nextSibling;dD(e,r,!1),r=s,n++}}}function eT(t){XD(t);for(let e=Ve;e<t.length;e++)yu(t[e])}function yu(t){let e=t[F];for(let n=Ge;n<e.bindingStartIndex;n++)if(Xt(t[n])){let r=t[n];eT(r)}else En(t[n])&&yu(t[n])}function dk(t){let e=t._views;for(let n of e){let r=jP(n);if(r!==null&&r[mt]!==null)if(En(r))yu(r);else{let i=r[mt];yu(i),eT(r)}}}var hk=new RegExp(`^(\\d+)*(${_D}|${vD})*(.*)`);function fk(t){let e=t.match(hk),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[o,...a]}function pk(t){return!t.prev&&t.parent?.type===8}function df(t){return t.index-Ge}function Uu(t,e,n,r){let i=null,s=df(r),o=t.data[OP];if(o?.[s])i=mk(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(pk(r)){let u=df(r.parent);i=kf(t,u)}else{let u=_t(c,n);if(a)i=u.firstChild;else{let l=df(c),d=kf(t,l);if(c.type===2&&d){let p=$p(t,l)+1;i=ju(p,d)}else i=u.nextSibling}}}return i}function ju(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function gk(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Of.FirstChild:n=n.firstChild;break;case Of.NextSibling:n=n.nextSibling;break}}return n}function mk(t,e){let[n,...r]=fk(t),i;if(n===vD)i=e[yt][mt];else if(n===_D)i=zx(e[yt][mt]);else{let s=Number(n);i=kt(e[s+Ge])}return gk(i,r)}function yk(t,e){let n=[];for(let r of e)for(let i=0;i<(r[ID]??1);i++){let s={data:r,firstChild:null};r[fu]>0&&(s.firstChild=t,t=ju(r[fu],t)),n.push(s)}return[t,n]}var tT=()=>null;function vk(t,e){let n=t[lo];return!e||n===null||n.length===0?null:n[0].data[PP]===e?n.shift():(XD(t),null)}function _k(){tT=vk}function yo(t,e){return tT(t,e)}function Bu(t,e,n,r){let i=e.tView,o=t[O]&4096?4096:16,a=Fu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Do]=c;let u=t[Qt];return u!==null&&(a[Qt]=u.createEmbeddedView(i)),Qp(i,a,n),a}function nT(t,e){let n=Ve+e;if(n<t.length)return t[n]}function vo(t,e){return!e||e.firstChild===null||lu(t)}function $u(t,e,n,r=!0){let i=e[F];if(cP(i,e,t,n),r){let o=xf(n,t),a=e[Ie],c=Fp(a,t[Tn]);c!==null&&oP(i,t[Ft],a,e,c,o)}let s=e[Jt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function rT(t,e){let n=go(t,e);return n!==void 0&&Mu(n[F],n),n}var ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ik;let t=e;return t})();function Ik(){let t=at();return sT(t,te())}var wk=ts,iT=class extends wk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Xi(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ap(this._hostTNode,this._hostLView);if(kE(e)){let n=su(e,this._hostLView),r=iu(e),i=n[F].data[r+8];return new Pr(i,n)}else return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Nw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ve}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=yo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,vo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Ix(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Yi(Zn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(vt,null);_&&(s=_)}let l=Zn(c.componentType??{}),d=yo(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,vo(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Me],u=new iT(c,c[Ft],c[Me]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return $u(o,i,s,r),e.attachToViewContainerRef(),zE(hf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Nw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=go(this._lContainer,n);r&&(au(hf(this._lContainer),n),Mu(r[F],r))}detach(e){let n=this._adjustIndex(e,-1),r=go(this._lContainer,n);return r&&au(hf(this._lContainer),n)!=null?new jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Nw(t){return t[nu]}function hf(t){return t[nu]||(t[nu]=[])}function sT(t,e){let n,r=e[t.index];return Xt(r)?n=r:(n=qD(r,e,null,t),e[t.index]=n,Vu(e,n)),oT(n,e,t,r),new iT(n,t,e)}function Ek(t,e){let n=t[Ie],r=n.createComment(""),i=_t(e,t),s=Fp(n,i);return du(n,s,r,gP(n,i),!1),r}var oT=aT,Jp=()=>!1;function Dk(t,e,n){return Jp(t,e,n)}function aT(t,e,n,r){if(t[Tn])return;let i;n.type&8?i=kt(r):i=Ek(e,n),t[Tn]=i}function Tk(t,e,n){if(t[Tn]&&t[lo])return!0;let r=n[Jt],i=e.index-Ge;if(!r||Kx(e)||Ou(r,i))return!1;let o=kf(r,i),a=r.data[jp]?.[i],[c,u]=yk(o,a);return t[Tn]=c,t[lo]=u,!0}function Ck(t,e,n,r){Jp(t,n,e)||aT(t,e,n,r)}function bk(){oT=Ck,Jp=Tk}function cT(t,e,n){return t[e]=n}function Ak(t,e){return t[e]}function er(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Sk(t,e,n,r){let i=er(t,e,n);return er(t,e+1,r)||i}function Rk(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Lu(e,t,4,o||null,ru(u,a));BD(e,n,l,ru(u,c)),bp(e,l);let d=l.tView=Hp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Yf(t,e,n,r,i,s,o,a){let c=te(),u=It(),l=t+Ge,d=u.firstCreatePass?Rk(l,u,c,e,n,r,i,s,o):u.data[l];bo(d,!1);let h=uT(u,c,d,t);Cp()&&Lp(u,c,h,d),Ur(h,c);let p=qD(h,c,h,d);return c[l]=p,Vu(c,p),Dk(p,d,c),_p(d)&&LD(u,c,d),o!=null&&VD(c,d,a),Yf}var uT=lT;function lT(t,e,n,r){return rr(!0),e[Ie].createComment("")}function Mk(t,e,n,r){let i=e[Jt],s=!i||Co()||Ou(i,r);if(rr(s),s)return lT(t,e,n,r);let o=i.data[xP]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Uu(i,t,e,n);Pu(i,r,a);let c=$p(i,r);return ju(c,a)}function Nk(){uT=Mk}function xo(t,e,n,r){let i=te(),s=Ao();if(er(i,s,e)){let o=It(),a=NE();CO(a,i,t,e,n,r)}return xo}function xk(t,e,n,r){return er(t,Ao(),n)?e+Tu(n)+r:sr}function zc(t,e){return t<<17|e<<2}function Br(t){return t>>17&32767}function Pk(t){return(t&2)==2}function Ok(t,e){return t&131071|e<<17}function Jf(t){return t|2}function Ji(t){return(t&131068)>>2}function ff(t,e){return t&-131069|e<<2}function kk(t){return(t&1)===1}function Zf(t){return t|1}function Fk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Br(o),c=Ji(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||So(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Br(t[a+1]);t[r+1]=zc(h,a),h!==0&&(t[h+1]=ff(t[h+1],r)),t[a+1]=Ok(t[a+1],r)}else t[r+1]=zc(a,0),a!==0&&(t[a+1]=ff(t[a+1],r)),a=r;else t[r+1]=zc(c,0),a===0?a=r:t[c+1]=ff(t[c+1],r),c=r;u&&(t[r+1]=Jf(t[r+1])),xw(t,l,r,!0),xw(t,l,r,!1),Lk(e,l,t,r,s),o=zc(a,c),s?e.classBindings=o:e.styleBindings=o}function Lk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&So(s,e)>=0&&(n[r+1]=Zf(n[r+1]))}function xw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Br(i):Ji(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];Vk(c,e)&&(a=!0,t[o+1]=r?Zf(u):Jf(u)),o=r?Br(u):Ji(u)}a&&(t[n+1]=r?Jf(i):Zf(i))}function Vk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?So(t,e)>=0:!1}function Uk(t,e,n){let r=te(),i=Ao();if(er(r,i,e)){let s=It(),o=NE();fO(s,o,r,t,e,r[Ie],n,!1)}return Uk}function Pw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";qp(t,n,s[o],o,r)}function Hu(t,e){return jk(t,e,null,!0),Hu}function jk(t,e,n,r){let i=te(),s=It(),o=YN(2);if(s.firstUpdatePass&&$k(s,t,o,r),e!==sr&&er(i,o,e)){let a=s.data[$r()];Wk(s,a,i,i[Ie],t,i[o+1]=Kk(e,n),r,o)}}function Bk(t,e){return e>=t.expandoStartIndex}function $k(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[$r()],o=Bk(t,n);Qk(s,r)&&e===null&&!o&&(e=!1),e=Hk(i,s,e,r),Fk(i,s,e,n,o,r)}}function Hk(t,e,n,r){let i=ex(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=pf(null,t,e,n,r),n=_o(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=pf(i,t,e,n,r),s===null){let c=qk(t,e,r);c!==void 0&&Array.isArray(c)&&(c=pf(null,t,e,c[1],r),c=_o(c,e.attrs,r),zk(t,e,r,c))}else s=Gk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function qk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ji(r)!==0)return t[Br(r)]}function zk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Br(i)]=r}function Gk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=_o(r,o,n)}return _o(r,e.attrs,n)}function pf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=_o(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function _o(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Tx(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Wk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=kk(u)?Ow(c,e,n,i,Ji(u),o):void 0;if(!vu(l)){vu(s)||Pk(u)&&(s=Ow(c,null,n,i,a,o));let d=yE($r(),n);wP(r,o,d,i,s)}}function Ow(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===sr&&(h=d?gt:void 0);let p=d?rf(h,r):l===r?h:void 0;if(u&&!vu(p)&&(p=rf(c,r)),vu(p)&&(a=p,o))return a;let g=t[i+1];i=o?Br(g):Ji(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=rf(c,r))}return a}function vu(t){return t!==void 0}function Kk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ot(No(t)))),t}function Qk(t,e){return(t.flags&(e?8:16))!==0}var Xf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function gf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Yk(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=gf(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],p=gf(o,d,a,h,n);if(p!==0){p<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),_=n(o,d),v=n(s,u);if(Object.is(v,_)){let D=n(a,h);Object.is(D,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new _u,i??=Fw(t,s,o,n),ep(t,r,s,v))t.updateValue(s,u),s++,o++;else if(i.has(v))r.set(g,t.detach(s)),o--;else{let D=t.create(s,e[s]);t.attach(s,D),s++,o++}}for(;s<=a;)kw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=gf(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new _u,i??=Fw(t,s,o,n);let h=n(s,l);if(ep(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let p=n(s,u);r.set(p,t.detach(s)),o--}}}for(;!c.done;)kw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function ep(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function kw(t,e,n,r,i){if(ep(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Fw(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var _u=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function X6(t,e,n){or("NgControlFlow");let r=te(),i=Ao(),s=ip(r,Ge+t),o=0;if(er(r,i,e)){let a=Fe(null);try{if(rT(s,o),e!==-1){let c=sp(r[F],Ge+e),u=yo(s,c.tView.ssrId),l=Bu(r,c,n,{dehydratedView:u});$u(s,l,o,vo(c,u))}}finally{Fe(a)}}else{let a=nT(s,o);a!==void 0&&(a[ze]=n)}}var tp=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ve}};function e5(t,e){return e}var np=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function t5(t,e,n,r,i,s,o,a,c,u,l,d,h){or("NgControlFlow");let p=c!==void 0,g=te(),_=a?o.bind(g[yt][ze]):o,v=new np(p,_);g[Ge+t]=v,Yf(t+1,e,n,r,i,s),p&&Yf(t+2,c,u,l,d,h)}var rp=class extends Xf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ve}at(e){return this.getLView(e)[ze].$implicit}attach(e,n){let r=n[Jt];this.needsIndexUpdate||=e!==this.length,$u(this.lContainer,n,e,vo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Jk(this.lContainer,e)}create(e,n){let r=yo(this.lContainer,this.templateTNode.tView.ssrId);return Bu(this.hostLView,this.templateTNode,new tp(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Mu(e[F],e)}updateValue(e,n){this.getLView(e)[ze].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ze].$index=e}getLView(e){return Zk(this.lContainer,e)}};function n5(t){let e=Fe(null),n=$r();try{let r=te(),i=r[F],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=ip(r,a),u=sp(i,a);s.liveCollection=new rp(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(Yk(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Ao(),c=o.length===0;if(er(r,a,c)){let u=n+2,l=ip(r,u);if(c){let d=sp(i,u),h=yo(l,d.tView.ssrId),p=Bu(r,d,void 0,{dehydratedView:h});$u(l,p,0,vo(d,h))}else rT(l,0)}}}finally{Fe(e)}}function ip(t,e){return t[e]}function Jk(t,e){return go(t,e)}function Zk(t,e){return nT(t,e)}function sp(t,e){return Ip(t,e)}function Xk(t,e,n,r,i,s){let o=e.consts,a=ru(o,i),c=Lu(e,t,2,r,a);return BD(e,n,c,ru(o,s)),c.attrs!==null&&Wf(c,c.attrs,!1),c.mergedAttrs!==null&&Wf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function dT(t,e,n,r){let i=te(),s=It(),o=Ge+t,a=i[Ie],c=s.firstCreatePass?Xk(o,s,i,e,n,r):s.data[o],u=fT(s,i,c,a,e,t);i[o]=u;let l=_p(c);return bo(c,!0),pD(a,u,c),(c.flags&32)!==32&&Cp()&&Lp(s,i,u,c),BN()===0&&Ur(u,i),$N(),l&&(LD(s,i,c),FD(s,c,i)),r!==null&&VD(i,c),dT}function hT(){let t=at();DE()?KN():(t=t.parent,bo(t,!1));let e=t;qN(e)&&GN(),HN();let n=It();return n.firstCreatePass&&(bp(n,t),lE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ax(e)&&Pw(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&cx(e)&&Pw(n,e,te(),e.stylesWithoutHost,!1),hT}function Zp(t,e,n,r){return dT(t,e,n,r),hT(),Zp}var fT=(t,e,n,r,i,s)=>(rr(!0),kp(r,i,xE()));function e1(t,e,n,r,i,s){let o=e[Jt],a=!o||Co()||Ou(o,s);if(rr(a),a)return kp(r,i,xE());let c=Uu(o,t,e,n);return DD(o,s)&&Pu(o,s,c.nextSibling),o&&(nD(n)||rD(c))&&To(n)&&(zN(n),hD(c)),c}function t1(){fT=e1}var n1=(t,e,n,r)=>(rr(!0),oD(e[Ie],""));function r1(t,e,n,r){let i,s=e[Jt],o=!s||Co();if(rr(o),o)return oD(e[Ie],"");let a=Uu(s,t,e,n),c=HP(s,r);return Pu(s,r,a),i=ju(c,a),i}function i1(){n1=r1}function r5(){return te()}var Iu="en-US";var s1=Iu;function o1(t){rN(t,"Expected localeId to be defined"),typeof t=="string"&&(s1=t.toLowerCase().replace(/_/g,"-"))}function qr(t){return!!t&&typeof t.then=="function"}function pT(t){return!!t&&typeof t.subscribe=="function"}function ar(t,e,n,r){let i=te(),s=It(),o=at();return c1(s,i,i[Ie],o,t,e,r),ar}function a1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[co],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function c1(t,e,n,r,i,s,o){let a=_p(r),u=t.firstCreatePass&&WD(t),l=e[ze],d=GD(e),h=!0;if(r.type&3||o){let _=_t(r,e),v=o?o(_):_,D=d.length,$=o?oe=>o(kt(oe[r.index])):r.index,X=null;if(!o&&a&&(X=a1(t,e,i,r.index)),X!==null){let oe=X.__ngLastListenerFn__||X;oe.__ngNextListenerFn__=s,X.__ngLastListenerFn__=s,h=!1}else{s=Vw(r,e,l,s,!1);let oe=n.listen(v,i,s);d.push(s,oe),u&&u.push(i,$,D,D+1)}}else s=Vw(r,e,l,s,!1);let p=r.outputs,g;if(h&&p!==null&&(g=p[i])){let _=g.length;if(_)for(let v=0;v<_;v+=2){let D=g[v],$=g[v+1],ve=e[D][$].subscribe(s),ae=d.length;d.push(s,ve),u&&u.push(i,r.index,ae,-(ae+1))}}}function Lw(t,e,n,r){try{return Wt(6,e,n),n(r)!==!1}catch(i){return KD(t,i),!1}finally{Wt(7,e,n)}}function Vw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?nr(t.index,e):e;zp(a);let c=Lw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Lw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function i5(t=1){return nx(t)}function u1(){return this._results[Symbol.iterator]()}var op=class t{get changes(){return this._changes??=new fe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=u1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Ex(e);(this._changesDetected=!wx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Io=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=h1;let t=e;return t})(),l1=Io,d1=class extends l1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Bu(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new jr(i)}};function h1(){return qu(at(),te())}function qu(t,e){return t.type&4?new d1(e,t,Xi(t,e)):null}var ap=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)mT(e,n).matches!==null&&this.queries[n].setDirty()}},up=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},lp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},dp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,f1(n,s)),this.matchTNodeWithReadOption(e,n,Yc(n,e,s,!1,!1))}else r===Io?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Yc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===et||i===ts||i===Io&&n.type&4)this.addMatch(n.index,-2);else{let s=Yc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function f1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function p1(t,e){return t.type&11?Xi(t,e):t.type&4?qu(t,e):null}function g1(t,e,n,r){return n===-1?p1(e,t):n===-2?m1(t,e,r):Lr(t,t[F],n,e)}function m1(t,e,n){if(n===et)return Xi(e,t);if(n===Io)return qu(e,t);if(n===ts)return sT(e,t)}function gT(t,e,n,r){let i=e[Qt].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(g1(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function hp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=gT(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=Ve;d<l.length;d++){let h=l[d];h[Do]===h[Me]&&hp(h[F],h,u,r)}if(l[Wi]!==null){let d=l[Wi];for(let h=0;h<d.length;h++){let p=d[h];hp(p[F],p,u,r)}}}}}return r}function y1(t,e){return t[Qt].queries[e].queryList}function v1(t,e,n){let r=new op((n&4)===4);uO(t,e,r,r.destroy),e[Qt]===null&&(e[Qt]=new cp),e[Qt].queries.push(new ap(r))}function _1(t,e,n){t.queries===null&&(t.queries=new lp),t.queries.track(new dp(e,n))}function I1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function mT(t,e){return t.queries.getByIndex(e)}function yT(t,e,n,r){let i=It();if(i.firstCreatePass){let s=at();_1(i,new up(e,n,r),s.index),I1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}v1(i,te(),n)}function vT(t){let e=te(),n=It(),r=CE();Ep(r+1);let i=mT(n,r);if(t.dirty&&FN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?hp(n,e,r,[]):gT(n,e,i,r);t.reset(s,WP),t.notifyOnChanges()}return!0}return!1}function _T(){return y1(te(),CE())}function o5(t,e=""){let n=te(),r=It(),i=t+Ge,s=r.firstCreatePass?Lu(r,i,1,e,null):r.data[i],o=IT(r,n,s,e,t);n[i]=o,Cp()&&Lp(r,n,o,s),bo(s,!1)}var IT=(t,e,n,r,i)=>(rr(!0),sD(e[Ie],r));function w1(t,e,n,r,i){let s=e[Jt],o=!s||Co()||Ou(s,i);return rr(o),o?sD(e[Ie],r):Uu(s,t,e,n)}function E1(){IT=w1}function D1(t){return wT("",t,""),D1}function wT(t,e,n){let r=te(),i=xk(r,t,e,n);return i!==sr&&RO(r,$r(),i),wT}function T1(t,e,n){let r=It();if(r.firstCreatePass){let i=Xn(t);fp(n,r.data,r.blueprint,i,!0),fp(e,r.data,r.blueprint,i,!1)}}function fp(t,e,n,r,i){if(t=Je(t),Array.isArray(t))for(let s=0;s<t.length;s++)fp(t[s],e,n,r,i);else{let s=It(),o=te(),a=at(),c=Qi(t)?t:Je(t.provide),u=ZE(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Qi(t)||!t.multi){let p=new Fr(u,i,z),g=yf(c,e,i?l:l+h,d);g===-1?(bf(ou(a,o),s,c),mf(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[g]=p,o[g]=p)}else{let p=yf(c,e,l+h,d),g=yf(c,e,l,l+h),_=p>=0&&n[p],v=g>=0&&n[g];if(i&&!v||!i&&!_){bf(ou(a,o),s,c);let D=A1(i?b1:C1,n.length,i,r,u);!i&&v&&(n[g].providerFactory=D),mf(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=ET(n[i?g:p],u,!i&&r);mf(s,t,p>-1?p:g,D)}!i&&r&&v&&n[g].componentProviders++}}}function mf(t,e,n,r){let i=Qi(e),s=Fx(e);if(i||s){let c=(s?Je(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ET(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function yf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function C1(t,e,n,r){return pp(this.multi,[])}function b1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Lr(n,n[F],this.providerFactory.index,r);s=a.slice(0,o),pp(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],pp(i,s);return s}function pp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function A1(t,e,n,r,i){let s=new Fr(t,n,z);return s.multi=[],s.index=e,s.componentProviders=0,ET(s,i,r&&!n),s}function zr(t,e=[]){return n=>{n.providersResolver=(r,i)=>T1(r,i?i(t):t,e)}}var tr=class{},wo=class{};var wu=class extends tr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mu(this);let i=sE(e);this._bootstrapComponents=tD(i.bootstrap),this._r3Injector=XE(e,n,[{provide:tr,useValue:this},{provide:ku,useValue:this.componentFactoryResolver},...r],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Eu=class extends wo{constructor(e){super(),this.moduleType=e}create(e){return new wu(this.moduleType,e,[])}};function S1(t,e,n){return new wu(t,e,n)}var gp=class extends tr{constructor(e){super(),this.componentFactoryResolver=new mu(this),this.instance=null;let n=new po([...e.providers,{provide:tr,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],e.parent||Np(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zu(t,e,n=null){return new gp({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var R1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=QE(!1,r.type),s=i.length>0?zu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(S(vt))});let t=e;return t})();function DT(t){or("NgStandalone"),t.getStandaloneInjector=e=>e.get(R1).getOrCreateStandaloneInjector(t)}function a5(t,e,n){let r=TE()+t,i=te();return i[r]===sr?cT(i,r,n?e.call(n):e()):Ak(i,r)}function c5(t,e,n,r,i){return N1(te(),TE(),t,e,n,r,i)}function M1(t,e){let n=t[e];return n===sr?void 0:n}function N1(t,e,n,r,i,s,o){let a=e+n;return Sk(t,a,i,s)?cT(t,a+2,o?r.call(o,i,s):r(i,s)):M1(t,a+2)}function u5(t,e){return qu(t,e)}var Gc=null;function x1(t){Gc!==null&&(t.defaultEncapsulation!==Gc.defaultEncapsulation||t.preserveWhitespaces!==Gc.preserveWhitespaces)||(Gc=t)}var bn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},TT=new bn("17.1.2");var Gu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),mp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Wu=(()=>{let e=class e{compileModuleSync(r){return new Eu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=sE(r),o=tD(s.declarations).reduce((a,c)=>{let u=Zn(c);return u&&a.push(new Yi(u)),a},[]);return new mp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),P1=new b("");var Po=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xp=new b(""),Oo=new b(""),Ku=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,eg||(O1(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(S(K),S(Qu),S(Oo))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Qu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return eg?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function O1(t){eg=t}var eg,Yu=new b(""),CT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(Yu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(qr(o))r.push(o);else if(pT(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ns=new b("");function k1(t,e,n){let r=new Eu(n);return Promise.resolve(r)}function F1(){xI(()=>{throw new A(600,!1)})}function L1(t){return t.isBoundToModule}function V1(t,e,n){try{let r=n();return qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function bT(t,e){return Array.isArray(e)?e.reduce(bT,t):T(T({},t),e)}var Rn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(SD),this.afterRenderEffectManager=I(Kp),this.componentTypes=[],this.components=[],this.isStable=I(Po).hasPendingTasks.pipe(H(r=>!r)),this._injector=I(vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof pu;if(!this._injector.get(CT).done){let p=!s&&iE(r),g=!1;throw new A(405,g)}let a;s?a=r:a=this._injector.get(ku).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=L1(a)?void 0:this._injector.get(tr),u=i||a.selector,l=a.create(Ne.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(Xp,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Xc(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Xc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ns,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Uw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Wc;function tg(t){Wc??=new WeakMap;let e=Wc.get(t);if(e)return e;let n=t.isStable.pipe(xt(r=>r)).toPromise().then(()=>{});return Wc.set(t,n),t.onDestroy(()=>Wc?.delete(t)),n}var U1=(()=>{let e=class e{constructor(){this.zone=I(K),this.applicationRef=I(Rn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function j1(t){return[{provide:K,useFactory:t},{provide:Vr,multi:!0,useFactory:()=>{let e=I(U1,{optional:!0});return()=>e.initialize()}},{provide:Vr,multi:!0,useFactory:()=>{let e=I(H1);return()=>{e.initialize()}}},{provide:SD,useFactory:B1}]}function B1(){let t=I(K),e=I(Zt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function $1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var H1=(()=>{let e=class e{constructor(){this.subscription=new _e,this.initialized=!1,this.zone=I(K),this.pendingTasks=I(Po)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q1(){return typeof $localize<"u"&&$localize.locale||Iu}var ng=new b("",{providedIn:"root",factory:()=>I(ng,G.Optional|G.SkipSelf)||q1()});var AT=new b(""),ST=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=zO(i?.ngZone,$1({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=S1(r.moduleType,this.injector,j1(()=>s)),a=o.injector.get(Zt,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Xc(this._modules,o),c.unsubscribe()})}),V1(a,s,()=>{let c=o.injector.get(CT);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(ng,Iu);return o1(u||Iu),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=bT({},i);return k1(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(Rn);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new A(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(AT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(S(Ne))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),so=null,RT=new b("");function z1(t){if(so&&!so.get(RT,!1))throw new A(400,!1);F1(),so=t;let e=t.get(ST);return K1(t),e}function rg(t,e,n=[]){let r=`Platform: ${e}`,i=new b(r);return(s=[])=>{let o=MT();if(!o||o.injector.get(RT,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):z1(G1(a,r))}return W1(i)}}function G1(t=[],e){return Ne.create({name:e,providers:[{provide:Su,useValue:"platform"},{provide:AT,useValue:new Set([()=>so=null])},...t]})}function W1(t){let e=MT();if(!e)throw new A(401,!1);return e}function MT(){return so?.get(ST)??null}function K1(t){t.get(xp,null)?.forEach(n=>n())}var NT=rg(null,"core",[]),xT=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(S(Rn))},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})();var jw=!1;function Q1(){jw||(jw=!0,UP(),t1(),E1(),i1(),Nk(),bk(),_k(),cO())}function Y1(t,e){return tg(t)}function PT(){return Ro([{provide:Hc,useFactory:()=>{let t=!0;return ro()&&(t=!!I(Hr,{optional:!0})?.get(wD,null)),t&&or("NgHydration"),t}},{provide:Vr,useValue:()=>{ro()&&I(Hc)&&(J1(),Q1())},multi:!0},{provide:MD,useFactory:()=>ro()&&I(Hc)},{provide:ns,useFactory:()=>{if(ro()&&I(Hc)){let t=I(Rn),e=I(Ne);return()=>{Y1(t,e).then(()=>{K.assertInAngularZone(),dk(t)})}}return()=>{}},multi:!0}])}function J1(){let t=Ru(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===LP){e=n;break}if(!e)throw new A(-507,!1)}function rs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function OT(t){let e=Zn(t);if(!e)return null;let n=new Yi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var VT=null;function tn(){return VT}function UT(t){VT??=t}var Ju=class{},ut=new b(""),ag=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(Z1),providedIn:"platform"});let t=e;return t})(),jT=new b(""),Z1=(()=>{let e=class e extends ag{constructor(){super(),this._doc=I(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(r){let i=tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function cg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function kT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Nn(t){return t&&t[0]!=="?"?"?"+t:t}var xn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(ug),providedIn:"root"});let t=e;return t})(),BT=new b(""),ug=(()=>{let e=class e extends xn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return cg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Nn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Nn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Nn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(ag),S(BT,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$T=(()=>{let e=class e extends xn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=cg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Nn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Nn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(ag),S(BT,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),is=(()=>{let e=class e{constructor(r){this._subject=new fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=tF(kT(FT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Nn(i))}normalize(r){return e.stripTrailingSlash(eF(this._basePath,FT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Nn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Nn,e.joinWithSlash=cg,e.stripTrailingSlash=kT,e.\u0275fac=function(i){return new(i||e)(S(xn))},e.\u0275prov=R({token:e,factory:()=>X1(),providedIn:"root"});let t=e;return t})();function X1(){return new is(S(xn))}function eF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function FT(t){return t.replace(/\/index.html$/,"")}function tF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function HT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ig=/\s+/,LT=[],F5=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=LT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(ig):LT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(ig):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(ig).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(z(et),z(Lt))},e.\u0275dir=we({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ue.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var qT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})(),lg="browser",nF="server";function ss(t){return t===lg}function dg(t){return t===nF}var zT=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>ss(I(ct))?new sg(I(ut),window):new og});let t=e;return t})(),sg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=rF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function rF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var og=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Zu=class{};var el=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ZT=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ZT||{}),hg=class{constructor(e,n=XT.Ok,r="OK"){this.headers=e.headers||new el,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var tl=class t extends hg{constructor(e={}){super(e),this.type=ZT.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var XT=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(XT||{});var oF=new b("");var GT="b",WT="h",KT="s",QT="st",YT="u",JT="rt",Xu=new b(""),aF=["GET","HEAD"];function cF(t,e){let l=I(Xu),{isCacheActive:n}=l,r=CI(l,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!aF.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=I(Hr),a=lF(t),c=o.get(a,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){let{[GT]:d,[JT]:h,[WT]:p,[KT]:g,[QT]:_,[YT]:v}=c,D=d;switch(h){case"arraybuffer":D=new TextEncoder().encode(d).buffer;break;case"blob":D=new Blob([d]);break}let $=new el(p);return N(new tl({body:D,headers:$,status:g,statusText:_,url:v}))}return e(t).pipe(he(d=>{d instanceof tl&&o.set(a,{[GT]:d.body,[WT]:uF(d.headers,u),[KT]:d.status,[QT]:d.statusText,[YT]:d.url||"",[JT]:t.responseType})}))}function uF(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function lF(t){let{params:e,method:n,responseType:r,url:i}=t,s=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),o=n+"."+r+"."+i+"?"+s,a=dF(o);return a}function dF(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function eC(t){return[{provide:Xu,useFactory:()=>(or("NgHttpTransferCache"),T({isCacheActive:!0},t))},{provide:oF,useValue:cF,multi:!0,deps:[Hr,Xu]},{provide:ns,multi:!0,useFactory:()=>{let e=I(Rn),n=I(Xu);return()=>{tg(e).then(()=>{n.isCacheActive=!1})}}}]}var gg=class extends Ju{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mg=class t extends gg{static makeCurrent(){UT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=hF();return n==null?null:fF(n)}resetBaseElement(){ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return HT(document.cookie,e)}},ko=null;function hF(){return ko=ko||document.querySelector("base"),ko?ko.getAttribute("href"):null}function fF(t){return new URL(t,document.baseURI).pathname}var yg=class{addToWindow(e){Ze.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new A(5103,!1);return s},Ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ze.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ze.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Ze.frameworkStabilizers||(Ze.frameworkStabilizers=[]),Ze.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?tn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},pF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),vg=new b(""),iC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(vg),S(K))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),nl=class{constructor(e){this._doc=e}},fg="ng-app-id",sC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${fg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(fg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(fg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(ut),S(Mo),S(Pp,8),S(ct))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),pg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wg=/%COMP%/g,oC="%COMP%",gF=`_nghost-${oC}`,mF=`_ngcontent-${oC}`,yF=!0,vF=new b("",{providedIn:"root",factory:()=>yF});function _F(t){return mF.replace(wg,t)}function IF(t){return gF.replace(wg,t)}function aC(t,e){return e.map(n=>n.replace(wg,t))}var tC=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=dg(c),this.defaultRenderer=new Fo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Yt.ShadowDom&&(i=ie(T({},i),{encapsulation:Yt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof rl?s.applyToHost(r):s instanceof Lo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Yt.Emulated:o=new rl(u,l,i,this.appId,d,a,c,h);break;case Yt.ShadowDom:return new _g(u,l,r,i,a,c,this.nonce,h);default:o=new Lo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(iC),S(sC),S(Mo),S(vF),S(ut),S(ct),S(K),S(Pp))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Fo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(pg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(nC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(nC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=pg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=pg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function nC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _g=class extends Fo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=aC(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Lo=class extends Fo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?aC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rl=class extends Lo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=_F(u),this.hostAttr=IF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},wF=(()=>{let e=class e extends nl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(ut))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),rC=["alt","control","meta","shift"],EF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TF=(()=>{let e=class e extends nl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),rC.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=EF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),rC.forEach(a=>{if(a!==s){let c=DF[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(ut))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function CF(){mg.makeCurrent()}function bF(){return new Zt}function AF(){return eD(document),document}var SF=[{provide:ct,useValue:lg},{provide:xp,useValue:CF,multi:!0},{provide:ut,useFactory:AF,deps:[]}],l8=rg(NT,"browser",SF),RF=new b(""),MF=[{provide:Oo,useClass:yg,deps:[]},{provide:Xp,useClass:Ku,deps:[K,Qu,Oo]},{provide:Ku,useClass:Ku,deps:[K,Qu,Oo]}],NF=[{provide:Su,useValue:"root"},{provide:Zt,useFactory:bF,deps:[]},{provide:vg,useClass:wF,multi:!0,deps:[ut,K,ct]},{provide:vg,useClass:TF,multi:!0,deps:[ut]},tC,sC,iC,{provide:mo,useExisting:tC},{provide:Zu,useClass:pF,deps:[]},[]],d8=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Mo,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(S(RF,12))},e.\u0275mod=Be({type:e}),e.\u0275inj=je({providers:[...NF,...MF],imports:[qT,xT]});let t=e;return t})();var cC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(ut))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ig=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Ig||{});function h8(...t){let e=[],n=new Set,r=n.has(Ig.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Ro([[],PT(),n.has(Ig.NoHttpTransferCache)||r?[]:eC({}),e])}var _C=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(z(Lt),z(et))},e.\u0275dir=we({type:e});let t=e;return t})(),Cg=(()=>{let e=class e extends _C{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ir(e)))(s||e)}})(),e.\u0275dir=we({type:e,features:[Vt]});let t=e;return t})(),fl=new b("");var PF={provide:fl,useExisting:An(()=>IC),multi:!0};function OF(){let t=tn()?tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var kF=new b(""),IC=(()=>{let e=class e extends _C{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!OF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(z(Lt),z(et),z(kF,8))},e.\u0275dir=we({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ar("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[zr([PF]),Vt]});let t=e;return t})();function cr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function wC(t){return t!=null&&typeof t.length=="number"}var bg=new b(""),EC=new b(""),FF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,uC=class{static min(e){return LF(e)}static max(e){return VF(e)}static required(e){return UF(e)}static requiredTrue(e){return jF(e)}static email(e){return BF(e)}static minLength(e){return $F(e)}static maxLength(e){return DC(e)}static pattern(e){return HF(e)}static nullValidator(e){return ol(e)}static compose(e){return RC(e)}static composeAsync(e){return NC(e)}};function LF(t){return e=>{if(cr(e.value)||cr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function VF(t){return e=>{if(cr(e.value)||cr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function UF(t){return cr(t.value)?{required:!0}:null}function jF(t){return t.value===!0?null:{required:!0}}function BF(t){return cr(t.value)||FF.test(t.value)?null:{email:!0}}function $F(t){return e=>cr(e.value)||!wC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function DC(t){return e=>wC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function HF(t){if(!t)return ol;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(cr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ol(t){return null}function TC(t){return t!=null}function CC(t){return qr(t)?ee(t):t}function bC(t){let e={};return t.forEach(n=>{e=n!=null?T(T({},e),n):e}),Object.keys(e).length===0?null:e}function AC(t,e){return e.map(n=>n(t))}function qF(t){return!t.validate}function SC(t){return t.map(e=>qF(e)?e:n=>e.validate(n))}function RC(t){if(!t)return null;let e=t.filter(TC);return e.length==0?null:function(n){return bC(AC(n,e))}}function MC(t){return t!=null?RC(SC(t)):null}function NC(t){if(!t)return null;let e=t.filter(TC);return e.length==0?null:function(n){let r=AC(n,e).map(CC);return Yh(r).pipe(H(bC))}}function xC(t){return t!=null?NC(SC(t)):null}function lC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function PC(t){return t._rawValidators}function OC(t){return t._rawAsyncValidators}function Eg(t){return t?Array.isArray(t)?t:[t]:[]}function al(t,e){return Array.isArray(t)?t.includes(e):t===e}function dC(t,e){let n=Eg(e);return Eg(t).forEach(i=>{al(n,i)||n.push(i)}),n}function hC(t,e){return Eg(e).filter(n=>!al(t,n))}var cl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},as=class extends cl{get formDirective(){return null}get path(){return null}},jo=class extends cl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ul=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},zF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},R8=ie(T({},zF),{"[class.ng-submitted]":"isSubmitted"}),M8=(()=>{let e=class e extends ul{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(jo,2))},e.\u0275dir=we({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Hu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Vt]});let t=e;return t})(),N8=(()=>{let e=class e extends ul{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(as,10))},e.\u0275dir=we({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Hu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Vt]});let t=e;return t})();var Vo="VALID",il="INVALID",os="PENDING",Uo="DISABLED";function Ag(t){return(pl(t)?t.validators:t)||null}function GF(t){return Array.isArray(t)?MC(t):t||null}function Sg(t,e){return(pl(e)?e.asyncValidators:t)||null}function WF(t){return Array.isArray(t)?xC(t):t||null}function pl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function kC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function FC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}var cs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vo}get invalid(){return this.status===il}get pending(){return this.status==os}get disabled(){return this.status===Uo}get enabled(){return this.status!==Uo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hC(e,this._rawAsyncValidators))}hasValidator(e){return al(this._rawValidators,e)}hasAsyncValidator(e){return al(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=os,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Uo,this.errors=null,this._forEachChild(r=>{r.disable(ie(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vo,this._forEachChild(r=>{r.enable(ie(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vo||this.status===os)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uo:Vo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=os,this._hasOwnPendingAsyncValidator=!0;let n=CC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Uo:this.errors?il:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(os)?os:this._anyControlsHaveStatus(il)?il:Vo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WF(this._rawAsyncValidators)}},ll=class extends cs{constructor(e,n,r){super(Ag(n),Sg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){FC(this,!0,e),Object.keys(e).forEach(r=>{kC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Dg=class extends ll{};var Rg=new b("CallSetDisabledState",{providedIn:"root",factory:()=>gl}),gl="always";function KF(t,e){return[...e.path,t]}function fC(t,e,n=gl){Mg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),YF(t,e),ZF(t,e),JF(t,e),QF(t,e)}function pC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),hl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function dl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function QF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Mg(t,e){let n=PC(t);e.validator!==null?t.setValidators(lC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=OC(t);e.asyncValidator!==null?t.setAsyncValidators(lC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();dl(e._rawValidators,i),dl(e._rawAsyncValidators,i)}function hl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=PC(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=OC(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return dl(e._rawValidators,r),dl(e._rawAsyncValidators,r),n}function YF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LC(t,e)})}function JF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function XF(t,e){t==null,Mg(t,e)}function eL(t,e){return hl(t,e)}function tL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function nL(t){return Object.getPrototypeOf(t.constructor)===Cg}function rL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function iL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===IC?n=s:nL(s)?r=s:i=s}),i||r||n||null}function sL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sl=class extends cs{constructor(e=null,n,r){super(Ag(n),Sg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oL=t=>t instanceof sl;var P8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=we({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var VC=new b("");var aL={provide:as,useExisting:An(()=>cL)},cL=(()=>{let e=class e extends as{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new fe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return fC(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){pC(r.control||null,r,!1),sL(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,rL(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(pC(i||null,r),oL(s)&&(fC(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);XF(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&eL(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mg(this.form,this),this._oldForm&&hl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(z(bg,10),z(EC,10),z(Rg,8))},e.\u0275dir=we({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ar("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Ue.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zr([aL]),Vt,en]});let t=e;return t})();var uL={provide:jo,useExisting:An(()=>lL)},lL=(()=>{let e=class e extends jo{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new fe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=iL(this,o)}ngOnChanges(r){this._added||this._setUpControl(),tL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return KF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(z(as,13),z(bg,10),z(EC,10),z(fl,10),z(VC,8))},e.\u0275dir=we({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ue.None,"formControlName","name"],isDisabled:[Ue.None,"disabled","isDisabled"],model:[Ue.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[zr([uL]),Vt,en]});let t=e;return t})(),dL={provide:fl,useExisting:An(()=>jC),multi:!0};function UC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function hL(t){return t.split(":")[0]}var jC=(()=>{let e=class e extends Cg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=UC(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=hL(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ir(e)))(s||e)}})(),e.\u0275dir=we({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&ar("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[zr([dL]),Vt]});let t=e;return t})(),O8=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(UC(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(z(et),z(Lt),z(jC,9))},e.\u0275dir=we({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),fL={provide:fl,useExisting:An(()=>BC),multi:!0};function yC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function pL(t){return t.split(":")[0]}var BC=(()=>{let e=class e extends Cg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);s.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=pL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ir(e)))(s||e)}})(),e.\u0275dir=we({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&ar("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[zr([fL]),Vt]});let t=e;return t})(),k8=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(yC(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(yC(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(z(et),z(Lt),z(BC,9))},e.\u0275dir=we({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function gL(t){return typeof t=="number"?t:parseInt(t,10)}var mL=(()=>{let e=class e{constructor(){this._validator=ol}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ol,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=we({type:e,features:[en]});let t=e;return t})();var yL={provide:bg,useExisting:An(()=>vL),multi:!0},vL=(()=>{let e=class e extends mL{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=r=>gL(r),this.createValidator=r=>DC(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ir(e)))(s||e)}})(),e.\u0275dir=we({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&xo("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[zr([yL]),Vt]});let t=e;return t})();var $C=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})(),Tg=class extends cs{constructor(e,n,r){super(Ag(n),Sg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){FC(this,!1,e),e.forEach((r,i)=>{kC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var F8=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return vC(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ll(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Dg(s,i)}control(r,i,s){let o={};return this.useNonNullable?(vC(i)?o=i:(o.validators=i,o.asyncValidators=s),new sl(r,ie(T({},o),{nonNullable:!0}))):new sl(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Tg(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof sl)return r;if(r instanceof cs)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var L8=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Rg,useValue:r.callSetDisabledState??gl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({imports:[$C]});let t=e;return t})(),V8=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:VC,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Rg,useValue:r.callSetDisabledState??gl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({imports:[$C]});let t=e;return t})();var B="primary",ta=Symbol("RouteTitle"),kg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fs(t){return new kg(t)}function _L(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function IL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}function nn(t,e){let n=t?Fg(t):void 0,r=e?Fg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ZC(t[i],e[i]))return!1;return!0}function Fg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ZC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function XC(t){return t.length>0?t[t.length-1]:null}function hr(t){return Qh(t)?t:qr(t)?ee(Promise.resolve(t)):N(t)}var wL={exact:tb,subset:nb},eb={exact:EL,subset:DL,ignored:()=>!0};function HC(t,e,n){return wL[n.paths](t.root,e.root,n.matrixParams)&&eb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function EL(t,e){return nn(t,e)}function tb(t,e,n){if(!Wr(t.segments,e.segments)||!vl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tb(t.children[r],e.children[r],n))return!1;return!0}function DL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ZC(t[n],e[n]))}function nb(t,e,n){return rb(t,e,e.segments,n)}function rb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Wr(i,n)||e.hasChildren()||!vl(i,n,r))}else if(t.segments.length===n.length){if(!Wr(t.segments,n)||!vl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Wr(t.segments,i)||!vl(t.segments,i,r)||!t.children[B]?!1:rb(t.children[B],e,s,r)}}function vl(t,e,n){return e.every((r,i)=>eb[n](t[i].parameters,r.parameters))}var ur=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fs(this.queryParams),this._queryParamMap}toString(){return bL.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _l(this)}},Gr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=fs(this.parameters),this._parameterMap}toString(){return sb(this)}};function TL(t,e){return Wr(t,e)&&t.every((n,r)=>nn(n.parameters,e[r].parameters))}function Wr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function CL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===B&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==B&&(n=n.concat(e(i,r)))}),n}var na=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new Wo,providedIn:"root"});let t=e;return t})(),Wo=class{parse(e){let n=new Vg(e);return new ur(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Bo(e.root,!0)}`,r=RL(e.queryParams),i=typeof e.fragment=="string"?`#${AL(e.fragment)}`:"";return`${n}${r}${i}`}},bL=new Wo;function _l(t){return t.segments.map(e=>sb(e)).join("/")}function Bo(t,e){if(!t.hasChildren())return _l(t);if(e){let n=t.children[B]?Bo(t.children[B],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==B&&r.push(`${i}:${Bo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=CL(t,(r,i)=>i===B?[Bo(t.children[B],!1)]:[`${i}:${Bo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[B]!=null?`${_l(t)}/${n[0]}`:`${_l(t)}/(${n.join("//")})`}}function ib(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ml(t){return ib(t).replace(/%3B/gi,";")}function AL(t){return encodeURI(t)}function Lg(t){return ib(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Il(t){return decodeURIComponent(t)}function qC(t){return Il(t.replace(/\+/g,"%20"))}function sb(t){return`${Lg(t.path)}${SL(t.parameters)}`}function SL(t){return Object.entries(t).map(([e,n])=>`;${Lg(e)}=${Lg(n)}`).join("")}function RL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ml(n)}=${ml(i)}`).join("&"):`${ml(n)}=${ml(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ML=/^[^\/()?;#]+/;function Ng(t){let e=t.match(ML);return e?e[0]:""}var NL=/^[^\/()?;=#]+/;function xL(t){let e=t.match(NL);return e?e[0]:""}var PL=/^[^=?&#]+/;function OL(t){let e=t.match(PL);return e?e[0]:""}var kL=/^[^&#]+/;function FL(t){let e=t.match(kL);return e?e[0]:""}var Vg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[B]=new re(e,n)),r}parseSegment(){let e=Ng(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Gr(Il(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=xL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ng(this.remaining);i&&(r=i,this.capture(r))}e[Il(n)]=Il(r)}parseQueryParam(e){let n=OL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=FL(this.remaining);o&&(r=o,this.capture(r))}let i=qC(n),s=qC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ng(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=B);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[B]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function ob(t){return t.segments.length>0?new re([],{[B]:t}):t}function ab(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ab(i);if(r===B&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new re(t.segments,e);return LL(n)}function LL(t){if(t.numberOfChildren===1&&t.children[B]){let e=t.children[B];return new re(t.segments.concat(e.segments),e.children)}return t}function ps(t){return t instanceof ur}function VL(t,e,n=null,r=null){let i=cb(t);return ub(i,e,n,r)}function cb(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ob(r);return e??i}function ub(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xg(i,i,i,n,r);let s=UL(e);if(s.toRoot())return xg(i,i,new re([],{}),n,r);let o=jL(s,i,t),a=o.processChildren?qo(o.segmentGroup,o.index,s.commands):db(o.segmentGroup,o.index,s.commands);return xg(i,o.segmentGroup,a,n,r)}function wl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ko(t){return typeof t=="object"&&t!=null&&t.outlets}function xg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=lb(t,e,n);let a=ob(ab(o));return new ur(a,s,i)}function lb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=lb(s,e,n)}),new re(t.segments,r)}var El=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wl(r[0]))throw new A(4003,!1);let i=r.find(Ko);if(i&&i!==XC(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new El(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new El(n,e,r)}var ds=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function jL(t,e,n){if(t.isAbsolute)return new ds(e,!0,0);if(!n)return new ds(e,!1,NaN);if(n.parent===null)return new ds(n,!0,0);let r=wl(t.commands[0])?0:1,i=n.segments.length-1+r;return BL(n,i,t.numberOfDoubleDots)}function BL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new ds(r,!1,i-s)}function $L(t){return Ko(t[0])?t[0].outlets:{[B]:t}}function db(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return qo(t,e,n);let r=HL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[B]=new re(t.segments.slice(r.pathIndex),t.children),qo(s,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?Ug(t,e,n):r.match?qo(t,0,i):Ug(t,e,n)}function qo(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=$L(n),i={};if(Object.keys(r).some(s=>s!==B)&&t.children[B]&&t.numberOfChildren===1&&t.children[B].segments.length===0){let s=qo(t.children[B],e,n);return new re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=db(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new re(t.segments,i)}}function HL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ko(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!GC(c,u,o))return s;r+=2}else{if(!GC(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ug(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ko(s)){let c=qL(s.outlets);return new re(r,c)}if(i===0&&wl(n[0])){let c=t.segments[e];r.push(new Gr(c.path,zC(n[0]))),i++;continue}let o=Ko(s)?s.outlets[B]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&wl(a)?(r.push(new Gr(o,zC(a))),i+=2):(r.push(new Gr(o,{})),i++)}return new re(r,{})}function qL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ug(new re([],{}),0,r))}),e}function zC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GC(t,e,n){return t==n.path&&nn(e,n.parameters)}var zo="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),St=class{constructor(e,n){this.id=e,this.url=n}},gs=class extends St{constructor(e,n,r="imperative",i=null){super(e,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends St{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(At||{}),Dl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Dl||{}),lr=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},Qo=class extends St{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tl=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jg=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bg=class extends St{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$g=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hg=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qg=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zg=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gg=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wg=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kg=class{constructor(e){this.snapshot=e,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qg=class{constructor(e){this.snapshot=e,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=xe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Yo=class{},Jo=class{constructor(e){this.url=e}};var Yg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ra,this.attachRef=null}},ra=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Yg,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Jg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Zg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Zg(e,this._root).map(n=>n.value)}};function Jg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Jg(t,n);if(r)return r}return null}function Zg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Zg(t,n);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ls(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Al=class extends bl{constructor(e,n){super(e),this.snapshot=n,cm(this,e)}toString(){return this.snapshot.toString()}};function hb(t){let e=zL(t),n=new Le([new Gr("",{})]),r=new Le({}),i=new Le({}),s=new Le({}),o=new Le(""),a=new Kr(n,r,s,o,i,B,t,e.root);return a.snapshot=e.root,new Al(new wt(a,[]),e)}function zL(t){let e={},n={},r={},i="",s=new Zo([],e,r,i,n,B,t,null,{});return new Sl("",new wt(s,[]))}var Kr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(u=>u[ta]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(e=>fs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(e=>fs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function am(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&pb(i)&&(r.resolve[ta]=i.title),r}var Zo=class{get title(){return this.data?.[ta]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Sl=class extends bl{constructor(e,n){super(n),this.url=e,cm(this,n)}toString(){return fb(this._root)}};function cm(t,e){e.value._routerState=t,e.children.forEach(n=>cm(t,n))}function fb(t){let e=t.children.length>0?` { ${t.children.map(fb).join(", ")} } `:"";return`${t.value}${e}`}function Pg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nn(e.params,n.params)||t.paramsSubject.next(n.params),IL(e.url,n.url)||t.urlSubject.next(n.url),nn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Xg(t,e){let n=nn(t.params,e.params)&&TL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Xg(t.parent,e.parent))}function pb(t){return typeof t.title=="string"||t.title===null}var GL=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new fe,this.deactivateEvents=new fe,this.attachEvents=new fe,this.detachEvents=new fe,this.parentContexts=I(ra),this.location=I(ts),this.changeDetector=I(es),this.environmentInjector=I(vt),this.inputBinder=I(Pl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new em(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=we({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[en]});let t=e;return t})(),em=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Kr?this.route:e===ra?this.childContexts:this.parent.get(e,n)}},Pl=new b(""),WC=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=no([i.queryParams,i.params,i.data]).pipe(pt(([o,a,c],u)=>(c=T(T(T({},o),a),c),u===0?N(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=OT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function WL(t,e,n){let r=Xo(t,e._root,n?n._root:void 0);return new Al(r,e)}function Xo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=KL(t,e,n);return new wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Xo(t,a)),o}}let r=QL(e.value),i=e.children.map(s=>Xo(t,s));return new wt(r,i)}}function KL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xo(t,r,i);return Xo(t,r)})}function QL(t){return new Kr(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var gb="ngNavigationCancelingError";function mb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yb(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function yb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gb]=!0,n.cancellationCode=e,n}function YL(t){return vb(t)&&ps(t.url)}function vb(t){return!!t&&t[gb]}var JL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=tE({type:e,selectors:[["ng-component"]],standalone:!0,features:[DT],decls:1,vars:0,template:function(i,s){i&1&&Zp(0,"router-outlet")},dependencies:[GL],encapsulation:2});let t=e;return t})();function ZL(t,e){return t.providers&&!t._injector&&(t._injector=zu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function um(t){let e=t.children&&t.children.map(um),n=e?ie(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=JL),n}function rn(t){return t.outlet||B}function XL(t,e){let n=t.filter(r=>rn(r)===e);return n.push(...t.filter(r=>rn(r)!==e)),n}function ia(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var eV=(t,e,n,r)=>H(i=>(new tm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),tm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ls(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ls(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ls(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ls(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Qg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Pg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ia(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Rl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hs=class{constructor(e,n){this.component=e,this.route=n}};function tV(t,e,n){let r=t._root,i=e?e._root:null;return $o(r,i,n,[r.value])}function nV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ys(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qw(t)?t:e.get(t):r}function $o(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ls(e);return t.children.forEach(o=>{rV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Go(a,n.getContext(o),i)),i}function rV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=iV(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Rl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?$o(t,e,a?a.children:null,r,i):$o(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hs(a.outlet.component,o))}else o&&Go(e,a,i),i.canActivateChecks.push(new Rl(r)),s.component?$o(t,null,a?a.children:null,r,i):$o(t,null,n,r,i);return i}function iV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Wr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wr(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xg(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!Xg(t,e)}}function Go(t,e,n){let r=ls(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Go(o,e.children.getContext(s),n):Go(o,null,n):Go(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new hs(e.outlet.component,i)):n.canDeactivateChecks.push(new hs(null,i)):n.canDeactivateChecks.push(new hs(null,i))}function sa(t){return typeof t=="function"}function sV(t){return typeof t=="boolean"}function oV(t){return t&&sa(t.canLoad)}function aV(t){return t&&sa(t.canActivate)}function cV(t){return t&&sa(t.canActivateChild)}function uV(t){return t&&sa(t.canDeactivate)}function lV(t){return t&&sa(t.canMatch)}function _b(t){return t instanceof In||t?.name==="EmptyError"}var yl=Symbol("INITIAL_VALUE");function ms(){return pt(t=>no(t.map(e=>e.pipe(wn(1),jc(yl)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===yl)return yl;if(n===!1||n instanceof ur)return n}return!0}),st(e=>e!==yl),wn(1)))}function dV(t,e){return De(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(ie(T({},n),{guardsResult:!0})):hV(o,r,i,t).pipe(De(a=>a&&sV(a)?fV(r,s,t,e):N(a)),H(a=>ie(T({},n),{guardsResult:a})))})}function hV(t,e,n,r){return ee(t).pipe(De(i=>vV(i.component,i.route,n,e,r)),xt(i=>i!==!0,!0))}function fV(t,e,n,r){return ee(e).pipe(Kn(i=>Fi(gV(i.route.parent,r),pV(i.route,r),yV(t,i.path,n),mV(t,i.route,n))),xt(i=>i!==!0,!0))}function pV(t,e){return t!==null&&e&&e(new Kg(t)),N(!0)}function gV(t,e){return t!==null&&e&&e(new Gg(t)),N(!0)}function mV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Lc(()=>{let o=ia(e)??n,a=ys(s,o),c=aV(a)?a.canActivate(e,t):Sn(o,()=>a(e,t));return hr(c).pipe(xt())}));return N(i).pipe(ms())}function yV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>nV(o)).filter(o=>o!==null).map(o=>Lc(()=>{let a=o.guards.map(c=>{let u=ia(o.node)??n,l=ys(c,u),d=cV(l)?l.canActivateChild(r,t):Sn(u,()=>l(r,t));return hr(d).pipe(xt())});return N(a).pipe(ms())}));return N(s).pipe(ms())}function vV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=ia(e)??i,u=ys(a,c),l=uV(u)?u.canDeactivate(t,e,n,r):Sn(c,()=>u(t,e,n,r));return hr(l).pipe(xt())});return N(o).pipe(ms())}function _V(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=ys(o,t),c=oV(a)?a.canLoad(e,n):Sn(t,()=>a(e,n));return hr(c)});return N(s).pipe(ms(),Ib(r))}function Ib(t){return vc(he(e=>{if(ps(e))throw mb(t,e)}),H(e=>e===!0))}function IV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=ys(o,t),c=lV(a)?a.canMatch(e,n):Sn(t,()=>a(e,n));return hr(c)});return N(s).pipe(ms(),Ib(r))}var ea=class{constructor(e){this.segmentGroup=e||null}},Ml=class extends Error{constructor(e){super(),this.urlTree=e}};function us(t){return Gt(new ea(t))}function wV(t){return Gt(new A(4e3,!1))}function EV(t){return Gt(yb(!1,At.GuardRejected))}var nm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[B])return wV(e.redirectTo);i=i.children[B]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ml(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ur(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},rm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DV(t,e,n,r,i){let s=lm(t,e,n);return s.matched?(r=ZL(e,r),IV(r,e,n,i).pipe(H(o=>o===!0?s:T({},rm)))):N(s)}function lm(t,e,n){if(e.path==="**")return TV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},rm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_L)(n,t,e);if(!i)return T({},rm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?T(T({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function TV(t){return{matched:!0,parameters:t.length>0?XC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function KC(t,e,n,r){return n.length>0&&AV(t,n,r)?{segmentGroup:new re(e,bV(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&SV(t,n,r)?{segmentGroup:new re(t.segments,CV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function CV(t,e,n,r){let i={};for(let s of n)if(Ol(t,e,s)&&!r[rn(s)]){let o=new re([],{});i[rn(s)]=o}return T(T({},r),i)}function bV(t,e){let n={};n[B]=e;for(let r of t)if(r.path===""&&rn(r)!==B){let i=new re([],{});n[rn(r)]=i}return n}function AV(t,e,n){return n.some(r=>Ol(t,e,r)&&rn(r)!==B)}function SV(t,e,n){return n.some(r=>Ol(t,e,r))}function Ol(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function RV(t,e,n,r){return rn(t)!==r&&(r===B||!Ol(e,n,t))?!1:lm(e,t,n).matched}function MV(t,e,n){return e.length===0&&!t.children[n]}var im=class{};function NV(t,e,n,r,i,s,o="emptyOnly"){return new sm(t,e,n,r,i,o,s).recognize()}var xV=31,sm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new nm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=KC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(n=>{let r=new Zo([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},B,this.rootComponentType,null,{}),i=new wt(r,n),s=new Sl("",i),o=VL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,B).pipe(ft(r=>{if(r instanceof Ml)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ea?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=am(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(H(s=>s instanceof wt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ee(i).pipe(Kn(s=>{let o=r.children[s],a=XL(n,s);return this.processSegmentGroup(e,a,o,s)}),Uc((s,o)=>(s.push(...o),s)),Qn(null),Zh(),De(s=>{if(s===null)return us(r);let o=wb(s);return PV(o),N(o)}))}processSegment(e,n,r,i,s,o){return ee(n).pipe(Kn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ft(c=>{if(c instanceof ea)return N(null);throw c}))),xt(a=>!!a),ft(a=>{if(_b(a))return MV(r,i,s)?N(new im):us(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return RV(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):us(i):us(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=lm(n,i,s);if(!a)return us(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>xV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(De(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=DV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(pt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new Zo(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,kV(r),rn(r),r.component??r._loadedComponent??null,r,FV(r)),{segmentGroup:g,slicedSegments:_}=KC(n,l,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(H(D=>D===null?null:new wt(p,D)));if(c.length===0&&_.length===0)return N(new wt(p,[]));let v=rn(r)===s;return this.processSegment(u,c,g,_,v?B:s,!0).pipe(H(D=>new wt(p,D instanceof wt?[D]:[])))}))):us(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):_V(e,n,r,this.urlSerializer).pipe(De(i=>i?this.configLoader.loadChildren(e,n).pipe(he(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):EV(n))):N({routes:[],injector:e})}};function PV(t){t.sort((e,n)=>e.value.outlet===B?-1:n.value.outlet===B?1:e.value.outlet.localeCompare(n.value.outlet))}function OV(t){let e=t.value.routeConfig;return e&&e.path===""}function wb(t){let e=[],n=new Set;for(let r of t){if(!OV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wb(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!n.has(r))}function kV(t){return t.data||{}}function FV(t){return t.resolve||{}}function LV(t,e,n,r,i,s){return De(o=>NV(t,e,n,r,o.extractedUrl,i,s).pipe(H(({state:a,tree:c})=>ie(T({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function VV(t,e){return De(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Eb(c))o.add(u);let a=0;return ee(o).pipe(Kn(c=>s.has(c)?UV(c,r,t,e):(c.data=am(c,c.parent,t).resolve,N(void 0))),he(()=>a++),Vi(1),De(c=>a===o.size?N(n):Ct))})}function Eb(t){let e=t.children.map(n=>Eb(n)).flat();return[t,...e]}function UV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!pb(i)&&(s[ta]=i.title),jV(s,t,e,r).pipe(H(o=>(t._resolvedData=o,t.data=am(t,t.parent,n).resolve,null)))}function jV(t,e,n,r){let i=Fg(t);if(i.length===0)return N({});let s={};return ee(i).pipe(De(o=>BV(t[o],e,n,r).pipe(xt(),he(a=>{s[o]=a}))),Vi(1),Jh(s),ft(o=>_b(o)?Ct:Gt(o)))}function BV(t,e,n,r){let i=ia(e)??r,s=ys(t,i),o=s.resolve?s.resolve(e,n):Sn(i,()=>s(e,n));return hr(o)}function Og(t){return pt(e=>{let n=t(e);return n?ee(n).pipe(H(()=>e)):N(e)})}var Db=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===B);return i}getResolvedTitleForRoute(r){return r.data[ta]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I($V),providedIn:"root"});let t=e;return t})(),$V=(()=>{let e=class e extends Db{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(cC))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oa=new b("",{providedIn:"root",factory:()=>({})}),Nl=new b(""),dm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Wu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hr(r.loadComponent()).pipe(H(Tb),he(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Li(()=>{this.componentLoaders.delete(r)})),s=new xi(i,()=>new rt).pipe(Ni());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=HV(i,this.compiler,r,this.onLoadEndListener).pipe(Li(()=>{this.childrenLoaders.delete(i)})),a=new xi(o,()=>new rt).pipe(Ni());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HV(t,e,n,r){return hr(t.loadChildren()).pipe(H(Tb),De(i=>i instanceof wo||Array.isArray(i)?N(i):ee(e.compileModuleAsync(i))),H(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Nl,[],{optional:!0,self:!0}).flat()),{routes:o.map(um),injector:s}}))}function qV(t){return t&&typeof t=="object"&&"default"in t}function Tb(t){return qV(t)?t.default:t}var hm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(zV),providedIn:"root"});let t=e;return t})(),zV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cb=new b(""),bb=new b("");function GV(t,e,n){let r=t.get(bb),i=t.get(ut);return t.get(K).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),WV(t))),{onViewTransitionCreated:c}=r;return c&&Sn(t,()=>c({transition:a,from:e,to:n})),o})}function WV(t){return new Promise(e=>{Wp(e,{injector:t})})}var fm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=I(dm),this.environmentInjector=I(vt),this.urlSerializer=I(na),this.rootContexts=I(ra),this.location=I(is),this.inputBindingEnabled=I(Pl,{optional:!0})!==null,this.titleStrategy=I(Db),this.options=I(oa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(hm),this.createViewTransition=I(Cb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new qg(s)),i=s=>this.events.next(new zg(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ie(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Le({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(o=>o.id!==0),H(o=>ie(T({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pt(o=>{this.currentTransition=o;let a=!1,c=!1;return N(o).pipe(he(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ie(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new dr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Dl.IgnoredSameUrlNavigation)),u.resolve(null),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return N(u).pipe(pt(h=>{let p=this.transitions?.getValue();return this.events.next(new gs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Ct:Promise.resolve(h)}),LV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),he(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ie(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Tl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:_,extras:v}=u,D=new gs(h,this.urlSerializer.serialize(p),g,_);this.events.next(D);let $=hb(this.rootComponentType).snapshot;return this.currentTransition=o=ie(T({},u),{targetSnapshot:$,urlAfterRedirects:p,extras:ie(T({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,N(o)}else{let h="";return this.events.next(new dr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Dl.IgnoredByUrlHandlingStrategy)),u.resolve(null),Ct}}),he(u=>{let l=new jg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),H(u=>(this.currentTransition=o=ie(T({},u),{guards:tV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),dV(this.environmentInjector,u=>this.events.next(u)),he(u=>{if(o.guardsResult=u.guardsResult,ps(u.guardsResult))throw mb(this.urlSerializer,u.guardsResult);let l=new Bg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),st(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",At.GuardRejected),!1)),Og(u=>{if(u.guards.canActivateChecks.length)return N(u).pipe(he(l=>{let d=new $g(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),pt(l=>{let d=!1;return N(l).pipe(VV(this.paramsInheritanceStrategy,this.environmentInjector),he({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",At.NoDataFromResolver)}}))}),he(l=>{let d=new Hg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Og(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(he(p=>{d.component=p}),H(()=>{})));for(let p of d.children)h.push(...l(p));return h};return no(l(u.targetSnapshot.root)).pipe(Qn(null),wn(1))}),Og(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ee(d).pipe(H(()=>o)):N(o)}),H(u=>{let l=WL(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ie(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),he(()=>{this.events.next(new Yo)}),eV(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),wn(1),he({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ut(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Xh(this.transitionAbortSubject.pipe(he(u=>{throw u}))),Li(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",At.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ft(u=>{if(c=!0,vb(u))this.events.next(new lr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),YL(u)?this.events.next(new Jo(u.url)):o.resolve(!1);else{this.events.next(new Qo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Ct}))}))}cancelNavigationTransition(r,i,s){let o=new lr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KV(t){return t!==zo}var QV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(YV),providedIn:"root"});let t=e;return t})(),om=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},YV=(()=>{let e=class e extends om{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ir(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ab=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(JV),providedIn:"root"});let t=e;return t})(),JV=(()=>{let e=class e extends Ab{constructor(){super(...arguments),this.location=I(is),this.urlSerializer=I(na),this.options=I(oa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(hm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ur,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof gs)this.stateMemento=this.createStateMemento();else if(r instanceof dr)this.rawUrlTree=i.initialUrl;else if(r instanceof Tl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Yo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof lr&&(r.code===At.GuardRejected||r.code===At.NoDataFromResolver)?this.restoreHistory(i):r instanceof Qo?this.restoreHistory(i,!0):r instanceof Ut&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ir(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ho=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ho||{});function Sb(t,e){t.events.pipe(st(n=>n instanceof Ut||n instanceof lr||n instanceof Qo||n instanceof dr),H(n=>n instanceof Ut||n instanceof dr?Ho.COMPLETE:(n instanceof lr?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?Ho.REDIRECTING:Ho.FAILED),st(n=>n!==Ho.REDIRECTING),wn(1)).subscribe(()=>{e()})}function ZV(t){throw t}var XV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Gu),this.stateManager=I(Ab),this.options=I(oa,{optional:!0})||{},this.pendingTasks=I(Po),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(fm),this.urlSerializer=I(na),this.location=I(is),this.urlHandlingStrategy=I(hm),this._events=new rt,this.errorHandler=this.options.errorHandler||ZV,this.navigated=!1,this.routeReuseStrategy=I(QV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Nl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Pl,{optional:!0}),this.eventsSubscription=new _e,this.isNgZoneEnabled=I(K)instanceof K&&K.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof lr&&i.code!==At.Redirect&&i.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ut)this.navigated=!0;else if(i instanceof Jo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||KV(s.source)};this.scheduleNavigation(a,zo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}nU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=T({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(um),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=cb(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return ub(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ps(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,zo,null,i)}navigate(r,i={skipLocationChange:!1}){return tU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=T({},XV):i===!1?s=T({},eU):s=i,ps(r))return HC(this.currentUrlTree,r,s);let o=this.parseUrl(r);return HC(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return Sb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function nU(t){return!(t instanceof Yo)&&!(t instanceof Jo)}var QC=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:mD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(z(jt),z(Kr),Sp("tabindex"),z(Lt),z(et),z(xn))},e.\u0275dir=we({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ar("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&xo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ue.HasDecoratorInputTransform,"preserveFragment","preserveFragment",rs],skipLocationChange:[Ue.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",rs],replaceUrl:[Ue.HasDecoratorInputTransform,"replaceUrl","replaceUrl",rs],routerLink:"routerLink"},standalone:!0,features:[Yp,en]});let t=e;return t})(),rK=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new fe,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof Ut&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(Wn()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ee(r).pipe(Wn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=rU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(z(jt),z(et),z(Lt),z(es),z(QC,8))},e.\u0275dir=we({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&yT(o,QC,5),i&2){let a;vT(a=_T())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[en]});let t=e;return t})();function rU(t){return!!t.paths}var xl=class{};var iU=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(st(r=>r instanceof Ut),Kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=zu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ee(s).pipe(Wn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=N(null);let o=s.pipe(De(a=>a===null?N(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ee([o,a]).pipe(Wn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(S(jt),S(Wu),S(vt),S(xl),S(dm))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rb=new b(""),sU=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ut?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof dr&&r.code===Dl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Cl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){xD()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function oU(t){return t.routerState.root}function aa(t,e){return{\u0275kind:t,\u0275providers:e}}function aU(){let t=I(Ne);return e=>{let n=t.get(Rn);if(e!==n.components[0])return;let r=t.get(jt),i=t.get(Mb);t.get(pm)===1&&r.initialNavigation(),t.get(Nb,null,G.Optional)?.setUpPreloading(),t.get(Rb,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Mb=new b("",{factory:()=>new rt}),pm=new b("",{providedIn:"root",factory:()=>1});function cU(){return aa(2,[{provide:pm,useValue:0},{provide:Yu,multi:!0,deps:[Ne],useFactory:e=>{let n=e.get(jT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(jt),s=e.get(Mb);Sb(i,()=>{r(!0)}),e.get(fm).afterPreactivation=()=>(r(!0),s.closed?N(void 0):s),i.initialNavigation()}))}}])}function uU(){return aa(3,[{provide:Yu,multi:!0,useFactory:()=>{let e=I(jt);return()=>{e.setUpLocationChangeListener()}}},{provide:pm,useValue:2}])}var Nb=new b("");function lU(t){return aa(0,[{provide:Nb,useExisting:iU},{provide:xl,useExisting:t}])}function dU(){return aa(8,[WC,{provide:Pl,useExisting:WC}])}function hU(t){let e=[{provide:Cb,useValue:GV},{provide:bb,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return aa(9,e)}var YC=new b("ROUTER_FORROOT_GUARD"),fU=[is,{provide:na,useClass:Wo},jt,ra,{provide:Kr,useFactory:oU,deps:[jt]},dm,[]],iK=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[fU,[],{provide:Nl,multi:!0,useValue:r},{provide:YC,useFactory:yU,deps:[[jt,new Xe,new GE]]},{provide:oa,useValue:i||{}},i?.useHash?gU():mU(),pU(),i?.preloadingStrategy?lU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?vU(i):[],i?.bindToComponentInputs?dU().\u0275providers:[],i?.enableViewTransitions?hU().\u0275providers:[],_U()]}}static forChild(r){return{ngModule:e,providers:[{provide:Nl,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(YC,8))},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})();function pU(){return{provide:Rb,useFactory:()=>{let t=I(zT),e=I(K),n=I(oa),r=I(fm),i=I(na);return n.scrollOffset&&t.setOffset(n.scrollOffset),new sU(i,r,t,e,n)}}}function gU(){return{provide:xn,useClass:$T}}function mU(){return{provide:xn,useClass:ug}}function yU(t){return"guarded"}function vU(t){return[t.initialNavigation==="disabled"?uU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?cU().\u0275providers:[]]}var JC=new b("");function _U(){return[{provide:JC,useFactory:aU},{provide:ns,multi:!0,useExisting:JC}]}var Pb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new mm;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},EU=function(t){let e=Pb(t);return Ob.encodeByteArray(e,!0)},ca=function(t){return EU(t).replace(/\./g,"")},vm=function(t){try{return Ob.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TU=()=>DU().__FIREBASE_DEFAULTS__,CU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&vm(t[1]);return e&&JSON.parse(e)},Fl=()=>{try{return TU()||CU()||bU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_m=t=>{var e,n;return(n=(e=Fl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kb=t=>{let e=_m(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Im=()=>{var t;return(t=Fl())===null||t===void 0?void 0:t.config},wm=t=>{var e;return(e=Fl())===null||e===void 0?void 0:e[`_${t}`]};var kl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Fb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ca(JSON.stringify(n)),ca(JSON.stringify(o)),""].join(".")}function pe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())}function AU(){var t;let e=(t=Fl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ub(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jb(){let t=pe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bb(){return!AU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ll(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var SU="FirebaseError",Et=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Et(i,a,r)}};function RU(t,e){return t.replace(MU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var MU=/\{\$([^}]+)}/g;function Hb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(xb(s)&&xb(o)){if(!Qr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function xb(t){return t!==null&&typeof t=="object"}function ua(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _s(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qb(t,e){let n=new ym(t,e);return n.subscribe.bind(n)}var ym=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gm),i.error===void 0&&(i.error=gm),i.complete===void 0&&(i.complete=gm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function NU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gm(){}var oK=4*60*60*1e3;function Ae(t){return t&&t._delegate?t._delegate:t}var Rt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yr="[DEFAULT]";var Em=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new kl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PU(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xU(t){return t===Yr?void 0:t}function PU(t){return t.instantiationMode==="EAGER"}var Vl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Em(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var OU=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),kU={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},FU=Q.INFO,LU={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},VU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=LU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fr=class{constructor(e){this.name=e,this._logLevel=FU,this._logHandler=VU,this._userLogHandler=null,OU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var UU=(t,e)=>e.some(n=>t instanceof n),zb,Gb;function jU(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BU(){return Gb||(Gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Wb=new WeakMap,Tm=new WeakMap,Kb=new WeakMap,Dm=new WeakMap,bm=new WeakMap;function $U(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wb.set(n,t)}).catch(()=>{}),bm.set(e,t),e}function HU(t){if(Tm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tm.set(t,e)}var Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Qb(t){Cm=t(Cm)}function qU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ul(this),e,...n);return Kb.set(r,e.sort?e.sort():[e]),sn(r)}:BU().includes(t)?function(...e){return t.apply(Ul(this),e),sn(Wb.get(this))}:function(...e){return sn(t.apply(Ul(this),e))}}function zU(t){return typeof t=="function"?qU(t):(t instanceof IDBTransaction&&HU(t),UU(t,jU())?new Proxy(t,Cm):t)}function sn(t){if(t instanceof IDBRequest)return $U(t);if(Dm.has(t))return Dm.get(t);let e=zU(t);return e!==t&&(Dm.set(t,e),bm.set(e,t)),e}var Ul=t=>bm.get(t);function Jb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=sn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(sn(o.result),c.oldVersion,c.newVersion,sn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var GU=["get","getKey","getAll","getAllKeys","count"],WU=["put","add","delete","clear"],Am=new Map;function Yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=WU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GU.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Am.set(e,s),s}Qb(t=>ie(T({},t),{get:(e,n,r)=>Yb(e,n)||t.get(e,n,r),has:(e,n)=>!!Yb(e,n)||t.has(e,n)}));var Rm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function KU(t){let e=t.getComponent();return e?.type==="VERSION"}var Mm="@firebase/app",Zb="0.9.27";var Jr=new fr("@firebase/app"),QU="@firebase/app-compat",YU="@firebase/analytics-compat",JU="@firebase/analytics",ZU="@firebase/app-check-compat",XU="@firebase/app-check",ej="@firebase/auth",tj="@firebase/auth-compat",nj="@firebase/database",rj="@firebase/database-compat",ij="@firebase/functions",sj="@firebase/functions-compat",oj="@firebase/installations",aj="@firebase/installations-compat",cj="@firebase/messaging",uj="@firebase/messaging-compat",lj="@firebase/performance",dj="@firebase/performance-compat",hj="@firebase/remote-config",fj="@firebase/remote-config-compat",pj="@firebase/storage",gj="@firebase/storage-compat",mj="@firebase/firestore",yj="@firebase/firestore-compat",vj="firebase",_j="10.8.0";var Nm="[DEFAULT]",Ij={[Mm]:"fire-core",[QU]:"fire-core-compat",[JU]:"fire-analytics",[YU]:"fire-analytics-compat",[XU]:"fire-app-check",[ZU]:"fire-app-check-compat",[ej]:"fire-auth",[tj]:"fire-auth-compat",[nj]:"fire-rtdb",[rj]:"fire-rtdb-compat",[ij]:"fire-fn",[sj]:"fire-fn-compat",[oj]:"fire-iid",[aj]:"fire-iid-compat",[cj]:"fire-fcm",[uj]:"fire-fcm-compat",[lj]:"fire-perf",[dj]:"fire-perf-compat",[hj]:"fire-rc",[fj]:"fire-rc-compat",[pj]:"fire-gcs",[gj]:"fire-gcs-compat",[mj]:"fire-fst",[yj]:"fire-fst-compat","fire-js":"fire-js",[vj]:"fire-js-all"};var la=new Map,xm=new Map;function wj(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gr(t){let e=t.name;if(xm.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,t);for(let n of la.values())wj(n,t);return!0}function ha(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Ej={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pr=new Pn("app","Firebase",Ej);var Pm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var mr=_j;function Fm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=Im()),!n)throw pr.create("no-options");let s=la.get(i);if(s){if(Qr(n,s.options)&&Qr(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}let o=new Vl(i);for(let c of xm.values())o.addComponent(c);let a=new Pm(n,r,o);return la.set(i,a),a}function Is(t=Nm){let e=la.get(t);if(!e&&t===Nm&&Im())return Fm();if(!e)throw pr.create("no-app",{appName:t});return e}function jl(){return Array.from(la.values())}function Se(t,e,n){var r;let i=(r=Ij[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(a.join(" "));return}gr(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Dj="firebase-heartbeat-database",Tj=1,da="firebase-heartbeat-store",Sm=null;function n0(){return Sm||(Sm=Jb(Dj,Tj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Sm}function Cj(t){return f(this,null,function*(){try{let n=(yield n0()).transaction(da),r=yield n.objectStore(da).get(r0(t));return yield n.done,r}catch(e){if(e instanceof Et)Jr.warn(e.message);else{let n=pr.create("idb-get",{originalErrorMessage:e?.message});Jr.warn(n.message)}}})}function Xb(t,e){return f(this,null,function*(){try{let r=(yield n0()).transaction(da,"readwrite");yield r.objectStore(da).put(e,r0(t)),yield r.done}catch(n){if(n instanceof Et)Jr.warn(n.message);else{let r=pr.create("idb-set",{originalErrorMessage:n?.message});Jr.warn(r.message)}}})}function r0(t){return`${t.name}!${t.options.appId}`}var bj=1024,Aj=30*24*60*60*1e3,Om=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new km(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=e0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Aj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=e0(),{heartbeatsToSend:r,unsentEntries:i}=Sj(this._heartbeatsCache.heartbeats),s=ca(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function e0(){return new Date().toISOString().substring(0,10)}function Sj(t,e=bj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),t0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),t0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var km=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Ll()?$b().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Cj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function t0(t){return ca(JSON.stringify({version:2,heartbeats:t})).length}function Rj(t){gr(new Rt("platform-logger",e=>new Rm(e),"PRIVATE")),gr(new Rt("heartbeat",e=>new Om(e),"PRIVATE")),Se(Mm,Zb,t),Se(Mm,Zb,"esm2017"),Se("fire-js","")}Rj("");var Mj="firebase",Nj="10.8.0";Se(Mj,Nj,"app");var Xr=new bn("ANGULARFIRE2_VERSION");function $l(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var fa=(t,e)=>{let n=e?[e]:jl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Es=class{constructor(){return fa(xj)}},xj="app-check";function ws(){}var Bl=class{zone;delegate;constructor(e,n=Wh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Lm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws)),n.pipe(he({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ds=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Bl(Zone.current)),this.insideAngular=n.run(()=>new Bl(Zone.current,Gh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(K))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Pj(t){return Hl().ngZone.runOutsideAngular(()=>t())}function Zr(t){return Hl().ngZone.run(()=>t())}function Oj(t){return kj(Hl())(t)}function kj(t){return function(n){return n=n.lift(new Lm(t.ngZone)),n.pipe(Gn(t.outsideAngular),zn(t.insideAngular))}}var Fj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zr(()=>t.apply(void 0,r))},Re=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ws,{},ws,ws))),r[s]=Fj(r[s],n));let i=Pj(()=>t.apply(this,r));if(!e)if(i instanceof q){let s=Hl();return i.pipe(Gn(s.outsideAngular),zn(s.insideAngular))}else return Zr(()=>i);return i instanceof q?i.pipe(Oj):i instanceof Promise?Zr(()=>new Promise((s,o)=>i.then(a=>Zr(()=>s(a)),a=>Zr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zr(()=>i)};var On=class{constructor(e){return e}},ei=class{constructor(){return jl()}};function Lj(t){return t&&t.length===1?t[0]:new On(Is())}var Vm=new b("angularfire2._apps"),Vj={provide:On,useFactory:Lj,deps:[[new Xe,Vm]]},Uj={provide:ei,deps:[[new Xe,Vm]]};function jj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new On(r)}}var Bj=(()=>{class t{constructor(n){Se("angularfire",Xr.full,"core"),Se("angularfire",Xr.full,"app"),Se("angular",TT.full,n.toString())}static \u0275fac=function(r){return new(r||t)(S(ct))};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[Vj,Uj]})}return t})();function HK(t,...e){return{ngModule:Bj,providers:[{provide:Vm,useFactory:jj(t),multi:!0,deps:[K,Ne,Ds,...e]}]}}var qK=Re(Fm,!0);function _0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var I0=_0,w0=new Pn("auth","Firebase",_0());var Ql=new fr("@firebase/auth");function $j(t,...e){Ql.logLevel<=Q.WARN&&Ql.warn(`Auth (${mr}): ${t}`,...e)}function zl(t,...e){Ql.logLevel<=Q.ERROR&&Ql.error(`Auth (${mr}): ${t}`,...e)}function an(t,...e){throw oy(t,...e)}function ti(t,...e){return oy(t,...e)}function Hj(t,e,n){let r=Object.assign(Object.assign({},I0()),{[e]:n});return new Pn("auth","Firebase",r).create(e,{appName:t.name})}function oy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w0.create(t,...e)}function x(t,e,...n){if(!t)throw oy(e,...n)}function kn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zl(e),new Error(e)}function vr(t,e){t||kn(e)}function $m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qj(){return i0()==="http:"||i0()==="https:"}function i0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function zj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qj()||Vb()||"connection"in navigator)?navigator.onLine:!0}function Gj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ni=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=Lb()||Ub()}get(){return zj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ay(t,e){vr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Wj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Kj=new ni(3e4,6e4);function Ln(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function cn(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return E0(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=ua(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Yl.fetch()(D0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function E0(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Wj),e);try{let i=new Hm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ql(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Hj(t,l,u);an(t,l)}}catch(i){if(i instanceof Et)throw i;an(t,"network-request-failed",{message:String(i)})}})}function _a(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield cn(t,e,n,r,i);return"mfaPendingCredential"in u&&an(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function D0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ay(t.config,i):`${t.config.apiScheme}://${i}`}function Qj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Hm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),Kj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ql(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ti(t,e,r);return i.customData._tokenResponse=n,i}function s0(t){return t!==void 0&&t.enterprise!==void 0}var qm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Yj(t,e){return f(this,null,function*(){return cn(t,"GET","/v2/recaptchaConfig",Ln(t,e))})}function Jj(t,e){return f(this,null,function*(){return cn(t,"POST","/v1/accounts:delete",e)})}function Zj(t,e){return f(this,null,function*(){return cn(t,"POST","/v1/accounts:lookup",e)})}function pa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cy(t,e=!1){return f(this,null,function*(){let n=Ae(t),r=yield n.getIdToken(e),i=uy(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:pa(Um(i.auth_time)),issuedAtTime:pa(Um(i.iat)),expirationTime:pa(Um(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Um(t){return Number(t)*1e3}function uy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zl("JWT malformed, contained fewer than 3 sections"),null;try{let i=vm(n);return i?JSON.parse(i):(zl("Failed to decode base64 JWT payload"),null)}catch(i){return zl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Xj(t){let e=uy(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ts(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Et&&e2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function e2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var zm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Jl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zl(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ts(t,Zj(n,{idToken:r}));x(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?n2(s.providerUserInfo):[],a=t2(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jl(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function ly(t){return f(this,null,function*(){let e=Ae(t);yield Zl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function t2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function n2(t){return t.map(e=>{var{providerId:n}=e,r=Kh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function r2(t,e){return f(this,null,function*(){let n=yield E0(t,{},()=>f(this,null,function*(){let r=ua({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=D0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function i2(t,e){return f(this,null,function*(){return cn(t,"POST","/v2/accounts:revokeToken",Ln(t,e))})}var Xl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return f(this,null,function*(){return x(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield r2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(x(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(x(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(x(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kn("not implemented")}};function yr(t,e){x(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ga=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield Ts(this,this.stsTokenManager.getToken(this.auth,e));return x(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return cy(this,e)}reload(){return ly(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){let e=yield this.getIdToken();return yield Ts(this,Jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(u=n.createdAt)!==null&&u!==void 0?u:void 0,$=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:X,emailVerified:oe,isAnonymous:ve,providerData:ae,stsTokenManager:dt}=n;x(X&&dt,e,"internal-error");let $n=Xl.fromJSON(this.name,dt);x(typeof X=="string",e,"internal-error"),yr(d,e.name),yr(h,e.name),x(typeof oe=="boolean",e,"internal-error"),x(typeof ve=="boolean",e,"internal-error"),yr(p,e.name),yr(g,e.name),yr(_,e.name),yr(v,e.name),yr(D,e.name),yr($,e.name);let Sr=new t({uid:X,auth:e,email:h,emailVerified:oe,displayName:d,isAnonymous:ve,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:$n,createdAt:D,lastLoginAt:$});return ae&&Array.isArray(ae)&&(Sr.providerData=ae.map(dc=>Object.assign({},dc))),v&&(Sr._redirectEventId=v),Sr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Xl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zl(s),s})}};var o0=new Map;function Fn(t){vr(t instanceof Function,"Expected a class definition");let e=o0.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o0.set(t,e),e)}var s2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Gm=s2;function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}var ed=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ga._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(Fn(Gm),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Fn(Gm),o=Gl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=ga._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function a0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(R0(e))return"Webos";if(dy(e))return"Safari";if((e.includes("chrome/")||C0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function T0(t=pe()){return/firefox\//i.test(t)}function dy(t=pe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C0(t=pe()){return/crios\//i.test(t)}function b0(t=pe()){return/iemobile/i.test(t)}function A0(t=pe()){return/android/i.test(t)}function S0(t=pe()){return/blackberry/i.test(t)}function R0(t=pe()){return/webos/i.test(t)}function ud(t=pe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o2(t=pe()){var e;return ud(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a2(){return jb()&&document.documentMode===10}function M0(t=pe()){return ud(t)||A0(t)||R0(t)||S0(t)||/windows phone/i.test(t)||b0(t)}function c2(){try{return!!(window&&window!==window.top)}catch{return!1}}function N0(t,e=[]){let n;switch(t){case"Browser":n=a0(pe());break;case"Worker":n=`${a0(pe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mr}/${r}`}var Wm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function u2(n){return f(this,arguments,function*(t,e={}){return cn(t,"GET","/v2/passwordPolicy",Ln(t,e))})}var l2=6,Km=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Qm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new td(this),this.idTokenSubscription=new td(this),this.beforeStateQueue=new Wm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ed.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield Zl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Gj()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){let n=e?Ae(e):null;return n&&x(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&x(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield u2(this),n=new Km(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield i2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;x(n,this,"argument-error"),this.redirectPersistenceManager=yield ed.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&$j(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _r(t){return Ae(t)}var td=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qb(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ld={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d2(t){ld=t}function x0(t){return ld.loadJS(t)}function h2(){return ld.recaptchaEnterpriseScript}function f2(){return ld.gapiScript}function P0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var p2="recaptcha-enterprise",g2="NO_RECAPTCHA",Ym=class{constructor(e){this.type=p2,this.auth=_r(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){Yj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new qm(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;s0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(g2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&s0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=h2();c.length!==0&&(c+=a),x0(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function c0(t,e,n,r=!1){return f(this,null,function*(){let i=new Ym(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function nd(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield c0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield c0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function hy(t,e){let n=ha(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Qr(s,e??{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}function m2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function fy(t,e,n){let r=_r(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=O0(e),{host:o,port:a}=y2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||v2()}function O0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y2(t){let e=O0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:u0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:u0(o)}}}function u0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function v2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ma=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,n){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}};function _2(t,e){return f(this,null,function*(){return cn(t,"POST","/v1/accounts:signUp",e)})}function I2(t,e){return f(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithPassword",Ln(t,e))})}function w2(t,e){return f(this,null,function*(){return cn(t,"POST","/v1/accounts:sendOobCode",Ln(t,e))})}function E2(t,e){return f(this,null,function*(){return w2(t,e)})}function D2(t,e){return f(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithEmailLink",Ln(t,e))})}function T2(t,e){return f(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithEmailLink",Ln(t,e))})}var ya=class t extends ma{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nd(e,n,"signInWithPassword",I2);case"emailLink":return D2(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nd(e,r,"signUpPassword",_2);case"emailLink":return T2(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function jm(t,e){return f(this,null,function*(){return _a(t,"POST","/v1/accounts:signInWithIdp",Ln(t,e))})}function C2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b2(t){let e=vs(_s(t)).link,n=e?vs(_s(e)).deep_link_id:null,r=vs(_s(t)).deep_link_id;return(r?vs(_s(r)).link:null)||r||n||e||t}var rd=class t{constructor(e){var n,r,i,s,o,a;let c=vs(_s(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=C2((i=c.mode)!==null&&i!==void 0?i:null);x(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=b2(e);try{return new t(n)}catch{return null}}};var k0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ya._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=rd.parseLink(r);return x(i,"argument-error"),ya._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),id=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jm=class extends id{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function A2(t,e){return f(this,null,function*(){return _a(t,"POST","/v1/accounts:signUp",Ln(t,e))})}var Cs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield ga._fromIdTokenResponse(e,r,i),o=l0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=l0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function l0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Zm=class t extends Et{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function F0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zm._fromErrorAndOperation(t,s,e,r):s})}function S2(t,e,n=!1){return f(this,null,function*(){let r=yield Ts(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cs._forOperation(t,"link",r)})}function R2(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Ts(t,F0(r,i,e,t),n);x(s.idToken,r,"internal-error");let o=uy(s.idToken);x(o,r,"internal-error");let{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Cs._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&an(r,"user-mismatch"),s}})}function L0(t,e,n=!1){return f(this,null,function*(){let r="signIn",i=yield F0(t,r,e),s=yield Cs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function py(t,e){return f(this,null,function*(){return L0(_r(t),e)})}function M2(t,e,n){var r;x(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),x(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(x(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(x(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function V0(t){return f(this,null,function*(){let e=_r(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function gy(t,e,n){return f(this,null,function*(){let r=_r(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&M2(r,i,n),yield nd(r,i,"getOobCode",E2)})}function my(t,e,n){return f(this,null,function*(){let r=_r(t),o=yield nd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A2).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&V0(t),c}),a=yield Cs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function yy(t,e,n){return py(Ae(t),k0.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&V0(t),r}))}function N2(t,e){return f(this,null,function*(){return cn(t,"POST","/v1/accounts:update",e)})}function vy(r,i){return f(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=Ae(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield Ts(s,N2(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let u=s.providerData.find(({providerId:l})=>l==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function dd(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function _y(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function hd(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function Iy(t){return Ae(t).signOut()}var sd="__sak";var od=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function x2(){let t=pe();return dy(t)||ud(t)}var P2=1e3,O2=10,k2=(()=>{class t extends od{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=x2()&&c2(),this.fallbackToPolling=M0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);a2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,O2):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Hn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Hn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Hn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),U0=k2;var F2=(()=>{class t extends od{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),wy=F2;function L2(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var V2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield L2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function j0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Xm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=j0("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function on(){return window}function U2(t){on().location.href=t}function B0(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}function j2(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function B2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $2(){return B0()?self:null}var $0="firebaseLocalStorageDb",H2=1,ad="firebaseLocalStorage",H0="fbase_key",ri=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function fd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function q2(){let t=indexedDB.deleteDatabase($0);return new ri(t).toPromise()}function ey(){let t=indexedDB.open($0,H2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ad,{keyPath:H0})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ad)?e(r):(r.close(),yield q2(),e(yield ey()))}))})}function d0(t,e,n){return f(this,null,function*(){let r=fd(t,!0).put({[H0]:e,value:n});return new ri(r).toPromise()})}function z2(t,e){return f(this,null,function*(){let n=fd(t,!1).get(e),r=yield new ri(n).toPromise();return r===void 0?null:r.value})}function h0(t,e){let n=fd(t,!0).delete(e);return new ri(n).toPromise()}var G2=800,W2=3,K2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield ey(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>W2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return B0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=V2._getInstance($2()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield j2(),!this.activeServiceWorker)return;this.sender=new Xm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||B2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ey();return yield d0(n,sd,"1"),yield h0(n,sd),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>d0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>z2(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>h0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=fd(s,!1).getAll();return new ri(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),q0=K2;var ZK=P0("rcb"),XK=new ni(3e4,6e4);function Q2(t,e){return e?Fn(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var va=class extends ma{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Y2(t){return L0(t.auth,new va(t),t.bypassAuthState)}function J2(t){let{auth:e,user:n}=t;return x(n,e,"internal-error"),R2(n,new va(t),t.bypassAuthState)}function Z2(t){return f(this,null,function*(){let{auth:e,user:n}=t;return x(n,e,"internal-error"),S2(n,new va(t),t.bypassAuthState)})}var ty=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y2;case"linkViaPopup":case"linkViaRedirect":return Z2;case"reauthViaPopup":case"reauthViaRedirect":return J2;default:an(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var e7=new ni(2e3,1e4);var X2="pendingRedirect",Wl=new Map,ny=class t extends ty{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Wl.get(this.auth._key());if(!e){try{let r=(yield eB(this.resolver,this.auth))?yield Hn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Hn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Hn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function eB(t,e){return f(this,null,function*(){let n=rB(e),r=nB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function tB(t,e){Wl.set(t._key(),e)}function nB(t){return Fn(t._redirectPersistence)}function rB(t){return Gl(X2,t.config.apiKey,t.name)}function iB(t,e,n=!1){return f(this,null,function*(){let r=_r(t),i=Q2(r,e),o=yield new ny(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var sB=10*60*1e3,ry=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!z0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sB&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}};function f0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function z0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(t);default:return!1}}function aB(n){return f(this,arguments,function*(t,e={}){return cn(t,"GET","/v1/projects",e)})}var cB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uB=/^https?/;function lB(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield aB(t);for(let n of e)try{if(dB(n))return}catch{}an(t,"unauthorized-domain")})}function dB(t){let e=$m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uB.test(n))return!1;if(cB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var hB=new ni(3e4,6e4);function p0(){let t=on().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fB(t){return new Promise((e,n)=>{var r,i,s;function o(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),n(ti(t,"network-request-failed"))},timeout:hB.get()})}if(!((i=(r=on().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=on().gapi)===null||s===void 0)&&s.load)o();else{let a=P0("iframefcb");return on()[a]=()=>{gapi.load?o():n(ti(t,"network-request-failed"))},x0(`${f2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Kl=null,e})}var Kl=null;function pB(t){return Kl=Kl||fB(t),Kl}var gB=new ni(5e3,15e3),mB="__/auth/iframe",yB="emulator/auth/iframe",vB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_B=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IB(t){let e=t.config;x(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ay(e,yB):`https://${t.config.authDomain}/${mB}`,r={apiKey:e.apiKey,appName:t.name,v:mr},i=_B.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ua(r).slice(1)}`}function wB(t){return f(this,null,function*(){let e=yield pB(t),n=on().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:IB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vB,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ti(t,"network-request-failed"),a=on().setTimeout(()=>{s(o)},gB.get());function c(){on().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var EB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DB=500,TB=600,CB="_blank",bB="http://localhost",cd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function AB(t,e,n,r=DB,i=TB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},EB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pe().toLowerCase();n&&(a=C0(u)?CB:n),T0(u)&&(e=e||bB,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(o2(u)&&a!=="_self")return SB(e||"",a),new cd(null);let d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new cd(d)}function SB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var RB="__/auth/handler",MB="emulator/auth/handler",NB=encodeURIComponent("fac");function g0(t,e,n,r,i,s){return f(this,null,function*(){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(e instanceof id){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Hb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Jm){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${NB}=${encodeURIComponent(c)}`:"";return`${xB(t)}?${ua(a).slice(1)}${u}`})}function xB({config:t}){return t.emulator?ay(t,MB):`https://${t.authDomain}/${RB}`}var Bm="webStorageSupport",iy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wy,this._completeRedirectFn=iB,this._overrideRedirectResult=tB}_openPopup(e,n,r,i){return f(this,null,function*(){var s;vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield g0(e,n,r,$m(),i);return AB(e,o,j0())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield g0(e,n,r,$m(),i);return U2(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield wB(e),r=new ry(e);return n.register("authEvent",i=>(x(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Bm];o!==void 0&&n(!!o),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M0()||dy()||ud()}},G0=iy;var m0="@firebase/auth",y0="1.6.0";var sy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OB(t){gr(new Rt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(t)},u=new Qm(r,i,s,c);return m2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gr(new Rt("auth-internal",e=>{let n=_r(e.getProvider("auth").getImmediate());return(r=>new sy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(m0,y0,PB(t)),Se(m0,y0,"esm2017")}var kB=5*60,FB=wm("authIdTokenMaxAge")||kB,v0=null,LB=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FB)return;let i=n?.token;v0!==i&&(v0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ey(t=Is()){let e=ha(t,"auth");if(e.isInitialized())return e.getImmediate();let n=hy(t,{popupRedirectResolver:G0,persistence:[q0,U0,wy]}),r=wm("authTokenSyncURL");if(r){let s=LB(r);_y(n,s,()=>s(n.currentUser)),dd(n,o=>s(o))}let i=_m("auth");return i&&fy(n,`http://${i}`),n}function VB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}d2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",VB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OB("Browser");function K0(t){return new q(function(e){var n=hd(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Q0="auth",ii=class{constructor(e){return e}},Ia=class{constructor(){return fa(Q0)}};var Dy=new b("angularfire2.auth-instances");function T$(t,e){let n=$l(Q0,t,e);return n&&new ii(n)}function C$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ii(r)}}var b$={provide:Ia,deps:[[new Xe,Dy]]},A$={provide:ii,useFactory:T$,deps:[[new Xe,Dy],On]},S$=(()=>{class t{constructor(){Se("angularfire",Xr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[A$,b$]})}return t})();function H7(t,...e){return{ngModule:S$,providers:[{provide:Dy,useFactory:C$(t),multi:!0,deps:[K,Ne,Ds,ei,[new Xe,Es],...e]}]}}var Y0=Re(K0,!0);var J0=Re(my,!0);var q7=Re(Ey,!0);var Z0=Re(gy,!0);var X0=Re(yy,!0);var eA=Re(Iy,!0);var z7=Re(vy,!0);var M$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$t={},w,zy=zy||{},k=M$||self;function Ad(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Oa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function N$(t){return Object.prototype.hasOwnProperty.call(t,Ty)&&t[Ty]||(t[Ty]=++x$)}var Ty="closure_uid_"+(1e9*Math.random()>>>0),x$=0;function P$(t,e,n){return t.call.apply(t.bind,arguments)}function O$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function We(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?We=P$:We=O$,We.apply(null,arguments)}function pd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Oe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ir(){this.s=this.s,this.o=this.o}var k$=0;Ir.prototype.s=!1;Ir.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),k$!=0)&&N$(this)};Ir.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tA(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Ad(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ke(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var F$=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function ba(t){return/^[\s\xa0]*$/.test(t)}function Sd(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function un(t){return Sd().indexOf(t)!=-1}function Wy(t){return Wy[" "](t),t}Wy[" "]=function(){};function L$(t,e){var n=CH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var V$=un("Opera"),Rs=un("Trident")||un("MSIE"),pA=un("Edge"),Ry=pA||Rs,gA=un("Gecko")&&!(Sd().toLowerCase().indexOf("webkit")!=-1&&!un("Edge"))&&!(un("Trident")||un("MSIE"))&&!un("Edge"),U$=Sd().toLowerCase().indexOf("webkit")!=-1&&!un("Edge");function mA(){var t=k.document;return t?t.documentMode:void 0}var My;e:{if(gd="",md=function(){var t=Sd();if(gA)return/rv:([^\);]+)(\)|;)/.exec(t);if(pA)return/Edge\/([\d\.]+)/.exec(t);if(Rs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(U$)return/WebKit\/(\S+)/.exec(t);if(V$)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),md&&(gd=md?md[1]:""),Rs&&(yd=mA(),yd!=null&&yd>parseFloat(gd))){My=String(yd);break e}My=gd}var gd,md,yd,Ny;k.document&&Rs?(Cy=mA(),Ny=Cy||parseInt(My,10)||void 0):Ny=void 0;var Cy,j$=Ny;function Aa(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gA){e:{try{Wy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:B$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Aa.$.h.call(this)}}Oe(Aa,Ke);var B$={2:"touch",3:"pen",4:"mouse"};Aa.prototype.h=function(){Aa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),$$=0;function H$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$$,this.fa=this.ia=!1}function Rd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ky(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function q$(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function yA(t){let e={};for(let n in t)e[n]=t[n];return e}var nA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<nA.length;s++)n=nA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Md(t){this.src=t,this.g={},this.h=0}Md.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Py(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new H$(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function xy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=fA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Py(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Qy="closure_lm_"+(1e6*Math.random()|0),by={};function _A(t,e,n,r,i){if(r&&r.once)return wA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_A(t,e[s],n,r,i);return null}return n=Zy(n),t&&t[ka]?t.O(e,n,Oa(r)?!!r.capture:!!r,i):IA(t,e,n,!1,r,i)}function IA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Oa(i)?!!i.capture:!!i,a=Jy(t);if(a||(t[Qy]=a=new Md(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=z$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)F$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(DA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function z$(){function t(n){return e.call(t.src,t.listener,n)}let e=G$;return t}function wA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wA(t,e[s],n,r,i);return null}return n=Zy(n),t&&t[ka]?t.P(e,n,Oa(r)?!!r.capture:!!r,i):IA(t,e,n,!0,r,i)}function EA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)EA(t,e[s],n,r,i);else r=Oa(r)?!!r.capture:!!r,n=Zy(n),t&&t[ka]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Py(s,n,r,i),-1<n&&(Rd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Jy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Py(e,n,r,i)),(n=-1<t?e[t]:null)&&Yy(n))}function Yy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ka])xy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(DA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Jy(e))?(xy(n,t),n.h==0&&(n.src=null,e[Qy]=null)):Rd(t)}}}function DA(t){return t in by?by[t]:by[t]="on"+t}function G$(t,e){if(t.fa)t=!0;else{e=new Aa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Yy(t),t=n.call(r,e)}return t}function Jy(t){return t=t[Qy],t instanceof Md?t:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zy(t){return typeof t=="function"?t:(t[Ay]||(t[Ay]=function(e){return t.handleEvent(e)}),t[Ay])}function Pe(){Ir.call(this),this.i=new Md(this),this.S=this,this.J=null}Oe(Pe,Ir);Pe.prototype[ka]=!0;Pe.prototype.removeEventListener=function(t,e,n,r){EA(this,t,e,n,r)};function He(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ke(e,t);else if(e instanceof Ke)e.target=e.target||t;else{var i=e;e=new Ke(r,t),vA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vd(o,r,!0,e)&&i}if(o=e.g=t,i=vd(o,r,!0,e)&&i,i=vd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=vd(o,r,!1,e)&&i}Pe.prototype.N=function(){if(Pe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rd(n[r]);delete t.g[e],t.h--}}this.J=null};Pe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&xy(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Xy=k.JSON.stringify,Oy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function W$(){var t=ev;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ky=class{constructor(){this.h=this.g=null}add(e,n){let r=TA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},TA=new Oy(()=>new Fy,t=>t.reset()),Fy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function K$(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Q$(t){k.setTimeout(()=>{throw t},0)}var Sa,Ra=!1,ev=new ky,CA=()=>{let t=k.Promise.resolve(void 0);Sa=()=>{t.then(Y$)}},Y$=()=>{for(var t;t=W$();){try{t.h.call(t.g)}catch(n){Q$(n)}var e=TA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ra=!1};function Nd(t,e){Pe.call(this),this.h=t||1,this.g=e||k,this.j=We(this.qb,this),this.l=Date.now()}Oe(Nd,Pe);w=Nd.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),He(this,"tick"),this.ga&&(tv(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){Nd.$.N.call(this),tv(this),delete this.g};function nv(t,e,n){if(typeof t=="function")n&&(t=We(t,n));else if(t&&typeof t.handleEvent=="function")t=We(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function bA(t){t.g=nv(()=>{t.g=null,t.i&&(t.i=!1,bA(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Ly=class extends Ir{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bA(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ma(t){Ir.call(this),this.h=t,this.g={}}Oe(Ma,Ir);var rA=[];function AA(t,e,n,r){Array.isArray(n)||(n&&(rA[0]=n.toString()),n=rA);for(var i=0;i<n.length;i++){var s=_A(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SA(t){Ky(t.g,function(e,n){this.g.hasOwnProperty(n)&&Yy(e)},t),t.g={}}Ma.prototype.N=function(){Ma.$.N.call(this),SA(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xd(){this.g=!0}xd.prototype.Ea=function(){this.g=!1};function J$(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Z$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function As(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eH(t,n)+(r?" "+r:"")})}function X$(t,e){t.info(function(){return"TIMEOUT: "+e})}xd.prototype.info=function(){};function eH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Xy(n)}catch{return e}}var ci={},iA=null;function Pd(){return iA=iA||new Pe}ci.Ta="serverreachability";function RA(t){Ke.call(this,ci.Ta,t)}Oe(RA,Ke);function Na(t){let e=Pd();He(e,new RA(e))}ci.STAT_EVENT="statevent";function MA(t,e){Ke.call(this,ci.STAT_EVENT,t),this.stat=e}Oe(MA,Ke);function tt(t){let e=Pd();He(e,new MA(e,t))}ci.Ua="timingevent";function NA(t,e){Ke.call(this,ci.Ua,t),this.size=e}Oe(NA,Ke);function Fa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var Od={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rv(){}rv.prototype.h=null;function sA(t){return t.h||(t.h=t.i())}function PA(){}var La={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iv(){Ke.call(this,"d")}Oe(iv,Ke);function sv(){Ke.call(this,"c")}Oe(sv,Ke);var Vy;function kd(){}Oe(kd,rv);kd.prototype.g=function(){return new XMLHttpRequest};kd.prototype.i=function(){return{}};Vy=new kd;function Va(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ma(this),this.P=tH,t=Ry?125:void 0,this.V=new Nd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OA}function OA(){this.i=null,this.g="",this.h=!1}var tH=45e3,kA={},Uy={};w=Va.prototype;w.setTimeout=function(t){this.P=t};function jy(t,e,n){t.L=1,t.A=Ld(Un(e)),t.u=n,t.S=!0,FA(t,null)}function FA(t,e){t.G=Date.now(),Ua(t),t.B=Un(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),qA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new OA,t.g=dS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Ly(We(t.Pa,t,t.g),t.O)),AA(t.U,t.g,"readystatechange",t.nb),e=t.I?yA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Na(),J$(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&ln(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=ln(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Ry||this.g&&(this.h.h||this.g.ja()||uA(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Na(3):Na(2)),Fd(this);var n=this.g.da();this.ca=n;t:if(LA(this)){var r=uA(this.g);t="";var i=r.length,s=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Ca(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Z$(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ba(a)){var u=a;break t}}u=null}if(n=u)As(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,By(this,n);else{this.i=!1,this.s=3,tt(12),si(this),Ca(this);break e}}this.S?(VA(this,l,o),Ry&&this.i&&l==3&&(AA(this.U,this.V,"tick",this.mb),this.V.start())):(As(this.j,this.m,o,null),By(this,o)),l==4&&si(this),this.i&&!this.J&&(l==4?aS(this.l,this):(this.i=!1,Ua(this)))}else EH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),si(this),Ca(this)}}}catch{}finally{}};function LA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function VA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=nH(t,n),i==Uy){e==4&&(t.s=4,tt(14),r=!1),As(t.j,t.m,null,"[Incomplete Response]");break}else if(i==kA){t.s=4,tt(15),As(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else As(t.j,t.m,i,null),By(t,i);LA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),dv(e),e.M=!0,tt(11))):(As(t.j,t.m,n,"[Invalid Chunked Response]"),si(t),Ca(t))}w.mb=function(){if(this.g){var t=ln(this.g),e=this.g.ja();this.o<e.length&&(Fd(this),VA(this,t,e),this.i&&t!=4&&Ua(this))}};function nH(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Uy:(n=Number(e.substring(n,r)),isNaN(n)?kA:(r+=1,r+n>e.length?Uy:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,si(this)};function Ua(t){t.Y=Date.now()+t.P,UA(t,t.P)}function UA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fa(We(t.lb,t),e)}function Fd(t){t.C&&(k.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(X$(this.j,this.B),this.L!=2&&(Na(),tt(17)),si(this),this.s=2,Ca(this)):UA(this,this.Y-t)};function Ca(t){t.l.H==0||t.J||aS(t.l,t)}function si(t){Fd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,tv(t.V),SA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function By(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||$y(n.i,t))){if(!t.K&&$y(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Dd(n),jd(n);else break e;lv(n),tt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fa(We(n.ib,n),6e3));if(1>=WA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oi(n,11)}else if((t.K||n.g==t)&&Dd(n),!ba(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ov(s,s.h),s.h=null))}if(r.F){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,le(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=lS(r,r.J?r.pa:null,r.Y),o.K){KA(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Fd(a),Ua(a)),r.g=o}else sS(r);0<n.j.length&&Bd(n)}else u[0]!="stop"&&u[0]!="close"||oi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oi(n,7):uv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Na(4)}catch{}}function rH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ad(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ad(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function jA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ad(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iH(t),r=rH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var BA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ai(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ai){this.h=t.h,wd(this,t.j),this.s=t.s,this.g=t.g,Ed(this,t.m),this.l=t.l;var e=t.i,n=new xa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oA(this,n),this.o=t.o}else t&&(e=String(t).match(BA))?(this.h=!1,wd(this,e[1]||"",!0),this.s=Da(e[2]||""),this.g=Da(e[3]||"",!0),Ed(this,e[4]),this.l=Da(e[5]||"",!0),oA(this,e[6]||"",!0),this.o=Da(e[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}ai.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ta(e,aA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ta(e,aA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ta(n,n.charAt(0)=="/"?cH:aH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ta(n,lH)),t.join("")};function Un(t){return new ai(t)}function wd(t,e,n){t.j=n?Da(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ed(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function oA(t,e,n){e instanceof xa?(t.i=e,dH(t.i,t.h)):(n||(e=Ta(e,uH)),t.i=new xa(e,t.h))}function le(t,e,n){t.i.set(e,n)}function Ld(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Da(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ta(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,oH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var aA=/[#\/\?@]/g,aH=/[#\?:]/g,cH=/[#\?]/g,uH=/[#\?@]/g,lH=/#/g;function xa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wr(t){t.g||(t.g=new Map,t.h=0,t.i&&sH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=xa.prototype;w.add=function(t,e){wr(this),this.i=null,t=Ms(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $A(t,e){wr(t),e=Ms(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function HA(t,e){return wr(t),e=Ms(t,e),t.g.has(e)}w.forEach=function(t,e){wr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){wr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){wr(this);let e=[];if(typeof t=="string")HA(this,t)&&(e=e.concat(this.g.get(Ms(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return wr(this),this.i=null,t=Ms(this,t),HA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qA(t,e,n){$A(t,e),0<n.length&&(t.i=null,t.g.set(Ms(t,e),Gy(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ms(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dH(t,e){e&&!t.j&&(wr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($A(this,r),qA(this,i,n))},t)),t.j=e}var hH=class{constructor(t,e){this.g=t,this.map=e}};function zA(t){this.l=t||fH,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fH=10;function GA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function WA(t){return t.h?1:t.g?t.g.size:0}function $y(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ov(t,e){t.g?t.g.add(e):t.h=e}function KA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}zA.prototype.cancel=function(){if(this.i=QA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function QA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Gy(t.i)}var pH=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function gH(){this.g=new pH}function mH(t,e,n){let r=n||"";try{jA(t,function(i,s){let o=i;Oa(i)&&(o=Xy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yH(t,e){let n=new xd;if(k.Image){let r=new Image;r.onload=pd(_d,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pd(_d,n,r,"TestLoadImage: error",!1,e),r.onabort=pd(_d,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pd(_d,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _d(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ja(t){this.l=t.ec||null,this.j=t.ob||!1}Oe(ja,rv);ja.prototype.g=function(){return new Vd(this.l,this.j)};ja.prototype.i=function(t){return function(){return t}}({});function Vd(t,e){Pe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=av,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe(Vd,Pe);var av=0;w=Vd.prototype;w.open=function(t,e){if(this.readyState!=av)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pa(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=av};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function YA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ba(this):Pa(this),this.readyState==3&&YA(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,Ba(this))};w.Ya=function(t){this.g&&(this.response=t,Ba(this))};w.ka=function(){this.g&&Ba(this)};function Ba(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pa(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vH=k.JSON.parse;function ge(t){Pe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JA,this.L=this.M=!1}Oe(ge,Pe);var JA="",_H=/^https?$/i,IH=["POST","PUT"];w=ge.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vy.g(),this.C=this.u?sA(this.u):sA(Vy),this.g.onreadystatechange=We(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){cA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=fA(IH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eS(this),0<this.B&&((this.L=wH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.ua,this)):this.A=nv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cA(this,s)}};function wH(t){return Rs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof zy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,He(this,"timeout"),this.abort(8))};function cA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZA(t),Ud(t)}function ZA(t){t.F||(t.F=!0,He(t,"complete"),He(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,He(this,"complete"),He(this,"abort"),Ud(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ud(this,!0)),ge.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?XA(this):this.kb())};w.kb=function(){XA(this)};function XA(t){if(t.h&&typeof zy<"u"&&(!t.C[1]||ln(t)!=4||t.da()!=2)){if(t.v&&ln(t)==4)nv(t.La,0,t);else if(He(t,"readystatechange"),ln(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(BA)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!_H.test(i?i.toLowerCase():"")}n=r}if(n)He(t,"complete"),He(t,"success");else{t.m=6;try{var s=2<ln(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ZA(t)}}finally{Ud(t)}}}}function Ud(t,e){if(t.g){eS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||He(t,"ready");try{n.onreadystatechange=r}catch{}}}function eS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function ln(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vH(e)}};function uA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function EH(t){let e={};t=(t.g&&2<=ln(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ba(t[r]))continue;var n=K$(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}q$(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tS(t){let e="";return Ky(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nS(t){this.Ga=0,this.j=[],this.l=new xd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wa("baseRetryDelayMs",5e3,t),this.hb=wa("retryDelaySeedMs",1e4,t),this.eb=wa("forwardChannelMaxRetries",2,t),this.xa=wa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zA(t&&t.concurrentRequestLimit),this.Ja=new gH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=nS.prototype;w.ra=8;w.H=1;function uv(t){if(rS(t),t.H==3){var e=t.W++,n=Un(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),$a(t,n),e=new Va(t,t.l,e),e.L=2,e.A=Ld(Un(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=dS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ua(e)}uS(t)}function jd(t){t.g&&(dv(t),t.g.cancel(),t.g=null)}function rS(t){jd(t),t.u&&(k.clearTimeout(t.u),t.u=null),Dd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function Bd(t){if(!GA(t.i)&&!t.m){t.m=!0;var e=t.Na;Sa||CA(),Ra||(Sa(),Ra=!0),ev.add(e,t),t.C=0}}function DH(t,e){return WA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fa(We(t.Na,t,e),cS(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Va(this,this.l,t),s=this.s;if(this.U&&(s?(s=yA(s),vA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=iS(this,i,e),n=Un(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),$a(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(tS(s)))+"&"+e:this.o&&cv(n,this.o,s)),ov(this.i,i),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.aa=!0,jy(i,n,null)):jy(i,n,e),this.H=2}}else this.H==3&&(t?lA(this,t):this.j.length==0||GA(this.i)||lA(this))};function lA(t,e){var n;e?n=e.m:n=t.W++;let r=Un(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),$a(t,r),t.o&&t.s&&cv(r,t.o,t.s),n=new Va(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=iS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ov(t.i,n),jy(n,r,e)}function $a(t,e){t.na&&Ky(t.na,function(n,r){le(e,r,n)}),t.h&&jA({},function(n,r){le(e,r,n)})}function iS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?We(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{mH(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function sS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sa||CA(),Ra||(Sa(),Ra=!0),ev.add(e,t),t.A=0}}function lv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fa(We(t.Ma,t),cS(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,oS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fa(We(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tt(10),jd(this),oS(this))};function dv(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function oS(t){t.g=new Va(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Un(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),$a(t,e),t.o&&t.s&&cv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ld(Un(e)),n.u=null,n.S=!0,FA(n,t)}w.ib=function(){this.v!=null&&(this.v=null,jd(this),lv(this),tt(19))};function Dd(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function aS(t,e){var n=null;if(t.g==e){Dd(t),dv(t),t.g=null;var r=2}else if($y(t.i,e))n=e.F,KA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Pd(),He(r,new NA(r,n)),Bd(t)}else sS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&DH(t,e)||r==2&&lv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:oi(t,5);break;case 4:oi(t,10);break;case 3:oi(t,6);break;default:oi(t,2)}}}function cS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=We(t.pb,t);n||(n=new ai("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||wd(n,"https"),Ld(n)),yH(n.toString(),r)}else tt(2);t.H=0,t.h&&t.h.za(e),uS(t),rS(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tt(2)):(this.l.info("Failed to ping google.com"),tt(1))};function uS(t){if(t.H=0,t.ma=[],t.h){let e=QA(t.i);(e.length!=0||t.j.length!=0)&&(tA(t.ma,e),tA(t.ma,t.j),t.i.i.length=0,Gy(t.j),t.j.length=0),t.h.ya()}}function lS(t,e,n){var r=n instanceof ai?Un(n):new ai(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ed(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ai(null);r&&wd(s,r),e&&(s.g=e),i&&Ed(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),$a(t,r),r}function dS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ge(new ja({ob:n})):new ge(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function hS(){}w=hS.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function Td(){if(Rs&&!(10<=Number(j$)))throw Error("Environmental error: no available transport.")}Td.prototype.g=function(t,e){return new Dt(t,e)};function Dt(t,e){Pe.call(this),this.g=new nS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ba(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ba(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ns(this)}Oe(Dt,Pe);Dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lS(t,null,t.Y),Bd(t)};Dt.prototype.close=function(){uv(this.g)};Dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Xy(t),t=n);e.j.push(new hH(e.fb++,t)),e.H==3&&Bd(e)};Dt.prototype.N=function(){this.g.h=null,delete this.j,uv(this.g),delete this.g,Dt.$.N.call(this)};function fS(t){iv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Oe(fS,iv);function pS(){sv.call(this),this.status=1}Oe(pS,sv);function Ns(t){this.g=t}Oe(Ns,hS);Ns.prototype.Ba=function(){He(this.g,"a")};Ns.prototype.Aa=function(t){He(this.g,new fS(t))};Ns.prototype.za=function(t){He(this.g,new pS)};Ns.prototype.ya=function(){He(this.g,"b")};function TH(){this.blockSize=-1}function Bt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Oe(Bt,TH);Bt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Bt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Sy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Sy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Sy(this,r),i=0;break}}this.h=i,this.i+=e};Bt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var CH={};function hv(t){return-128<=t&&128>t?L$(t,function(e){return new se([e|0],0>e?-1:0)}):new se([t|0],0>t?-1:0)}function dn(t){if(isNaN(t)||!isFinite(t))return Ss;if(0>t)return $e(dn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hy;return new se(e,0)}function gS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return $e(gS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dn(Math.pow(e,8)),r=Ss,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=dn(Math.pow(e,s)),r=r.R(s).add(dn(o))):(r=r.R(n),r=r.add(dn(o)))}return r}var Hy=4294967296,Ss=hv(0),qy=hv(1),dA=hv(16777216);w=se.prototype;w.ea=function(){if(Mt(this))return-$e(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hy+r)*e,e*=Hy}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Vn(this))return"0";if(Mt(this))return"-"+$e(this).toString(t);for(var e=dn(Math.pow(t,6)),n=this,r="";;){var i=bd(n,e).g;n=Cd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Vn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Vn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mt(t){return t.h==-1}w.X=function(t){return t=Cd(this,t),Mt(t)?-1:Vn(t)?0:1};function $e(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new se(n,~t.h).add(qy)}w.abs=function(){return Mt(this)?$e(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new se(n,n[n.length-1]&-2147483648?-1:0)};function Cd(t,e){return t.add($e(e))}w.R=function(t){if(Vn(this)||Vn(t))return Ss;if(Mt(this))return Mt(t)?$e(this).R($e(t)):$e($e(this).R(t));if(Mt(t))return $e(this.R($e(t)));if(0>this.X(dA)&&0>t.X(dA))return dn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Id(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Id(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Id(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Id(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new se(n,0)};function Id(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ea(t,e){this.g=t,this.h=e}function bd(t,e){if(Vn(e))throw Error("division by zero");if(Vn(t))return new Ea(Ss,Ss);if(Mt(t))return e=bd($e(t),e),new Ea($e(e.g),$e(e.h));if(Mt(e))return e=bd(t,$e(e)),new Ea($e(e.g),e.h);if(30<t.g.length){if(Mt(t)||Mt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qy,r=e;0>=r.X(t);)n=hA(n),r=hA(r);var i=bs(n,1),s=bs(r,1);for(r=bs(r,2),n=bs(n,2);!Vn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=bs(r,1),n=bs(n,1)}return e=Cd(t,i.R(e)),new Ea(i,e)}for(i=Ss;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=dn(n),o=s.R(e);Mt(o)||0<o.X(t);)n-=r,s=dn(n),o=s.R(e);Vn(s)&&(s=qy),i=i.add(s),t=Cd(t,o)}return new Ea(i,t)}w.gb=function(t){return bd(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new se(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new se(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new se(n,this.h^t.h)};function hA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new se(n,t.h)}function bs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new se(i,t.h)}Td.prototype.createWebChannel=Td.prototype.g;Dt.prototype.send=Dt.prototype.u;Dt.prototype.open=Dt.prototype.m;Dt.prototype.close=Dt.prototype.close;Od.NO_ERROR=0;Od.TIMEOUT=8;Od.HTTP_ERROR=6;xA.COMPLETE="complete";PA.EventType=La;La.OPEN="a";La.CLOSE="b";La.ERROR="c";La.MESSAGE="d";Pe.prototype.listen=Pe.prototype.O;ge.prototype.listenOnce=ge.prototype.P;ge.prototype.getLastError=ge.prototype.Sa;ge.prototype.getLastErrorCode=ge.prototype.Ia;ge.prototype.getStatus=ge.prototype.da;ge.prototype.getResponseJson=ge.prototype.Wa;ge.prototype.getResponseText=ge.prototype.ja;ge.prototype.send=ge.prototype.ha;ge.prototype.setWithCredentials=ge.prototype.Oa;Bt.prototype.digest=Bt.prototype.l;Bt.prototype.reset=Bt.prototype.reset;Bt.prototype.update=Bt.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=dn;se.fromString=gS;var mS=$t.createWebChannelTransport=function(){return new Td},yS=$t.getStatEventTarget=function(){return Pd()},$d=$t.ErrorCode=Od,vS=$t.EventType=xA,_S=$t.Event=ci,fv=$t.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},W7=$t.FetchXmlHttpFactory=ja,Ha=$t.WebChannel=PA,IS=$t.XhrIo=ge,wS=$t.Md5=Bt,ui=$t.Integer=se;var ES="@firebase/firestore";var ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");var Js="10.8.0";var mi=new fr("@firebase/firestore");function qa(){return mi.logLevel}function E(t,...e){if(mi.logLevel<=Q.DEBUG){let n=e.map(eI);mi.debug(`Firestore (${Js}): ${t}`,...n)}}function vn(t,...e){if(mi.logLevel<=Q.ERROR){let n=e.map(eI);mi.error(`Firestore (${Js}): ${t}`,...n)}}function Vs(t,...e){if(mi.logLevel<=Q.WARN){let n=e.map(eI);mi.warn(`Firestore (${Js}): ${t}`,...n)}}function eI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function P(t="Unexpected state"){let e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw vn(e),new Error(e)}function ue(t,e){t||P()}function U(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends Et{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ke.UNAUTHENTICATED))}shutdown(){}},_v=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Iv=class{constructor(e){this.t=e,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new Wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new ke(e)}},wv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ev=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new Dv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function bH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=bH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ne(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var qe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var V=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new qe(0,0))}static max(){return new t(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&P(),r===void 0?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},de=class t extends Qd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},AH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class t extends Qd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return AH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var M=class t{constructor(e){this.path=e}static fromPath(e){return new t(de.fromString(e))}static fromName(e){return new t(de.fromString(e).popFirst(5))}static empty(){return new t(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new de(e.slice()))}};var Cv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Cv.UNKNOWN_ID=-1;function SH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new yi(i,M.empty(),e)}function RH(t){return new yi(t.readTime,t.key,-1)}var yi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(V.min(),M.empty(),-1)}static max(){return new t(V.max(),M.empty(),-1)}};function MH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}var NH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ac(t){return f(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==NH)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Av=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new pn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new pi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=tI(r.target.error);this.V.reject(new pi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new pi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Rv(n)}},Yd=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(pe())===12.2&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),li(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ll())return!1;if(t.C())return!0;let e=pe(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new pi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new pi(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Av.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Sv=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return li(this.k.delete())}},pi=class extends C{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function cc(t){return t.name==="IndexedDbTransactionError"}var Rv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),li(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),li(this.store.add(e))}get(e){return li(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),li(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),li(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=tI(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Sv(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function li(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=tI(r.target.error);n(i)}})}var DS=!1;function tI(t){let e=Yd.S(pe());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DS||(DS=!0,setTimeout(()=>{throw r},0)),r}}return t}var tR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ch(t){return t==null}function Ya(t){return t===0&&1/t==-1/0}function xH(t){return typeof t=="number"&&Number.isInteger(t)&&!Ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var PH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rQ=[...PH,"documentOverlays"],OH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kH=OH,iQ=[...kH,"indexConfiguration","indexState","indexEntries"];function TS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ye=class t{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ks(this.root,e,this.comparator,!0)}},ks=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();let e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(e){return new Jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Jd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class t{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nt.EMPTY_BYTE_STRING=new nt("");var FH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(ue(!!t),typeof t=="string"){let e=0,n=FH.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(t.seconds),nanos:me(t.nanos)}}function me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}function nI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rI(t){let e=t.mapValue.fields.__previous_value__;return nI(e)?rI(e):e}function Ja(t){let e=Tr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}var Mv=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Xd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nI(t)?4:rR(t)?9007199254740991:10:P()}function _n(t,e){if(t===e)return!0;let n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ja(t).isEqual(Ja(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Tr(i.timestampValue),a=Tr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Cr(i.bytesValue).isEqual(Cr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return me(i.geoPointValue.latitude)===me(s.geoPointValue.latitude)&&me(i.geoPointValue.longitude)===me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return me(i.integerValue)===me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=me(i.doubleValue),a=me(s.doubleValue);return o===a?Ya(o)===Ya(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(TS(o)!==TS(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!_n(o[c],a[c])))return!1;return!0}(t,e);default:return P()}}function Za(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function js(t,e){if(t===e)return 0;let n=vi(t),r=vi(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=me(s.integerValue||s.doubleValue),c=me(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return CS(t.timestampValue,e.timestampValue);case 4:return CS(Ja(t),Ja(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Cr(s),c=Cr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ne(a[u],c[u]);if(l!==0)return l}return ne(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ne(me(s.latitude),me(o.latitude));return a!==0?a:ne(me(s.longitude),me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=js(a[u],c[u]);if(l)return l}return ne(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Hd.mapValue&&o===Hd.mapValue)return 0;if(s===Hd.mapValue)return 1;if(o===Hd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ne(c[d],l[d]);if(h!==0)return h;let p=js(a[c[d]],u[l[d]]);if(p!==0)return p}return ne(c.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function CS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);let n=Tr(t),r=Tr(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function Bs(t){return Nv(t)}function Nv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Nv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Nv(n.fields[o])}`;return i+"}"}(t.mapValue):P()}function bS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xv(t){return!!t&&"integerValue"in t}function iI(t){return!!t&&"arrayValue"in t}function AS(t){return!!t&&"nullValue"in t}function SS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function Ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ga(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ht=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ga(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ga(this.value))}};function iR(t){let e=[];return Zs(t.fields,(n,r)=>{let i=new Tt([n]);if(zd(r)){let s=iR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}var qt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,V.min(),V.min(),V.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,V.min(),V.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,V.min(),V.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $s=class{constructor(e,n){this.position=e,this.inclusive=n}};function RS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=js(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var Hs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function LH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var eh=class{},be=class t extends eh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ov(e,n,r):n==="array-contains"?new Lv(e,r):n==="in"?new Vv(e,r):n==="not-in"?new Uv(e,r):n==="array-contains-any"?new jv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kv(e,r):new Fv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zt=class t extends eh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return sR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function sR(t){return t.op==="and"}function oR(t){return VH(t)&&sR(t)}function VH(t){for(let e of t.filters)if(e instanceof zt)return!1;return!0}function Pv(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+Bs(t.value);if(oR(t))return t.filters.map(e=>Pv(e)).join(",");{let e=t.filters.map(n=>Pv(n)).join(",");return`${t.op}(${e})`}}function aR(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aR(o,i.filters[a]),!0):!1}(t,e):void P()}function cR(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`}(t):t instanceof zt?function(n){return n.op.toString()+" {"+n.getFilters().map(cR).join(" ,")+"}"}(t):"Filter"}var Ov=class extends be{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){let n=M.comparator(e.key,this.key);return this.matchesComparison(n)}},kv=class extends be{constructor(e,n){super(e,"in",n),this.keys=uR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Fv=class extends be{constructor(e,n){super(e,"not-in",n),this.keys=uR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function uR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}var Lv=class extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return iI(n)&&Za(n.arrayValue,this.value)}},Vv=class extends be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}},Uv=class extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Za(this.value.arrayValue,n)}},jv=class extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!iI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}};var Bv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function NS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bv(t,e,n,r,i,s,o)}function sI(t){let e=U(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bs(r)).join(",")),e.ce=n}return e.ce}function oI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MS(t.startAt,e.startAt)&&MS(t.endAt,e.endAt)}function $v(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var _i=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function UH(t,e,n,r,i,s,o,a){return new _i(t,e,n,r,i,s,o,a)}function aI(t){return new _i(t)}function xS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lR(t){return t.collectionGroup!==null}function Wa(t){let e=U(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(Tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Hs(s,r))}),n.has(Tt.keyField().canonicalString())||e.le.push(new Hs(Tt.keyField(),r))}return e.le}function mn(t){let e=U(t);return e.he||(e.he=jH(e,Wa(t))),e.he}function jH(t,e){if(t.limitType==="F")return NS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Hs(i.field,s)});let n=t.endAt?new $s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $s(t.startAt.position,t.startAt.inclusive):null;return NS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hv(t,e){let n=t.filters.concat([e]);return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qv(t,e,n){return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bh(t,e){return oI(mn(t),mn(e))&&t.limitType===e.limitType}function dR(t){return`${sI(mn(t))}|lt:${t.limitType}`}function xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cR(i)).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`}(mn(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Wa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=RS(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Wa(r),i)||r.endAt&&!function(o,a,c){let u=RS(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Wa(r),i))}(t,e)}function BH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hR(t){return(e,n)=>{let r=!1;for(let i of Wa(t)){let s=$H(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $H(t,e,n){let r=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?js(c,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}var br=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return nR(this.inner)}size(){return this.innerSize}};var HH=new ye(M.comparator);function jn(){return HH}var fR=new ye(M.comparator);function za(...t){let e=fR;for(let n of t)e=e.insert(n.key,n);return e}function pR(t){let e=fR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function di(){return Ka()}function gR(){return Ka()}function Ka(){return new br(t=>t.toString(),(t,e)=>t.isEqual(e))}var qH=new ye(M.comparator),zH=new Ye(M.comparator);function Y(...t){let e=zH;for(let n of t)e=e.add(n);return e}var GH=new Ye(ne);function WH(){return GH}function mR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(e)?"-0":e}}function yR(t){return{integerValue:""+t}}function KH(t,e){return xH(e)?yR(e):mR(t,e)}var qs=class{constructor(){this._=void 0}};function QH(t,e,n){return t instanceof zs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nI(s)&&(s=rI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ii?_R(t,e):t instanceof wi?IR(t,e):function(i,s){let o=vR(i,s),a=PS(o)+PS(i.Ie);return xv(o)&&xv(i.Ie)?yR(a):mR(i.serializer,a)}(t,e)}function YH(t,e,n){return t instanceof Ii?_R(t,e):t instanceof wi?IR(t,e):n}function vR(t,e){return t instanceof Gs?function(r){return xv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var zs=class extends qs{},Ii=class extends qs{constructor(e){super(),this.elements=e}};function _R(t,e){let n=wR(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var wi=class extends qs{constructor(e){super(),this.elements=e}};function IR(t,e){let n=wR(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var Gs=class extends qs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function PS(t){return me(t.integerValue||t.doubleValue)}function wR(t){return iI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ii&&i instanceof Ii||r instanceof wi&&i instanceof wi?Us(r.elements,i.elements,_n):r instanceof Gs&&i instanceof Gs?_n(r.Ie,i.Ie):r instanceof zs&&i instanceof zs}(t.transform,e.transform)}var zv=class{constructor(e,n){this.version=e,this.transformResults=n}},Er=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ws=class{};function ER(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new th(t.key,Er.none()):new Ei(t.key,t.data,Er.none());{let n=t.data,r=Ht.empty(),i=new Ye(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bn(t.key,r,new fn(i.toArray()),Er.none())}}function ZH(t,e,n){t instanceof Ei?function(i,s,o){let a=i.value.clone(),c=kS(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bn?function(i,s,o){if(!Gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=kS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(DR(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof Ei?function(s,o,a,c){if(!Gd(s.precondition,o))return a;let u=s.value.clone(),l=FS(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bn?function(s,o,a,c){if(!Gd(s.precondition,o))return a;let u=FS(s.fieldTransforms,c,o),l=o.data;return l.setAll(DR(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=vR(r.transform,i||null);s!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,s))}return n||null}function OS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Us(r,i,(s,o)=>JH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ei=class extends Ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bn=class extends Ws{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function DR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function kS(t,e,n){let r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,YH(o,a,n[i]))}return r}function FS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,QH(s,o,e))}return r}var th=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Gv=class extends Ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Wv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&ZH(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=gR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=ER(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Y())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,r)=>OS(n,r))&&Us(this.baseMutations,e.baseMutations,(n,r)=>OS(n,r))}},Kv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return qH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Qv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Yv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Te,Z;function eq(t){switch(t){default:return P();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function TR(t){if(t===void 0)return vn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Te.OK:return m.OK;case Te.CANCELLED:return m.CANCELLED;case Te.UNKNOWN:return m.UNKNOWN;case Te.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Te.INTERNAL:return m.INTERNAL;case Te.UNAVAILABLE:return m.UNAVAILABLE;case Te.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Te.NOT_FOUND:return m.NOT_FOUND;case Te.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Te.ABORTED:return m.ABORTED;case Te.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Te.DATA_LOSS:return m.DATA_LOSS;default:return P()}}(Z=Te||(Te={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var LS=null;function tq(){return new TextEncoder}var nq=new ui([4294967295,4294967295],0);function VS(t){let e=tq().encode(t),n=new wS;return n.update(e),new Uint8Array(n.digest())}function US(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ui([n,r],0),new ui([i,s],0)]}var Jv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hi(`Invalid padding: ${n}`);if(r<0)throw new hi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ui.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ui.fromNumber(r)));return i.compare(nq)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=VS(e),[r,i]=US(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=VS(e),[r,i]=US(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},hi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(V.min(),i,new ye(ne),jn(),Y())}},Xa=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Y(),Y(),Y())}};var Fs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},rh=class{constructor(e,n){this.targetId=e,this.fe=n}},ih=class{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},sh=class{constructor(){this.ge=0,this.pe=BS(),this.ye=nt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Y(),n=Y(),r=Y();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new Xa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=BS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Zv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=jn(),this.Qe=jS(),this.Ke=new ye(ne)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if($v(s))if(r===0){let o=new M(s.path);this.We(n,o,qt.newNoDocument(o,V.min()))}else ue(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}LS?.tt(function(l,d,h,p,g){var _,v,D,$,X,oe;let ve={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ae=d.unchangedNames;return ae&&(ve.bloomFilter={applied:g===0,hashCount:(_=ae?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:($=(D=(v=ae?.bits)===null||v===void 0?void 0:v.bitmap)===null||D===void 0?void 0:D.length)!==null&&$!==void 0?$:0,padding:(oe=(X=ae?.bits)===null||X===void 0?void 0:X.padding)!==null&&oe!==void 0?oe:0,mightContain:dt=>{var $n;return($n=p?.mightContain(dt))!==null&&$n!==void 0&&$n}}),ve}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Cr(r).toUint8Array()}catch(c){if(c instanceof Zd)return Vs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Jv(o,i,s)}catch(c){return Vs(c instanceof hi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&$v(a.target)){let c=new M(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,qt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Y();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new nh(e,n,this.Ke,this.qe,r);return this.qe=jn(),this.Qe=jS(),this.Ke=new ye(ne),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new sh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ye(ne),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new sh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function jS(){return new ye(M.comparator)}function BS(){return new ye(M.comparator)}var rq={asc:"ASCENDING",desc:"DESCENDING"},iq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sq={and:"AND",or:"OR"},Xv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function e_(t,e){return t.useProto3Json||Ch(e)?e:{value:e}}function oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oq(t,e){return oh(t,e.toTimestamp())}function yn(t){return ue(!!t),V.fromTimestamp(function(n){let r=Tr(n);return new qe(r.seconds,r.nanos)}(t))}function cI(t,e){return t_(t,e).canonicalString()}function t_(t,e){let n=function(i){return new de(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bR(t){let e=de.fromString(t);return ue(NR(e)),e}function n_(t,e){return cI(t.databaseId,e.path)}function pv(t,e){let n=bR(e);if(n.get(1)!==t.databaseId.projectId)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(SR(n))}function AR(t,e){return cI(t.databaseId,e)}function aq(t){let e=bR(t);return e.length===4?de.emptyPath():SR(e)}function r_(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SR(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $S(t,e,n){return{name:n_(t,e),fields:n.value.mapValue.fields}}function cq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:P()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ue(l===void 0||typeof l=="string"),nt.fromBase64String(l||"")):(ue(l===void 0||l instanceof Uint8Array),nt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:TR(u.code);return new C(l,u.message||"")}(o);n=new ih(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pv(t,r.document.name),s=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):V.min(),a=new Ht({mapValue:{fields:r.document.fields}}),c=qt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Fs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pv(t,r.document),s=r.readTime?yn(r.readTime):V.min(),o=qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pv(t,r.document),s=r.removedTargetIds||[];n=new Fs([],s,i,null)}else{if(!("filter"in e))return P();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Yv(i,s),a=r.targetId;n=new rh(a,o)}}return n}function uq(t,e){let n;if(e instanceof Ei)n={update:$S(t,e.key,e.value)};else if(e instanceof th)n={delete:n_(t,e.key)};else if(e instanceof Bn)n={update:$S(t,e.key,e.data),updateMask:vq(e.fieldMask)};else{if(!(e instanceof Gv))return P();n={verify:n_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof zs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ii)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:P()}(t,e.precondition)),n}function lq(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yn(i.updateTime):yn(s);return o.isEqual(V.min())&&(o=yn(s)),new zv(o,i.transformResults||[])}(n,e))):[]}function dq(t,e){return{documents:[AR(t,e.path)]}}function hq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AR(t,i);let s=function(u){if(u.length!==0)return MR(zt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ps(h.field),direction:gq(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=e_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function fq(t){let e=aq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ue(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=RR(d);return h instanceof zt&&oR(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Hs(Os(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ch(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new $s(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new $s(p,h)}(n.endAt)),UH(e,i,o,s,a,"F",c,u)}function pq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Os(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Os(n.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Os(n.unaryFilter.field);return be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):t.fieldFilter!==void 0?function(n){return be.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zt.create(n.compositeFilter.filters.map(r=>RR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return P()}}(n.compositeFilter.op))}(t):P()}function gq(t){return rq[t]}function mq(t){return iq[t]}function yq(t){return sq[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Os(t){return Tt.fromServerFormat(t.fieldPath)}function MR(t){return t instanceof be?function(n){if(n.op==="=="){if(SS(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(AS(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SS(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(AS(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:mq(n.op),value:n.value}}}(t):t instanceof zt?function(n){let r=n.getFilters().map(i=>MR(i));return r.length===1?r[0]:{compositeFilter:{op:yq(n.op),filters:r}}}(t):P()}function vq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ec=class t{constructor(e,n,r,i,s=V.min(),o=V.min(),a=nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var i_=class{constructor(e){this.ct=e}};function _q(t){let e=fq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qv(e,e.limit,"L"):e}var ah=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(me(e.integerValue));else if("doubleValue"in e){let r=me(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ya(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Cr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?rR(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):P()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),M.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ah.bt=new ah;var s_=class{constructor(){this._n=new o_}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(yi.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},o_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(de.comparator)).toArray()}};var oQ=new Uint8Array(0);var hn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var tc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var a_=class{constructor(){this.changes=new br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var c_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var u_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qa(r.mutation,i,fn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Y()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Y()){let i=di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=za();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Y()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jn(),o=Ka(),a=function(){return Ka()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Bn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Qa(l.mutation,u,l.mutation.getFieldMask(),qe.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new c_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ka(),i=new ye((o,a)=>o-a),s=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||fn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Y()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=gR();l.forEach(h=>{if(!s.has(h)){let p=ER(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(di()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Y())).next(l=>({batchId:a,changes:pR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=za();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new _i(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,qt.newInvalidDocument(l)))});let a=za();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Qa(l.mutation,u,fn.empty(),qe.now()),Ah(n,u)&&(a=a.insert(c,u))}),a})}};var l_=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:_q(i.bundledQuery),readTime:yn(i.readTime)}}(n)),y.resolve()}};var d_=class{constructor(){this.overlays=new ye(M.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=di();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=di(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ye((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=di(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=di(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Qv(n,r));let s=this.hr.get(n);s===void 0&&(s=Y(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var nc=class{constructor(){this.Pr=new Ye(Ce.Ir),this.Tr=new Ye(Ce.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ce(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ce(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new M(new de([])),r=new Ce(n,e),i=new Ce(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new M(new de([])),r=new Ce(n,e),i=new Ce(n,e+1),s=Y();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ce(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ce=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return M.comparator(e.key,n.key)||ne(e.pr,n.pr)}static Er(e,n){return ne(e.pr,n.pr)||M.comparator(e.key,n.key)}};var h_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ye(Ce.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Wv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ce(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ce(n,0),i=new Ce(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ne);return n.forEach(i=>{let s=new Ce(i,0),o=new Ce(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;M.isDocumentKey(s)||(s=s.child(""));let o=new Ce(new M(s),0),a=new Ye(ne);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new Ce(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ce(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var f_=class{constructor(e){this.vr=e,this.docs=function(){return new ye(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qt.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jn(),o=n.path,a=new M(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||MH(RH(l),r)<=0||(i.has(l.key)||Ah(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p_(this)}getSize(e){return y.resolve(this.size)}},p_=class extends a_{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var g_=class{constructor(e){this.persistence=e,this.Mr=new br(n=>sI(n),oI),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Or=0,this.Nr=new nc,this.targetCount=0,this.Br=tc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var m_=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new tR(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new g_(this),this.indexManager=new s_,this.remoteDocumentCache=function(i){return new f_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new i_(n),this.$r=new l_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new h_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new y_(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},y_=class extends bv{constructor(e){super(),this.currentSequenceNumber=e}},v_=class t{constructor(e){this.persistence=e,this.zr=new nc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw P()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=M.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var __=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Y(),i=Y();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var I_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var w_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Bb()?8:Yd.v(pe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new I_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(qa()<=Q.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(qa()<=Q.DEBUG&&E("QueryEngine","Query:",xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(qa()<=Q.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(n))):y.resolve())}ji(e,n){if(xS(n))return y.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qv(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Y(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,qv(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return xS(n)||i.isEqual(V.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(qa()<=Q.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xs(n)),this.es(e,o,n,SH(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ye(hR(e));return n.forEach((i,s)=>{Ah(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return qa()<=Q.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",xs(n)),this.zi.getDocumentsMatchingQuery(e,n,yi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var E_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ye(ne),this.rs=new br(s=>sI(s),oI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Iq(t,e,n,r){return new E_(t,e,n,r)}function xR(t,e){return f(this,null,function*(){let n=U(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Y();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function wq(t,e){let n=U(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(g=>{p=p.next(()=>l.getEntry(c,g)).next(_=>{let v=u.docVersions.get(g);ue(v!==null),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Y();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PR(t){let e=U(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Eq(t,e){let n=U(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(nt.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(_,v,D){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(s,p))});let c=jn(),u=Y();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Dq(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(V.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function Dq(t,e,n){let r=Y(),i=Y();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(V.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function Tq(t,e){let n=U(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cq(t,e){let n=U(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ec(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function D_(t,e,n){return f(this,null,function*(){let r=U(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!cc(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function HS(t,e,n){let r=U(t),i=V.min(),s=Y();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=U(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:Y())).next(a=>(bq(r,BH(e),a),{documents:a,hs:s})))}function bq(t,e,n){let r=t.ss.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var ch=class{constructor(){this.activeTargetIds=WH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var T_=class{constructor(){this.no=new ch,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ch,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var C_=class{io(e){}shutdown(){}};var uh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qd=null;function gv(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}var Aq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var b_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Qe="WebChannelConnection",A_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=gv(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Vs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Aq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=gv();return new Promise((o,a)=>{let c=new IS;c.setWithCredentials(!0),c.listenOnce(vS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $d.NO_ERROR:let l=c.getResponseJson();E(Qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case $d.TIMEOUT:E(Qe,`RPC '${e}' ${s} timed out`),a(new C(m.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:let d=c.getStatus();if(E(Qe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let g=function(v){let D=v.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(D)>=0?D:m.UNKNOWN}(p.status);a(new C(g,p.message))}else a(new C(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(m.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{E(Qe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Qe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=gv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mS(),a=yS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Qe,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,g=new b_({lo:v=>{p?E(Qe,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(E(Qe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(Qe,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},ho:()=>d.close()}),_=(v,D,$)=>{v.listen(D,X=>{try{$(X)}catch(oe){setTimeout(()=>{throw oe},0)}})};return _(d,Ha.EventType.OPEN,()=>{p||E(Qe,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Ha.EventType.CLOSE,()=>{p||(p=!0,E(Qe,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),_(d,Ha.EventType.ERROR,v=>{p||(p=!0,Vs(Qe,`RPC '${e}' stream ${i} transport errored:`,v),g.Vo(new C(m.UNAVAILABLE,"The operation could not be completed")))}),_(d,Ha.EventType.MESSAGE,v=>{var D;if(!p){let $=v.data[0];ue(!!$);let X=$,oe=X.error||((D=X[0])===null||D===void 0?void 0:D.error);if(oe){E(Qe,`RPC '${e}' stream ${i} received error:`,oe);let ve=oe.status,ae=function(Sr){let dc=Te[Sr];if(dc!==void 0)return TR(dc)}(ve),dt=oe.message;ae===void 0&&(ae=m.INTERNAL,dt="Unknown error status: "+ve+" with message "+oe.message),p=!0,g.Vo(new C(ae,dt)),d.close()}else E(Qe,`RPC '${e}' stream ${i} received:`,$),g.mo($)}}),_(a,_S.STAT_EVENT,v=>{v.stat===fv.PROXY?E(Qe,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===fv.NOPROXY&&E(Qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function mv(){return typeof document<"u"?document:null}function Sh(t){return new Xv(t,!0)}var lh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var dh=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new lh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},S_=class extends dh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=cq(this.serializer,e),r=function(s){if(!("targetChange"in s))return V.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?V.min():o.readTime?yn(o.readTime):V.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=r_(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=$v(c)?{documents:dq(s,c)}:{query:hq(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CR(s,o.resumeToken);let u=e_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(V.min())>0){a.readTime=oh(s,o.snapshotVersion.toTimestamp());let u=e_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=pq(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=r_(this.serializer),n.removeTarget=e,this.t_(n)}},R_=class extends dh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=lq(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.T_(r,n)}return ue(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=r_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>uq(this.serializer,r))};this.t_(n)}};var M_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,t_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(m.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,t_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var N_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(vn(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var x_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>f(this,null,function*(){Ti(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=U(c);u.v_.add(4),yield uc(u),u.x_.set("Unknown"),u.v_.delete(4),yield Rh(u)})}(this))}))}),this.x_=new N_(r,i)}};function Rh(t){return f(this,null,function*(){if(Ti(t))for(let e of t.F_)yield e(!0)})}function uc(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function OR(t,e){let n=U(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),dI(n)?lI(n):Xs(n).Jo()&&uI(n,e))}function kR(t,e){let n=U(t),r=Xs(n);n.C_.delete(e),r.Jo()&&FR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ti(n)&&n.x_.set("Unknown"))}function uI(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).c_(e)}function FR(t,e){t.O_.Oe(e),Xs(t).l_(e)}function lI(t){t.O_=new Zv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.x_.p_()}function dI(t){return Ti(t)&&!Xs(t).Ho()&&t.C_.size>0}function Ti(t){return U(t).v_.size===0}function LR(t){t.O_=void 0}function Sq(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{uI(t,e)})})}function Rq(t,e){return f(this,null,function*(){LR(t),dI(t)?(t.x_.S_(e),lI(t)):t.x_.set("Unknown")})}function Mq(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof ih&&e.state===2&&e.cause)try{yield function(i,s){return f(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hh(t,r)}else if(e instanceof Fs?t.O_.$e(e):e instanceof rh?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(V.min()))try{let r=yield PR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(nt.EMPTY_BYTE_STRING,l.snapshotVersion)),FR(s,c);let d=new ec(l.target,c,u,l.sequenceNumber);uI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield hh(t,r)}})}function hh(t,e,n){return f(this,null,function*(){if(!cc(e))throw e;t.v_.add(1),yield uc(t),t.x_.set("Offline"),n||(n=()=>PR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Rh(t)}))})}function VR(t,e){return e().catch(n=>hh(t,n,e))}function Mh(t){return f(this,null,function*(){let e=U(t),n=Ar(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Nq(e);)try{let i=yield Tq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,xq(e,i)}catch(i){yield hh(e,i)}UR(e)&&jR(e)})}function Nq(t){return Ti(t)&&t.D_.length<10}function xq(t,e){t.D_.push(e);let n=Ar(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function UR(t){return Ti(t)&&!Ar(t).Ho()&&t.D_.length>0}function jR(t){Ar(t).start()}function Pq(t){return f(this,null,function*(){Ar(t).d_()})}function Oq(t){return f(this,null,function*(){let e=Ar(t);for(let n of t.D_)e.I_(n.mutations)})}function kq(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=Kv.from(r,e,n);yield VR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Mh(t)})}function Fq(t,e){return f(this,null,function*(){e&&Ar(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return eq(o)&&o!==m.ABORTED}(i.code)){let s=r.D_.shift();Ar(r).Zo(),yield VR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Mh(r)}})}(t,e)),UR(t)&&jR(t)})}function qS(t,e){return f(this,null,function*(){let n=U(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=Ti(n);n.v_.add(3),yield uc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Rh(n)})}function Lq(t,e){return f(this,null,function*(){let n=U(t);e?(n.v_.delete(2),yield Rh(n)):e||(n.v_.add(2),yield uc(n),n.x_.set("Unknown"))})}function Xs(t){return t.N_||(t.N_=function(n,r,i){let s=U(n);return s.R_(),new S_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Sq.bind(null,t),To:Rq.bind(null,t),u_:Mq.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),dI(t)?lI(t):t.x_.set("Unknown")):(yield t.N_.stop(),LR(t))}))),t.N_}function Ar(t){return t.B_||(t.B_=function(n,r,i){let s=U(n);return s.R_(),new R_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Pq.bind(null,t),To:Fq.bind(null,t),E_:Oq.bind(null,t),T_:kq.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.B_.Zo(),yield Mh(t)):(yield t.B_.stop(),t.D_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var P_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hI(t,e){if(vn("AsyncQueue",`${e}: ${t}`),cc(t))return new C(m.UNAVAILABLE,`${e}: ${t}`);throw t}var fh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ph=class{constructor(){this.L_=new ye(M.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):P():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ks=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,fh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var O_=class{constructor(){this.q_=void 0,this.Q_=[]}},k_=class{constructor(){this.queries=new br(e=>dR(e),bh),this.onlineState="Unknown",this.K_=new Set}};function Vq(t,e){return f(this,null,function*(){let n=U(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new O_),i)try{s.q_=yield n.onListen(r)}catch(o){let a=hI(o,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&fI(n)})}function Uq(t,e){return f(this,null,function*(){let n=U(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function jq(t,e){let n=U(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&fI(n)}function Bq(t,e,n){let r=U(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function fI(t){t.K_.forEach(e=>{e.next()})}var F_=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var gh=class{constructor(e){this.key=e}},mh=class{constructor(e){this.key=e}},L_=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Y(),this.mutatedKeys=Y(),this.ua=hR(e),this.ca=new fh(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new ph,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=Ah(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),v=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),v=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),v=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(p?(o=o.add(p),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(p,g){let _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return _(p)-_(g)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Ks(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new ph,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=Y(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new mh(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new gh(r))}),n}Ra(e){this.oa=e.hs,this.aa=Y();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ks.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},V_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},U_=class{constructor(e){this.key=e,this.ma=!1}},j_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new br(a=>dR(a),bh),this.pa=new Map,this.ya=new Set,this.wa=new ye(M.comparator),this.Sa=new Map,this.ba=new nc,this.Da={},this.Ca=new Map,this.va=tc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function $q(t,e){return f(this,null,function*(){let n=Zq(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield Cq(n.localStore,mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Hq(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&OR(n.remoteStore,o)}return i})}function Hq(t,e,n,r,i){return f(this,null,function*(){t.Ma=(d,h,p)=>function(_,v,D,$){return f(this,null,function*(){let X=v.view.ha(D);X.Xi&&(X=yield HS(_.localStore,v.query,!1).then(({documents:dt})=>v.view.ha(dt,X)));let oe=$&&$.targetChanges.get(v.targetId),ve=$&&$.targetMismatches.get(v.targetId)!=null,ae=v.view.applyChanges(X,_.isPrimaryClient,oe,ve);return GS(_,v.targetId,ae.da),ae.snapshot})}(t,d,h,p);let s=yield HS(t.localStore,e,!0),o=new L_(e,s.hs),a=o.ha(s.documents),c=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);GS(t,n,u.da);let l=new V_(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function qq(t,e){return f(this,null,function*(){let n=U(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!bh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield D_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kR(n.remoteStore,r.targetId),B_(n,r.targetId)}).catch(ac))):(B_(n,r.targetId),yield D_(n.localStore,r.targetId,!0))})}function zq(t,e,n){return f(this,null,function*(){let r=Xq(t);try{let i=yield function(o,a){let c=U(o),u=qe.now(),l=a.reduce((p,g)=>p.add(g.key),Y()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=jn(),_=Y();return c.os.getEntries(p,l).next(v=>{g=v,g.forEach((D,$)=>{$.isValidDocument()||(_=_.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;let D=[];for(let $ of a){let X=XH($,d.get($.key).overlayedDocument);X!=null&&D.push(new Bn($.key,X,iR(X.value.mapValue),Er.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,D,a)}).next(v=>{h=v;let D=v.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(p,v.batchId,D)})}).then(()=>({batchId:h.batchId,changes:pR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new ye(ne)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield lc(r,i.changes),yield Mh(r.remoteStore)}catch(i){let s=hI(i,"Failed to persist write");n.reject(s)}})}function BR(t,e){return f(this,null,function*(){let n=U(t);try{let r=yield Eq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ue(o.ma):i.removedDocuments.size>0&&(ue(o.ma),o.ma=!1))}),yield lc(n,r,e)}catch(r){yield ac(r)}})}function zS(t,e,n){let r=U(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=U(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&fI(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Gq(t,e,n){return f(this,null,function*(){let r=U(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new ye(M.comparator);o=o.insert(s,qt.newNoDocument(s,V.min()));let a=Y().add(s),c=new nh(V.min(),new Map,new ye(ne),o,a);yield BR(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),pI(r)}else yield D_(r.localStore,e,!1).then(()=>B_(r,e,n)).catch(ac)})}function Wq(t,e){return f(this,null,function*(){let n=U(t),r=e.batch.batchId;try{let i=yield wq(n.localStore,e);HR(n,r,null),$R(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield lc(n,i)}catch(i){yield ac(i)}})}function Kq(t,e,n){return f(this,null,function*(){let r=U(t);try{let i=yield function(o,a){let c=U(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ue(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);HR(r,e,n),$R(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield lc(r,i)}catch(i){yield ac(i)}})}function $R(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function HR(t,e,n){let r=U(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function B_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||qR(t,r)})}function qR(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(kR(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),pI(t))}function GS(t,e,n){for(let r of n)r instanceof gh?(t.ba.addReference(r.key,e),Qq(t,r)):r instanceof mh?(E("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||qR(t,r.key)):P()}function Qq(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ya.add(r),pI(t))}function pI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new M(de.fromString(e)),r=t.va.next();t.Sa.set(r,new U_(n)),t.wa=t.wa.insert(n,r),OR(t.remoteStore,new ec(mn(aI(n.path)),r,"TargetPurposeLimboResolution",tR._e))}}function lc(t,e,n){return f(this,null,function*(){let r=U(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=__.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return f(this,null,function*(){let l=U(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!cc(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,_)}}})}(r.localStore,s))})}function Yq(t,e){return f(this,null,function*(){let n=U(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield xR(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new C(m.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lc(n,r.us)}})}function Jq(t,e){let n=U(t),r=n.Sa.get(e);if(r&&r.ma)return Y().add(r.key);{let i=Y(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Zq(t){let e=U(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gq.bind(null,e),e.fa.u_=jq.bind(null,e.eventManager),e.fa.xa=Bq.bind(null,e.eventManager),e}function Xq(t){let e=U(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kq.bind(null,e),e}var yh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Iq(this.persistence,new w_,e.initialUser,this.serializer)}createPersistence(e){return new m_(v_.Hr,this.serializer)}createSharedClientState(e){return new T_}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var $_=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yq.bind(null,this.syncEngine),yield Lq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new k_}()}createDatastore(e){let n=Sh(e.databaseInfo.databaseId),r=function(s){return new A_(s)}(e.databaseInfo);return function(s,o,a,c){return new M_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new x_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zS(this.syncEngine,n,0),function(){return uh.D()?new uh:new C_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new j_(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=U(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield uc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var H_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):vn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var q_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ke.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=hI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yv(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield xR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function WS(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield tz(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qS(e.remoteStore,i)),t._onlineComponents=e})}function ez(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function tz(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!ez(n))throw n;Vs("Error using user provided cache. Falling back to memory cache: "+n),yield yv(t,new yh)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield yv(t,new yh);return t._offlineComponents})}function zR(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield WS(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield WS(t,new $_))),t._onlineComponents})}function nz(t){return zR(t).then(e=>e.syncEngine)}function KS(t){return f(this,null,function*(){let e=yield zR(t),n=e.eventManager;return n.onListen=$q.bind(null,e.syncEngine),n.onUnlisten=qq.bind(null,e.syncEngine),n})}function GR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var QS=new Map;function WR(t,e,n){if(!n)throw new C(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rz(t,e,n,r){if(e===!0&&r===!0)throw new C(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YS(t){if(!M.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JS(t){if(M.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":P()}function gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nh(t);throw new C(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var vh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vv;switch(r.type){case"firstParty":return new Ev(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=QS.get(n);r&&(E("ComponentProvider","Removing Datastore"),QS.delete(n),r.terminate())}(this),Promise.resolve()}};function KR(t,e,n,r={}){var i;let s=(t=gi(t,Qs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=ke.MOCK_USER;else{a=Fb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ke(u)}t._authCredentials=new _v(new Wd(a,c))}}var Ys=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Dr=class t extends Ys{constructor(e,n,r){super(e,n,aI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new M(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function QR(t,e,...n){if(t=Ae(t),WR("collection","path",e),t instanceof Qs){let r=de.fromString(e,...n);return JS(r),new Dr(t,null,r)}{if(!(t instanceof lt||t instanceof Dr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return JS(r),new Dr(t.firestore,null,r)}}function gI(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=Kd.newId()),WR("doc","path",e),t instanceof Qs){let r=de.fromString(e,...n);return YS(r),new lt(t,null,new M(r))}{if(!(t instanceof lt||t instanceof Dr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(de.fromString(e,...n));return YS(r),new lt(t.firestore,t instanceof Dr?t.converter:null,new M(r))}}var z_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new lh(this,"async_queue_retry"),this._u=()=>{let n=mv();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=mv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=mv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new pn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return f(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!cc(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=P_.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&P()}verifyOperationInProgress(){}hu(){return f(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function ZS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Di=class extends Qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new z_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZR(this),this._firestoreClient.terminate()}};function YR(t,e){let n=typeof t=="object"?t:Is(),r=typeof t=="string"?t:e||"(default)",i=ha(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=kb("firestore");s&&KR(i,...s)}return i}function JR(t){return t._firestoreClient||ZR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ZR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Mv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,GR(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new q_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var rc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nt.fromBase64String(e))}catch(n){throw new C(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ic=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _h=class{constructor(e){this._methodName=e}};var sc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}};var iz=/^__.*__$/,G_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ei(e,this.data,n,this.fieldTransforms)}};function XR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}var W_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ih(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(XR(this.du)&&iz.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},K_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sh(e)}Su(e,n,r,i=!1){return new W_({du:e,methodName:n,wu:r,path:Tt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mI(t){let e=t._freezeSettings(),n=Sh(t._databaseId);return new K_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eM(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);rM("Data must be an object, but it was:",o,r);let a=tM(r,o),c,u;if(s.merge)c=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=oz(e,d,n);if(!o.contains(h))throw new C(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);cz(l,h)||l.push(h)}c=new fn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new G_(new Ht(a),c,u)}function sz(t,e,n,r=!1){return yI(n,t.Su(r?4:3,e))}function yI(t,e){if(nM(t=Ae(t)))return rM("Unsupported field value:",e,t),tM(t,e);if(t instanceof _h)return function(r,i){if(!XR(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=yI(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=qe.fromDate(r);return{timestampValue:oh(i.serializer,s)}}if(r instanceof qe){let s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(i.serializer,s)}}if(r instanceof sc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rc)return{bytesValue:CR(i.serializer,r._byteString)};if(r instanceof lt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Nh(r)}`)}(t,e)}function tM(t,e){let n={};return nR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{let s=yI(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function nM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof sc||t instanceof rc||t instanceof lt||t instanceof _h)}function rM(t,e,n){if(!nM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function oz(t,e,n){if((e=Ae(e))instanceof ic)return e._internalPath;if(typeof e=="string")return iM(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}var az=new RegExp("[~\\*/\\[\\]]");function iM(t,e,n){if(e.search(az)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ic(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(m.INVALID_ARGUMENT,a+t+c)}function cz(t,e){return t.some(n=>n.isEqual(e))}var wh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Q_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(vI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Q_=class extends wh{data(){return super.data()}};function vI(t,e){return typeof e=="string"?iM(t,e):e instanceof ic?e._internalPath:e._delegate._internalPath}function uz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oc=class{},Y_=class extends oc{};function sM(t,e,...n){let r=[];e instanceof oc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof J_).length,a=s.filter(c=>c instanceof Eh).length;if(o>1||o>0&&a>0)throw new C(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Eh=class t extends Y_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return aM(e._query,n),new Ys(e.firestore,e.converter,Hv(e._query,n))}_parse(e){let n=mI(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){eR(d,l);let p=[];for(let g of d)p.push(XS(c,s,g));h={arrayValue:{values:p}}}else h=XS(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||eR(d,l),h=sz(a,o,d,l==="in"||l==="not-in");return be.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function oM(t,e,n){let r=e,i=vI("where",t);return Eh._create(i,r,n)}var J_=class t extends oc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)aM(o,c),o=Hv(o,c)}(e._query,n),new Ys(e.firestore,e.converter,Hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function XS(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new C(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lR(e)&&n.indexOf("/")!==-1)throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(de.fromString(n));if(!M.isDocumentKey(r))throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bS(t,new M(r))}if(n instanceof lt)return bS(t,n._key);throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function eR(t,e){if(!Array.isArray(t)||t.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aM(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Z_=class{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new sc(me(e.latitude),me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=rI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ja(e));default:return null}}convertTimestamp(e){let n=Tr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=de.fromString(e);ue(NR(r));let i=new Xd(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||vn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function cM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Dh=class extends wh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(vI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ls=class extends Dh{data(e={}){return super.data(e)}},X_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ls(this._firestore,this._userDataWriter,r.key,r,new fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:lz(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function lz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}var Th=class extends Z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}};function uM(t,e,n){t=gi(t,lt);let r=gi(t.firestore,Di),i=cM(t.converter,e,n);return dM(r,[eM(mI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function lM(t,e){let n=gi(t.firestore,Di),r=gI(t),i=cM(t.converter,e);return dM(n,[eM(mI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function _I(t,...e){var n,r,i;t=Ae(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ZS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(ZS(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof lt)u=gi(t.firestore,Di),l=aI(t._key.path),c={next:d=>{e[o]&&e[o](dz(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=gi(t,Ys);u=gi(d.firestore,Di),l=d._query;let h=new Th(u);c={next:p=>{e[o]&&e[o](new X_(u,h,d,p))},error:e[o+1],complete:e[o+2]},uz(t._query)}return function(h,p,g,_){let v=new H_(_),D=new F_(p,v,g);return h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Vq(yield KS(h),D)})),()=>{v.La(),h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return Uq(yield KS(h),D)}))}}(JR(u),l,a,c)}function dM(t,e){return function(r,i){let s=new pn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return zq(yield nz(r),i,s)})),s.promise}(JR(t),e)}function dz(t,e,n){let r=n.docs.get(e._key),i=new Th(t);return new Dh(t,i,e._key,r,new fi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Js=i})(mr),gr(new Rt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Di(new Iv(r.getProvider("auth-internal")),new Tv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Se(ES,"4.4.2",e),Se(ES,"4.4.2","esm2017")})();var xh=function(){return xh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xh.apply(this,arguments)};var pz={includeMetadataChanges:!1};function hM(t,e){return e===void 0&&(e=pz),new q(function(n){var r=_I(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function fM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:xh(xh({},r),(n={},n[e.idField]=t.id,n))}function pM(t){return hM(t,{includeMetadataChanges:!0}).pipe(H(function(e){return e.docs}))}function gM(t,e){return e===void 0&&(e={}),pM(t).pipe(H(function(n){return n.map(function(r){return fM(r,e)})}))}var Ci=class{constructor(e){return e}},mM="firestore",II=class{constructor(){return fa(mM)}};var wI=new b("angularfire2.firestore-instances");function gz(t,e){let n=$l(mM,t,e);return n&&new Ci(n)}function mz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ci(r)}}var yz={provide:II,deps:[[new Xe,wI]]},vz={provide:Ci,useFactory:gz,deps:[[new Xe,wI],On]},_z=(()=>{class t{constructor(){Se("angularfire",Xr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[vz,yz]})}return t})();function LY(t,...e){return{ngModule:_z,providers:[{provide:wI,useFactory:mz(t),multi:!0,deps:[K,Ne,Ds,ei,[new Xe,Ia],[new Xe,Es],...e]}]}}var VY=Re(gM,!0);var UY=Re(lM,!0);var jY=Re(QR,!0);var yM=Re(gI,!0);var BY=Re(YR,!0);var $Y=Re(sM,!0);var vM=Re(uM,!0);var HY=Re(oM,!0);var ZY=(()=>{let e=class e{constructor(r,i,s,o){this.auth=r,this.firestore=i,this.router=s,this.platformId=o,this.currentUserID="",ss(this.platformId)&&(this.displayname=localStorage.getItem("displayname")),Y0(this.auth).subscribe(a=>{a&&a.uid&&(this.currentUserID=a.uid)})}saveUserInfoAfterRegistering(r,i){let s=yM(this.firestore,`User/${i}`);return vM(s,r)}get isLoggedIn(){return ss(this.platformId)?localStorage.getItem("displayname")!=null:!1}setDisplayNameLocalStorage(r,i){ss(this.platformId)&&localStorage.setItem("displayname",r),localStorage.setItem("userobject",JSON.stringify(i))}getCurrentUserLoggedInObject(){return ss(this.platformId)?JSON.parse(localStorage.getItem("userobject")):[]}signIn(r){return ee(X0(this.auth,r.email,r.password)).pipe(ft(i=>Gt(()=>new Error(this.translateFirebaseErrorMessage(i)))))}signUp(r){return ee(J0(this.auth,r.email,r.password)).pipe(ft(i=>Gt(()=>new Error(this.translateFirebaseErrorMessageForSignUp(i)))))}resetPassword(r){return ee(Z0(this.auth,r)).pipe(ft(i=>Gt(()=>new Error(this.translateFirebaseErrorMessageForSignUp(i)))))}translateFirebaseErrorMessageForSignUp({code:r,message:i}){return r==="auth/admin-restricted-operation"?"Email is badly formatted.":r==="auth/email-already-in-use"?"Email already in use.":r==="auth/missing-email"?"Missing email":r==="auth/missing-password"?"Missing password":i}translateFirebaseErrorMessage({code:r,message:i}){return r==="auth/user-not-found"||r==="auth/wrong-password"?"User not found.":r==="auth/missing-email"?"Missing email":r==="auth/missing-password"?"Missing password":i}SignOut(){eA(this.auth),localStorage.removeItem("displayname"),this.router.navigate(["/auth/login"])}};e.\u0275fac=function(i){return new(i||e)(S(ii),S(Ci),S(jt),S(ct))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{f as a,R as b,je as c,S as d,I as e,tE as f,Be as g,G6 as h,W6 as i,K6 as j,Q6 as k,ct as l,Y6 as m,J6 as n,z as o,Yf as p,Uk as q,Hu as r,X6 as s,e5 as t,t5 as u,n5 as v,dT as w,hT as x,Zp as y,r5 as z,ar as A,i5 as B,o5 as C,D1 as D,wT as E,a5 as F,c5 as G,u5 as H,F5 as I,qT as J,ss as K,l8 as L,d8 as M,h8 as N,GL as O,jt as P,QC as Q,rK as R,iK as S,HK as T,qK as U,H7 as V,q7 as W,z7 as X,Ci as Y,LY as Z,VY as _,UY as $,jY as aa,BY as ba,$Y as ca,HY as da,ZY as ea,IC as fa,uC as ga,M8 as ha,N8 as ia,ll as ja,sl as ka,P8 as la,cL as ma,lL as na,jC as oa,O8 as pa,k8 as qa,vL as ra,F8 as sa,L8 as ta,V8 as ua};
