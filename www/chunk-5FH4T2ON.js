var kM=Object.create;var vc=Object.defineProperty,FM=Object.defineProperties,LM=Object.getOwnPropertyDescriptor,VM=Object.getOwnPropertyDescriptors,UM=Object.getOwnPropertyNames,yc=Object.getOwnPropertySymbols,FI=Object.getPrototypeOf,Uh=Object.prototype.hasOwnProperty,LI=Object.prototype.propertyIsEnumerable,jM=Reflect.get;var kI=(t,e,n)=>e in t?vc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})Uh.call(e,n)&&kI(t,n,e[n]);if(yc)for(var n of yc(e))LI.call(e,n)&&kI(t,n,e[n]);return t},ie=(t,e)=>FM(t,VM(e));var Bz=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var VI=(t,e)=>{var n={};for(var r in t)Uh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yc)for(var r of yc(t))e.indexOf(r)<0&&LI.call(t,r)&&(n[r]=t[r]);return n};var $z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Hz=(t,e)=>{for(var n in e)vc(t,n,{get:e[n],enumerable:!0})},BM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of UM(e))!Uh.call(t,i)&&i!==n&&vc(t,i,{get:()=>e[i],enumerable:!(r=LM(e,i))||r.enumerable});return t};var qz=(t,e,n)=>(n=t!=null?kM(FI(t)):{},BM(e||!t||!t.__esModule?vc(n,"default",{value:t,enumerable:!0}):n,t));var Gn=(t,e,n)=>jM(FI(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var UI=null;var jh=1,jI=Symbol("SIGNAL");function Le(t){let e=UI;return UI=t,e}var BI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $M(t){if(!(Hh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===jh)){if(!t.producerMustRecompute(t)&&!Bh(t)){t.dirty=!1,t.lastCleanEpoch=jh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=jh}}function $I(t){return t&&(t.nextProducerIndex=0),Le(t)}function HI(t,e){if(Le(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$h(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bh(t){_c(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($M(n),r!==n.version))return!0}return!1}function qI(t){if(_c(t),Hh(t))for(let e=0;e<t.producerNode.length;e++)$h(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $h(t,e){if(HM(t),_c(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)$h(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_c(i),i.producerIndexOfThis[r]=e}}function Hh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function HM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function qM(){throw new Error}var zM=qM;function zI(t){zM=t}function V(t){return typeof t=="function"}function xi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ic=xi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Or(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var we=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(s){e=s instanceof Ic?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{GI(s)}catch(o){e=e??[],o instanceof Ic?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)GI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Or(n,e)}remove(e){let{_finalizers:n}=this;n&&Or(n,e),e instanceof t&&e._removeParent(this)}};we.EMPTY=(()=>{let t=new we;return t.closed=!0,t})();var qh=we.EMPTY;function wc(t){return t instanceof we||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function GI(t){V(t)?t():t.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pi={setTimeout(t,e,...n){let{delegate:r}=Pi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Pi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ec(t){Pi.setTimeout(()=>{let{onUnhandledError:e}=Ot;if(e)e(t);else throw t})}function ro(){}var WI=zh("C",void 0,void 0);function KI(t){return zh("E",void 0,t)}function QI(t){return zh("N",t,void 0)}function zh(t,e,n){return{kind:t,value:e,error:n}}var kr=null;function Oi(t){if(Ot.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else t()}function YI(t){Ot.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=t)}var Fr=class extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wc(e)&&e.add(this)):this.destination=KM}static create(e,n,r){return new ki(e,n,r)}next(e){this.isStopped?Wh(QI(e),this):this._next(e)}error(e){this.isStopped?Wh(KI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wh(WI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GM=Function.prototype.bind;function Gh(t,e){return GM.call(t,e)}var Kh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Dc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Dc(r)}else Dc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dc(n)}}},ki=class extends Fr{constructor(e,n,r){super();let i;if(V(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ot.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gh(e.next,s),error:e.error&&Gh(e.error,s),complete:e.complete&&Gh(e.complete,s)}):i=e}this.destination=new Kh(i)}};function Dc(t){Ot.useDeprecatedSynchronousErrorHandling?YI(t):Ec(t)}function WM(t){throw t}function Wh(t,e){let{onStoppedNotification:n}=Ot;n&&Pi.setTimeout(()=>n(t,e))}var KM={closed:!0,next:ro,error:WM,complete:ro};var Fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(t){return t}function Tc(...t){return Qh(t)}function Qh(t){return t.length===0?ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=YM(n)?n:new ki(n,r,i);return Oi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=JI(r),new r((i,s)=>{let o=new ki({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fi](){return this}pipe(...n){return Qh(n)(this)}toPromise(n){return n=JI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function JI(t){var e;return(e=t??Ot.Promise)!==null&&e!==void 0?e:Promise}function QM(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function YM(t){return t&&t instanceof Fr||QM(t)&&wc(t)}function Yh(t){return V(t?.lift)}function J(t){return e=>{if(Yh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new Jh(t,e,n,r,i)}var Jh=class extends Fr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Li(){return J((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vi=class extends z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return Li()(this)}};var ZI=xi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZI}next(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?qh:(this.currentObservers=null,s.push(n),new we(()=>{this.currentObservers=null,Or(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new z;return n.source=this,n}}return t.create=(e,n)=>new Cc(e,n),t})(),Cc=class extends it{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qh}};var Ve=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zh={now(){return(Zh.delegate||Date).now()},delegate:void 0};var bc=class extends we{constructor(e,n){super()}schedule(e,n=0){return this}};var io={setInterval(t,e,...n){let{delegate:r}=io;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=io;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends bc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return io.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&io.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Or(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ji=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ji.now=Zh.now;var Bi=class extends ji{constructor(e,n=ji.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Xh=new Bi(Ui);var Ac=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sc=class extends Bi{};var ef=new Sc(Ac);var bt=new z(t=>t.complete());function XI(t){return t&&V(t.schedule)}function ew(t){return t[t.length-1]}function Rc(t){return V(ew(t))?t.pop():void 0}function Wn(t){return XI(ew(t))?t.pop():void 0}function tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function tw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function rw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(g,_){s.push([h,p,g,_])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Lr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function iw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tw=="function"?tw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Mc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nc(t){return V(t?.then)}function xc(t){return V(t[Fi])}function Pc(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function Oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kc=JM();function Fc(t){return V(t?.[kc])}function Lc(t){return rw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function Vc(t){return V(t?.getReader)}function Te(t){if(t instanceof z)return t;if(t!=null){if(xc(t))return ZM(t);if(Mc(t))return XM(t);if(Nc(t))return eN(t);if(Pc(t))return sw(t);if(Fc(t))return tN(t);if(Vc(t))return nN(t)}throw Oc(t)}function ZM(t){return new z(e=>{let n=t[Fi]();if(V(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XM(t){return new z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eN(t){return new z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ec)})}function tN(t){return new z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sw(t){return new z(e=>{rN(t,e).catch(n=>e.error(n))})}function nN(t){return sw(Lc(t))}function rN(t,e){var n,r,i,s;return nw(this,void 0,void 0,function*(){try{for(n=iw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function st(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Kn(t,e=0){return J((n,r)=>{n.subscribe(W(r,i=>st(r,t,()=>r.next(i),e),()=>st(r,t,()=>r.complete(),e),i=>st(r,t,()=>r.error(i),e)))})}function Qn(t,e=0){return J((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ow(t,e){return Te(t).pipe(Qn(e),Kn(e))}function aw(t,e){return Te(t).pipe(Qn(e),Kn(e))}function cw(t,e){return new z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function uw(t,e){return new z(n=>{let r;return st(n,e,()=>{r=t[kc](),st(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function Uc(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(n=>{st(n,e,()=>{let r=t[Symbol.asyncIterator]();st(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lw(t,e){return Uc(Lc(t),e)}function dw(t,e){if(t!=null){if(xc(t))return ow(t,e);if(Mc(t))return cw(t,e);if(Nc(t))return aw(t,e);if(Pc(t))return Uc(t,e);if(Fc(t))return uw(t,e);if(Vc(t))return lw(t,e)}throw Oc(t)}function te(t,e){return e?dw(t,e):Te(t)}function N(...t){let e=Wn(t);return te(t,e)}function Kt(t,e){let n=V(t)?t:()=>t,r=i=>i.error(n());return new z(e?i=>e.schedule(r,0,i):r)}function nf(t){return!!t&&(t instanceof z||V(t.lift)&&V(t.subscribe))}var Dn=xi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return J((n,r)=>{let i=0;n.subscribe(W(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:iN}=Array;function sN(t,e){return iN(e)?t(...e):t(e)}function jc(t){return $(e=>sN(t,e))}var{isArray:oN}=Array,{getPrototypeOf:aN,prototype:cN,keys:uN}=Object;function Bc(t){if(t.length===1){let e=t[0];if(oN(e))return{args:e,keys:null};if(lN(e)){let n=uN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function lN(t){return t&&typeof t=="object"&&aN(t)===cN}function $c(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function so(...t){let e=Wn(t),n=Rc(t),{args:r,keys:i}=Bc(t);if(r.length===0)return te([],e);let s=new z(dN(r,e,i?o=>$c(i,o):ht));return n?s.pipe(jc(n)):s}function dN(t,e,n=ht){return r=>{hw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)hw(e,()=>{let u=te(t[c],e),l=!1;u.subscribe(W(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function hw(t,e,n){t?st(n,t,e):e()}function fw(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=_=>u<r?g(_):c.push(_),g=_=>{s&&e.next(_),u++;let v=!1;Te(n(_,l++)).subscribe(W(e,D=>{i?.(D),s?p(D):e.next(D)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let D=c.shift();o?st(e,o,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(W(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Ce(t,e,n=1/0){return V(e)?Ce((r,i)=>$((s,o)=>e(r,s,i,o))(Te(t(r,i))),n):(typeof e=="number"&&(n=e),J((r,i)=>fw(r,i,t,n)))}function Yn(t=1/0){return Ce(ht,t)}function pw(){return Yn(1)}function $i(...t){return pw()(te(t,Wn(t)))}function Hc(t){return new z(e=>{Te(t()).subscribe(e)})}function rf(...t){let e=Rc(t),{args:n,keys:r}=Bc(t),i=new z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Te(n[l]).subscribe(W(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?$c(r,a):a),s.complete())}))}});return e?i.pipe(jc(e)):i}function ot(t,e){return J((n,r)=>{let i=0;n.subscribe(W(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ft(t){return J((e,n)=>{let r=null,i=!1,s;r=e.subscribe(W(n,void 0,void 0,o=>{s=Te(t(o,ft(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function gw(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(W(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Jn(t,e){return V(e)?Ce(t,e,1):Ce(t,1)}function Zn(t){return J((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>bt:J((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sf(t){return $(()=>t)}function qc(t=hN){return J((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hN(){return new Dn}function Hi(t){return J((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,s)=>t(i,s,r)):ht,Tn(1),n?Zn(e):qc(()=>new Dn))}function qi(t){return t<=0?()=>bt:J((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function of(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,s)=>t(i,s,r)):ht,qi(1),n?Zn(e):qc(()=>new Dn))}function zc(t,e){return J(gw(t,e,arguments.length>=2,!0))}function Gc(...t){let e=Wn(t);return J((n,r)=>{(e?$i(t,n,e):$i(t,n)).subscribe(r)})}function pt(t,e){return J((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let u=0,l=s++;Te(t(c,l)).subscribe(i=W(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function af(t){return J((e,n)=>{Te(t).subscribe(W(n,()=>n.complete(),ro)),!n.closed&&e.subscribe(n)})}function fe(t,e,n){let r=V(t)||e||n?{next:t,error:e,complete:n}:t;return r?J((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(W(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ht}var eE="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(Ru(e,n)),this.code=e}};function Ru(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function fN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var pN=ce({__forward_ref__:ce});function tn(t){return t.__forward_ref__=tn,t.toString=function(){return at(this())},t}function Je(t){return tE(t)?t():t}function tE(t){return typeof t=="function"&&t.hasOwnProperty(pN)&&t.__forward_ref__===tn}function nE(t){return t&&!!t.\u0275providers}var gN=ce({\u0275cmp:ce}),mN=ce({\u0275dir:ce}),yN=ce({\u0275pipe:ce}),vN=ce({\u0275mod:ce}),ou=ce({\u0275fac:ce}),ao=ce({__NG_ELEMENT_ID__:ce}),yw=ce({__NG_ENV_ID__:ce});function er(t){return typeof t=="string"?t:t==null?"":String(t)}function _N(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():er(t)}function IN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}function Cp(t,e){throw new A(-201,!1)}function wN(t,e){t==null&&EN(e,t,null,"!=")}function EN(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Be(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mu(t){return vw(t,iE)||vw(t,sE)}function rE(t){return Mu(t)!==null}function vw(t,e){return t.hasOwnProperty(e)?t[e]:null}function DN(t){let e=t&&(t[iE]||t[sE]);return e||null}function _w(t){return t&&(t.hasOwnProperty(Iw)||t.hasOwnProperty(TN))?t[Iw]:null}var iE=ce({\u0275prov:ce}),Iw=ce({\u0275inj:ce}),sE=ce({ngInjectableDef:ce}),TN=ce({ngInjectorDef:ce}),G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{}),Cf;function oE(){return Cf}function At(t){let e=Cf;return Cf=t,e}function aE(t,e,n){let r=Mu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;Cp(t,"Injector")}var Ze=globalThis;var b=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var CN={},uo=CN,bf="__NG_DI_FLAG__",au="ngTempTokenPath",bN="ngTokenPath",AN=/\n/gm,SN="\u0275",ww="__source",Qi;function RN(){return Qi}function Xn(t){let e=Qi;return Qi=t,e}function MN(t,e=G.Default){if(Qi===void 0)throw new A(-203,!1);return Qi===null?aE(t,void 0,e):Qi.get(t,e&G.Optional?null:void 0,e)}function S(t,e=G.Default){return(oE()||MN)(Je(t),e)}function I(t,e=G.Default){return S(t,Nu(e))}function Nu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Af(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){let a=r[o],c=NN(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function cE(t,e){return t[bf]=e,t.prototype[bf]=e,t}function NN(t){return t[bf]}function xN(t,e,n,r){let i=t[au];throw e[ww]&&i.unshift(e[ww]),t.message=PN(`
`+t.message,i,n,r),t[bN]=i,t[au]=null,t}function PN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==SN?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):at(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(AN,`
  `)}`}function Co(t){return{toString:t}.toString()}var uE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uE||{}),Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{}),Ji={},gt=[],be=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(be||{});function lE(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Sf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];ON(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function dE(t){return t===3||t===4||t===6}function ON(t){return t.charCodeAt(0)===64}function lo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ew(t,n,i,null,e[++r]):Ew(t,n,i,null,null))}}return t}function Ew(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var hE="ng-template";function kN(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&lE(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function fE(t){return t.type===4&&t.value!==hE}function FN(t,e,n){let r=t.type===4&&!n?hE:t.value;return e===r}function LN(t,e,n){let r=4,i=t.attrs||[],s=jN(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Ft(r)&&!Ft(c))return!1;if(o&&Ft(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!FN(t,c,n)||c===""&&e.length===1){if(Ft(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!kN(t.attrs,u,n)){if(Ft(r))return!1;o=!0}continue}let l=r&8?"class":c,d=VN(l,i,fE(t),n);if(d===-1){if(Ft(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let p=r&8?h:null;if(p&&lE(p,u,0)!==-1||r&2&&u!==h){if(Ft(r))return!1;o=!0}}}}return Ft(r)||o}function Ft(t){return(t&1)===0}function VN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return BN(e,t)}function UN(t,e,n=!1){for(let r=0;r<e.length;r++)if(LN(t,e[r],n))return!0;return!1}function jN(t){for(let e=0;e<t.length;e++){let n=t[e];if(dE(n))return e}return t.length}function BN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Dw(t,e){return t?":not("+e.trim()+")":e}function $N(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ft(o)&&(e+=Dw(s,i),i=""),r=o,s=s||!Ft(r);n++}return i!==""&&(e+=Dw(s,i)),e}function HN(t){return t.map($N).join(",")}function qN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ft(i))break;i=s}r++}return{attrs:e,classes:n}}function pE(t){return Co(()=>{let e=_E(t),n=ie(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""});IE(n);let r=t.dependencies;return n.directiveDefs=Cw(r,!1),n.pipeDefs=Cw(r,!0),n.id=WN(n),n})}function zN(t){return nr(t)||gE(t)}function GN(t){return t!==null}function $e(t){return Co(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Tw(t,e){if(t==null)return Ji;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=be.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==be.None?[r,a]:r,e[s]=o):n[s]=r}return n}function pe(t){return Co(()=>{let e=_E(t);return IE(e),e})}function nr(t){return t[gN]||null}function gE(t){return t[mN]||null}function mE(t){return t[yN]||null}function yE(t){let e=nr(t)||gE(t)||mE(t);return e!==null?e.standalone:!1}function vE(t,e){let n=t[vN]||null;if(!n&&e===!0)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function _E(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ji,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tw(t.inputs,e),outputs:Tw(t.outputs),debugInfo:null}}function IE(t){t.features?.forEach(e=>e(t))}function Cw(t,e){if(!t)return null;let n=e?mE:zN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(GN)}function WN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var mt=0,L=1,O=2,Ne=3,Lt=4,Ut=5,Xt=6,ho=7,Ge=8,Zi=9,bn=10,Ee=11,fo=12,bw=13,is=14,yt=15,bo=16,zi=17,Jt=18,xu=19,wE=20,tr=21,cf=22,Ur=23,je=25,EE=1,po=6,An=7,cu=8,Xi=9,Ue=10,bp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bp||{});function Cn(t){return Array.isArray(t)&&typeof t[EE]=="object"}function nn(t){return Array.isArray(t)&&t[EE]===!0}function DE(t){return(t.flags&4)!==0}function Ao(t){return t.componentOffset>-1}function Ap(t){return(t.flags&1)===1}function rr(t){return!!t.template}function TE(t){return(t[O]&512)!==0}function es(t,e){let n=t.hasOwnProperty(ou);return n?t[ou]:null}var Rf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function CE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function jt(){return bE}function bE(t){return t.type.prototype.ngOnChanges&&(t.setInput=QN),KN}jt.ngInherit=!0;function KN(){let t=SE(this),e=t?.current;if(e){let n=t.previous;if(n===Ji)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QN(t,e,n,r,i){let s=this.declaredInputs[r],o=SE(t)||YN(t,{previous:Ji,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Rf(u&&u.currentValue,n,c===Ji),CE(t,e,i,n)}var AE="__ngSimpleChanges__";function SE(t){return t[AE]||null}function YN(t,e){return t[AE]=e}var Aw=null;var Qt=function(t,e,n){Aw?.(t,e,n)},RE="svg",JN="math",ZN=!1;function XN(){return ZN}function Vt(t){for(;Array.isArray(t);)t=t[mt];return t}function ME(t,e){return Vt(e[t])}function _t(t,e){return Vt(e[t.index])}function Sp(t,e){return t.data[e]}function ex(t,e){return t[e]}function or(t,e){let n=e[t];return Cn(n)?n:n[mt]}function tx(t){return(t[O]&4)===4}function Rp(t){return(t[O]&128)===128}function nx(t){return nn(t[Ne])}function uu(t,e){return e==null?null:t[e]}function NE(t){t[zi]=0}function rx(t){t[O]&1024||(t[O]|=1024,Rp(t)&&go(t))}function ix(t,e){for(;t>0;)e=e[is],t--;return e}function xE(t){return t[O]&9216||t[Ur]?.dirty}function Mf(t){xE(t)?go(t):t[O]&64&&(XN()?(t[O]|=1024,go(t)):t[bn].changeDetectionScheduler?.notify())}function go(t){t[bn].changeDetectionScheduler?.notify();let e=mo(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Rp(e)));)e=mo(e)}function PE(t,e){if((t[O]&256)===256)throw new A(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function sx(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function mo(t){let e=t[Ne];return nn(e)?e[Ne]:e}var U={lFrame:$E(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ox(){return U.lFrame.elementDepthCount}function ax(){U.lFrame.elementDepthCount++}function cx(){U.lFrame.elementDepthCount--}function OE(){return U.bindingsEnabled}function So(){return U.skipHydrationRootTNode!==null}function ux(t){return U.skipHydrationRootTNode===t}function lx(t){U.skipHydrationRootTNode=t}function dx(){U.skipHydrationRootTNode=null}function X(){return U.lFrame.lView}function It(){return U.lFrame.tView}function m5(t){return U.lFrame.contextLView=t,t[Ge]}function y5(t){return U.lFrame.contextLView=null,t}function ct(){let t=kE();for(;t!==null&&t.type===64;)t=t.parent;return t}function kE(){return U.lFrame.currentTNode}function hx(){let t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ro(t,e){let n=U.lFrame;n.currentTNode=t,n.isParent=e}function FE(){return U.lFrame.isParent}function fx(){U.lFrame.isParent=!1}function px(){return U.lFrame.contextLView}function LE(){let t=U.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function gx(){return U.lFrame.bindingIndex}function mx(t){return U.lFrame.bindingIndex=t}function Mo(){return U.lFrame.bindingIndex++}function VE(t){let e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yx(){return U.lFrame.inI18n}function vx(t,e){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nf(e)}function _x(){return U.lFrame.currentDirectiveIndex}function Nf(t){U.lFrame.currentDirectiveIndex=t}function Ix(t){let e=U.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function UE(){return U.lFrame.currentQueryIndex}function Mp(t){U.lFrame.currentQueryIndex=t}function wx(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[Ut]:null}function jE(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=wx(s),i===null||(s=s[is],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=U.lFrame=BE();return r.currentTNode=e,r.lView=t,!0}function Np(t){let e=BE(),n=t[L];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BE(){let t=U.lFrame,e=t===null?null:t.child;return e===null?$E(t):e}function $E(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function HE(){let t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qE=HE;function xp(){let t=HE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ex(t){return(U.lFrame.contextLView=ix(t,U.lFrame.contextLView))[Ge]}function ar(){return U.lFrame.selectedIndex}function jr(t){U.lFrame.selectedIndex=t}function zE(){let t=U.lFrame;return Sp(t.tView,t.selectedIndex)}function v5(){U.lFrame.currentNamespace=RE}function _5(){Dx()}function Dx(){U.lFrame.currentNamespace=null}function GE(){return U.lFrame.currentNamespace}var WE=!0;function Pp(){return WE}function cr(t){WE=t}function Tx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=bE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Op(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function eu(t,e,n){KE(t,e,3,n)}function tu(t,e,n,r){(t[O]&3)===n&&KE(t,e,n,r)}function uf(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function KE(t,e,n,r){let i=r!==void 0?t[zi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[zi]+=65536),(a<s||s==-1)&&(Cx(t,n,e,c),t[zi]=(t[zi]&4294901760)+c+2),c++}function Sw(t,e){Qt(4,t,e);let n=Le(null);try{e.call(t)}finally{Le(n),Qt(5,t,e)}}function Cx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[O]>>14<t[zi]>>16&&(t[O]&3)===e&&(t[O]+=16384,Sw(a,s)):Sw(a,s)}var Yi=-1,Br=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function bx(t){return t instanceof Br}function Ax(t){return(t.flags&8)!==0}function Sx(t){return(t.flags&16)!==0}function QE(t){return t!==Yi}function lu(t){return t&32767}function Rx(t){return t>>16}function du(t,e){let n=Rx(t),r=e;for(;n>0;)r=r[is],n--;return r}var xf=!0;function Rw(t){let e=xf;return xf=t,e}var Mx=256,YE=Mx-1,JE=5,Nx=0,Yt={};function xx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ao)&&(r=n[ao]),r==null&&(r=n[ao]=Nx++);let i=r&YE,s=1<<i;e.data[t+(i>>JE)]|=s}function hu(t,e){let n=ZE(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,lf(r.data,t),lf(e,null),lf(r.blueprint,null));let i=kp(t,e),s=t.injectorIndex;if(QE(i)){let o=lu(i),a=du(i,e),c=a[L].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function lf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ZE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function kp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=rD(i),r===null)return Yi;if(n++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yi}function Pf(t,e,n){xx(t,e,n)}function Px(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(dE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function XE(t,e,n){if(n&G.Optional||t!==void 0)return t;Cp(e,"NodeInjector")}function eD(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[Zi],s=At(void 0);try{return i?i.get(e,r,n&G.Optional):aE(e,r,n&G.Optional)}finally{At(s)}}return XE(r,e,n)}function tD(t,e,n,r=G.Default,i){if(t!==null){if(e[O]&2048&&!(r&G.Self)){let o=Lx(t,e,n,r,Yt);if(o!==Yt)return o}let s=nD(t,e,n,r,Yt);if(s!==Yt)return s}return eD(e,n,r,i)}function nD(t,e,n,r,i){let s=kx(n);if(typeof s=="function"){if(!jE(e,t,r))return r&G.Host?XE(i,n,r):eD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&G.Optional))Cp(n);else return o}finally{qE()}}else if(typeof s=="number"){let o=null,a=ZE(t,e),c=Yi,u=r&G.Host?e[yt][Ut]:null;for((a===-1||r&G.SkipSelf)&&(c=a===-1?kp(t,e):e[a+8],c===Yi||!Nw(r,!1)?a=-1:(o=e[L],a=lu(c),e=du(c,e)));a!==-1;){let l=e[L];if(Mw(s,a,l.data)){let d=Ox(a,e,n,o,r,u);if(d!==Yt)return d}c=e[a+8],c!==Yi&&Nw(r,e[L].data[a+8]===u)&&Mw(s,a,e)?(o=l,a=lu(c),e=du(c,e)):a=-1}}return i}function Ox(t,e,n,r,i,s){let o=e[L],a=o.data[t+8],c=r==null?Ao(a)&&xf:r!=o&&(a.type&3)!==0,u=i&G.Host&&s===a,l=nu(a,o,n,c,u);return l!==null?$r(e,o,l,a):Yt}function nu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let g=o[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(i){let p=o[c];if(p&&rr(p)&&p.type===n)return c}return null}function $r(t,e,n,r){let i=t[n],s=e.data;if(bx(i)){let o=i;o.resolving&&IN(_N(s[n]));let a=Rw(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?At(o.injectImpl):null,l=jE(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Tx(n,s[n],e)}finally{u!==null&&At(u),Rw(a),o.resolving=!1,qE()}}return i}function kx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ao)?t[ao]:void 0;return typeof e=="number"?e>=0?e&YE:Fx:e}function Mw(t,e,n){let r=1<<t;return!!(n[e+(t>>JE)]&r)}function Nw(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var Vr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tD(this._tNode,this._lView,e,Nu(r),n)}};function Fx(){return new Vr(ct(),X())}function ur(t){return Co(()=>{let e=t.prototype.constructor,n=e[ou]||Of(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ou]||Of(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Of(t){return tE(t)?()=>{let e=Of(Je(t));return e&&e()}:es(t)}function Lx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[O]&2048&&!(o[O]&512);){let a=nD(s,o,n,r|G.Self,Yt);if(a!==Yt)return a;let c=s.parent;if(!c){let u=o[wE];if(u){let l=u.get(n,Yt,r);if(l!==Yt)return l}c=rD(o),o=o[is]}s=c}return i}function rD(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[Ut]:null}function Fp(t){return Px(ct(),t)}var Wc="__parameters__";function Vx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function iD(t,e,n){return Co(()=>{let r=Vx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Wc)?c[Wc]:Object.defineProperty(c,Wc,{value:[]})[Wc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ux(t){let e=Ze.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function jx(t){return typeof t=="function"}function Bx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function $x(t){return t.flat(Number.POSITIVE_INFINITY)}function Lp(t,e){t.forEach(n=>Array.isArray(n)?Lp(n,e):e(n))}function sD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Hx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function qx(t,e,n){let r=No(t,e);return r>=0?t[r|1]=n:(r=~r,Hx(t,r,e,n)),r}function df(t,e){let n=No(t,e);if(n>=0)return t[n|1]}function No(t,e){return zx(t,e,1)}function zx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Xe=cE(iD("Optional"),8);var oD=cE(iD("SkipSelf"),4);function Gx(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(Yx))}return s}return pu.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(p=>{a[u+h]=p,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>Jx(s));e.push(c)}),Kx(),Promise.all(e).then(()=>{})}var pu=new Map,Wx=new Set;function Kx(){let t=pu;return pu=new Map,t}function Qx(){return pu.size===0}function Yx(t){return typeof t=="string"?t:t.text()}function Jx(t){Wx.delete(t)}var Hr=new b(""),aD=new b("",-1),cD=new b(""),gu=class{get(e,n=uo){if(n===uo){let r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}};function xo(t){return{\u0275providers:t}}function Zx(...t){return{\u0275providers:uD(!0,t),\u0275fromNgModule:!0}}function uD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Lp(e,o=>{let a=o;kf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&lD(i,s),n}function lD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vp(i,s=>{e(s,r)})}}function kf(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,s=_w(t),o=!s&&nr(t);if(!s&&!o){let c=t.ngModule;if(s=_w(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)kf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Lp(s.imports,l=>{kf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&lD(u,e)}if(!a){let u=es(i)||(()=>new i);e({provide:i,useFactory:u,deps:gt},i),e({provide:cD,useValue:i,multi:!0},i),e({provide:Hr,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Vp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Vp(t,e){for(let n of t)nE(n)&&(n=n.\u0275providers),Array.isArray(n)?Vp(n,e):e(n)}var Xx=ce({provide:String,useValue:ce});function dD(t){return t!==null&&typeof t=="object"&&Xx in t}function eP(t){return!!(t&&t.useExisting)}function tP(t){return!!(t&&t.useFactory)}function ts(t){return typeof t=="function"}function nP(t){return!!t.useClass}var Pu=new b(""),ru={},rP={},hf;function Up(){return hf===void 0&&(hf=new gu),hf}var vt=class{},yo=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lf(e,o=>this.processProvider(o)),this.records.set(aD,Gi(void 0,this)),i.has("environment")&&this.records.set(vt,Gi(void 0,this));let s=this.records.get(Pu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cD,gt,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xn(this),r=At(void 0),i;try{return e()}finally{Xn(n),At(r)}}get(e,n=uo,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yw))return e[yw](this);r=Nu(r);let i,s=Xn(this),o=At(void 0);try{if(!(r&G.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=cP(e)&&Mu(e);u&&this.injectableDefInScope(u)?c=Gi(Ff(e),ru):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&G.Self?Up():this.parent;return n=r&G.Optional&&n===uo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[au]=a[au]||[]).unshift(at(e)),s)throw a;return xN(a,e,"R3InjectorError",this.source)}else throw a}finally{At(o),Xn(s)}}resolveInjectorInitializers(){let e=Xn(this),n=At(void 0),r;try{let i=this.get(Hr,gt,G.Self);for(let s of i)s()}finally{Xn(e),At(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=Je(e);let n=ts(e)?e:Je(e&&e.provide),r=sP(e);if(!ts(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Gi(void 0,ru,!0),i.factory=()=>Af(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ru&&(n.value=rP,n.value=n.factory()),typeof n.value=="object"&&n.value&&aP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ff(t){let e=Mu(t),n=e!==null?e.factory:es(t);if(n!==null)return n;if(t instanceof b)throw new A(204,!1);if(t instanceof Function)return iP(t);throw new A(204,!1)}function iP(t){if(t.length>0)throw new A(204,!1);let n=DN(t);return n!==null?()=>n.factory(t):()=>new t}function sP(t){if(dD(t))return Gi(void 0,t.useValue);{let e=hD(t);return Gi(e,ru)}}function hD(t,e,n){let r;if(ts(t)){let i=Je(t);return es(i)||Ff(i)}else if(dD(t))r=()=>Je(t.useValue);else if(tP(t))r=()=>t.useFactory(...Af(t.deps||[]));else if(eP(t))r=()=>S(Je(t.useExisting));else{let i=Je(t&&(t.useClass||t.provide));if(oP(t))r=()=>new i(...Af(t.deps));else return es(i)||Ff(i)}return r}function Gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oP(t){return!!t.deps}function aP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cP(t){return typeof t=="function"||typeof t=="object"&&t instanceof b}function Lf(t,e){for(let n of t)Array.isArray(n)?Lf(n,e):n&&nE(n)?Lf(n.\u0275providers,e):e(n)}function Mn(t,e){t instanceof yo&&t.assertNotDestroyed();let n,r=Xn(t),i=At(void 0);try{return e()}finally{Xn(r),At(i)}}function uP(t){if(!oE()&&!RN())throw new A(-203,!1)}function xw(t,e=null,n=null,r){let i=fD(t,e,n,r);return i.resolveInjectorInitializers(),i}function fD(t,e=null,n=null,r,i=new Set){let s=[n||gt,Zx(t)];return r=r||(typeof t=="object"?void 0:at(t)),new yo(s,e||Up(),r||null,i)}var xe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return xw({name:""},i,r,"");{let s=r.name??"";return xw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=uo,e.NULL=new gu,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>S(aD)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Vf;function pD(t){Vf=t}function Ou(){if(Vf!==void 0)return Vf;if(typeof document<"u")return document;throw new A(210,!1)}var Po=new b("",{providedIn:"root",factory:()=>lP}),lP="ng",jp=new b(""),ut=new b("",{providedIn:"platform",factory:()=>"unknown"});var I5=new b(""),Bp=new b("",{providedIn:"root",factory:()=>Ou().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function w5(t){return t.ownerDocument.defaultView}function dP(t){return t.ownerDocument.body}function gD(t){return t instanceof Function?t():t}function oo(t){return(t??I(xe)).get(ut)==="browser"}var hP="ngSkipHydration",fP="ngskiphydration";function mD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===fP)return!0}return!1}function yD(t){return t.hasAttribute(hP)}function mu(t){return(t.flags&128)===128}function pP(t){if(mu(t))return!0;let e=t.parent;for(;e;){if(mu(t)||mD(e))return!0;e=e.parent}return!1}var Sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sn||{}),gP=/^>|^->|<!--|-->|--!>|<!-$/g,mP=/(<|>)/g,yP="\u200B$1\u200B";function vP(t){return t.replace(gP,e=>e.replace(mP,yP))}var vD=new Map,_P=0;function IP(){return _P++}function wP(t){vD.set(t[xu],t)}function EP(t){vD.delete(t[xu])}var Pw="__ngContext__";function qr(t,e){Cn(e)?(t[Pw]=e[xu],wP(e)):t[Pw]=e}var DP;function $p(t,e){return DP(t,e)}function Wi(t,e,n,r,i){if(r!=null){let s,o=!1;nn(r)?s=r:Cn(r)&&(o=!0,r=r[mt]);let a=Vt(r);t===0&&n!==null?i==null?DD(e,n,a):yu(e,n,a,i||null,!0):t===1&&n!==null?yu(e,n,a,i||null,!0):t===2?CD(e,a,o):t===3&&e.destroyNode(a),s!=null&&jP(e,t,s,n,i)}}function _D(t,e){return t.createText(e)}function TP(t,e,n){t.setValue(e,n)}function ID(t,e){return t.createComment(vP(e))}function Hp(t,e,n){return t.createElement(e,n)}function CP(t,e){wD(t,e),e[mt]=null,e[Ut]=null}function bP(t,e,n,r,i,s){r[mt]=i,r[Ut]=e,Fu(t,r,n,1,i,s)}function wD(t,e){Fu(t,e,e[Ee],2,null,null)}function AP(t){let e=t[fo];if(!e)return ff(t[L],t);for(;e;){let n=null;if(Cn(e))n=e[fo];else{let r=e[Ue];r&&(n=r)}if(!n){for(;e&&!e[Lt]&&e!==t;)Cn(e)&&ff(e[L],e),e=e[Ne];e===null&&(e=t),Cn(e)&&ff(e[L],e),n=e&&e[Lt]}e=n}}function SP(t,e,n,r){let i=Ue+r,s=n.length;r>0&&(n[i-1][Lt]=e),r<s-Ue?(e[Lt]=n[i],sD(n,Ue+r,e)):(n.push(e),e[Lt]=null),e[Ne]=n;let o=e[bo];o!==null&&n!==o&&RP(o,e);let a=e[Jt];a!==null&&a.insertView(t),Mf(e),e[O]|=128}function RP(t,e){let n=t[Xi],i=e[Ne][Ne][yt];e[yt]!==i&&(t[O]|=bp.HasTransplantedViews),n===null?t[Xi]=[e]:n.push(e)}function ED(t,e){let n=t[Xi],r=n.indexOf(e);n.splice(r,1)}function vo(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n];if(r){let i=r[bo];i!==null&&i!==t&&ED(i,r),e>0&&(t[n-1][Lt]=r[Lt]);let s=fu(t,Ue+e);CP(r[L],r);let o=s[Jt];o!==null&&o.detachView(s[L]),r[Ne]=null,r[Lt]=null,r[O]&=-129}return r}function ku(t,e){if(!(e[O]&256)){let n=e[Ee];n.destroyNode&&Fu(t,e,n,3,null,null),AP(e)}}function ff(t,e){if(!(e[O]&256)){e[O]&=-129,e[O]|=256,e[Ur]&&qI(e[Ur]),NP(t,e),MP(t,e),e[L].type===1&&e[Ee].destroy();let n=e[bo];if(n!==null&&nn(e[Ne])){n!==e[Ne]&&ED(n,e);let r=e[Jt];r!==null&&r.detachView(t)}EP(e)}}function MP(t,e){let n=t.cleanup,r=e[ho];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ho]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function NP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Br)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qt(4,a,c);try{c.call(a)}finally{Qt(5,a,c)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function xP(t,e,n){return PP(t,e.parent,n)}function PP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[mt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zt.None||s===Zt.Emulated)return null}return _t(r,n)}}function yu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function DD(t,e,n){t.appendChild(e,n)}function Ow(t,e,n,r,i){r!==null?yu(t,e,n,r,i):DD(t,e,n)}function OP(t,e,n,r){t.removeChild(e,n,r)}function qp(t,e){return t.parentNode(e)}function kP(t,e){return t.nextSibling(e)}function FP(t,e,n){return VP(t,e,n)}function LP(t,e,n){return t.type&40?_t(t,n):null}var VP=LP,kw;function zp(t,e,n,r){let i=xP(t,r,e),s=e[Ee],o=r.parent||e[Ut],a=FP(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ow(s,i,n[c],a,!1);else Ow(s,i,n,a,!1);kw!==void 0&&kw(s,r,e,n,i)}function iu(t,e){if(e!==null){let n=e.type;if(n&3)return _t(e,t);if(n&4)return Uf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return iu(t,r);{let i=t[e.index];return nn(i)?Uf(-1,i):Vt(i)}}else{if(n&32)return $p(e,t)()||Vt(t[e.index]);{let r=TD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=mo(t[yt]);return iu(i,r)}else return iu(t,e.next)}}}return null}function TD(t,e){if(e!==null){let r=t[yt][Ut],i=e.projection;return r.projection[i]}return null}function Uf(t,e){let n=Ue+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return iu(r,i)}return e[An]}function CD(t,e,n){let r=qp(t,e);r&&OP(t,r,e,n)}function bD(t){t.textContent=""}function Gp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&qr(Vt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Gp(t,e,n.child,r,i,s,!1),Wi(e,t,i,a,s);else if(c&32){let u=$p(n,r),l;for(;l=u();)Wi(e,t,i,l,s);Wi(e,t,i,a,s)}else c&16?UP(t,e,r,n,i,s):Wi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Fu(t,e,n,r,i,s){Gp(n,r,t.firstChild,e,i,s,!1)}function UP(t,e,n,r,i,s){let o=n[yt],c=o[Ut].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Wi(e,t,i,l,s)}else{let u=c,l=o[Ne];mu(r)&&(u.flags|=128),Gp(t,e,u,l,i,s,!0)}}function jP(t,e,n,r,i){let s=n[An],o=Vt(n);s!==o&&Wi(e,t,r,s,i);for(let a=Ue;a<n.length;a++){let c=n[a];Fu(c[L],c,t,e,r,s)}}function BP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Sn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Sn.Important),t.setStyle(n,r,i,s))}}function $P(t,e,n){t.setAttribute(e,"style",n)}function AD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function SD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Sf(t,e,r),i!==null&&AD(t,e,i),s!==null&&$P(t,e,s)}var Kc;function HP(){if(Kc===void 0&&(Kc=null,Ze.trustedTypes))try{Kc=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kc}function Fw(t){return HP()?.createScriptURL(t)||t}var vu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eE})`}};function Oo(t){return t instanceof vu?t.changingThisBreaksApplicationSecurity:t}function Wp(t,e){let n=qP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eE})`)}return n===e}function qP(t){return t instanceof vu&&t.getTypeName()||null}var zP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function RD(t){return t=String(t),t.match(zP)?t:"unsafe:"+t}var Lu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lu||{});function GP(t){let e=ND();return e?e.sanitize(Lu.URL,t)||"":Wp(t,"URL")?Oo(t):RD(er(t))}function WP(t){let e=ND();if(e)return Fw(e.sanitize(Lu.RESOURCE_URL,t)||"");if(Wp(t,"ResourceURL"))return Fw(Oo(t));throw new A(904,!1)}function KP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?WP:GP}function MD(t,e,n){return KP(e,n)(t)}function ND(){let t=X();return t&&t[bn].sanitizer}var jf=class{};function QP(){let t=new Wr;return I(ut)==="browser"&&(t.store=YP(Ou(),I(Po))),t}var Wr=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=R({token:e,providedIn:"root",factory:QP});let t=e;return t})();function YP(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var xD="h",PD="b",Bf=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Bf||{}),JP="e",ZP="t",Kp="c",OD="x",_u="r",XP="i",eO="n",tO="d",nO="__nghData__",kD=nO,pf="ngh",rO="nghm",FD=()=>null;function iO(t,e,n=!1){let r=t.getAttribute(pf);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let l=e.get(Wr,null,{optional:!0});l!==null&&(c=l.get(kD,[])[Number(r)])}let u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,Vu(u,0,t.nextSibling)),a?t.setAttribute(pf,a):t.removeAttribute(pf),u}function sO(){FD=iO}function Qp(t,e,n=!1){return FD(t,e,n)}function oO(t){let e=t._lView;return e[L].type===2?null:(TE(e)&&(e=e[je]),e)}function aO(t){return t.textContent?.replace(/\s/gm,"")}function cO(t){let e=Ou(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=aO(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Vu(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function $f(t,e){return t.segmentHeads?.[e]??null}function uO(t,e){let n=t.data,r=n[JP]?.[e]??null;return r===null&&n[Kp]?.[e]&&(r=Yp(t,e)),r}function LD(t,e){return t.data[Kp]?.[e]??null}function Yp(t,e){let n=LD(t,e)??[],r=0;for(let i of n)r+=i[_u]*(i[OD]??1);return r}function Uu(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[tO];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Hf=class{},Iu=class{};function lO(t){let e=Error(`No component factory found for ${at(t)}.`);return e[dO]=t,e}var dO="ngComponent";var qf=class{resolveComponentFactory(e){throw lO(e)}},ju=(()=>{let e=class e{};e.NULL=new qf;let t=e;return t})();function hO(){return ss(ct(),X())}function ss(t,e){return new et(_t(t,e))}var et=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=hO;let t=e;return t})();function fO(t){return t instanceof et?t.nativeElement:t}var _o=class{},Bt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>pO();let t=e;return t})();function pO(){let t=X(),e=ct(),n=or(e.index,t);return(Cn(n)?n:t)[Ee]}var gO=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),gf={};function wu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Vt(s)),nn(s)&&mO(s,r);let o=n.type;if(o&8)wu(t,e,n.child,r);else if(o&32){let a=$p(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=TD(e,n);if(Array.isArray(a))r.push(...a);else{let c=mo(e[yt]);wu(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mO(t,e){for(let n=Ue;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&wu(r[L],r,i,e)}t[An]!==t[mt]&&e.push(t[An])}var VD=[];function yO(t){return t[Ur]??vO(t)}function vO(t){let e=VD.pop()??Object.create(IO);return e.lView=t,e}function _O(t){t.lView[Ur]!==t&&(t.lView=null,VD.push(t))}var IO=ie(T({},BI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{go(t.lView)},consumerOnSignalRead(){this.lView[Ur]=this}});function UD(t){return BD(t[fo])}function jD(t){return BD(t[Lt])}function BD(t){for(;t!==null&&!nn(t);)t=t[Lt];return t}var wO="ngOriginalError";function mf(t){return t[wO]}var en=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&mf(e);for(;n&&mf(n);)n=mf(n);return n||null}},$D=new b("",{providedIn:"root",factory:()=>I(en).handleError.bind(void 0)}),Qc=new b(""),HD=!1,qD=new b("",{providedIn:"root",factory:()=>HD});var rn={};function E5(t=1){zD(It(),X(),ar()+t,!1)}function zD(t,e,n,r){if(!r)if((e[O]&3)===3){let s=t.preOrderCheckHooks;s!==null&&eu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&tu(e,s,0,n)}jr(n)}function k(t,e=G.Default){let n=X();if(n===null)return S(t,e);let r=ct();return tD(r,n,Je(t),e)}function GD(){let t="invalid";throw new Error(t)}function WD(t,e,n,r,i,s){let o=Le(null);try{let a=null;i&be.SignalBased&&(a=e[r][jI]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&be.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):CE(e,a,r,s)}finally{Le(o)}}function EO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let s=i,o=n[++r],a=n[++r];vx(o,s);let c=e[s];a(2,c)}}}finally{jr(-1)}}function Bu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[mt]=i,d[O]=r|4|128|8|64,(u!==null||t&&t[O]&2048)&&(d[O]|=2048),NE(d),d[Ne]=d[is]=t,d[Ge]=n,d[bn]=o||t&&t[bn],d[Ee]=a||t&&t[Ee],d[Zi]=c||t&&t[Zi]||null,d[Ut]=s,d[xu]=IP(),d[Xt]=l,d[wE]=u,d[yt]=e.type==2?t[yt]:d,d}function $u(t,e,n,r,i){let s=t.data[e];if(s===null)s=DO(t,e,n,r,i),yx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=hx();s.injectorIndex=o===null?-1:o.injectorIndex}return Ro(s,!0),s}function DO(t,e,n,r,i){let s=kE(),o=FE(),a=o?s:s&&s.parent,c=t.data[e]=MO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function KD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function QD(t,e,n,r,i){let s=ar(),o=r&2;try{jr(-1),o&&e.length>je&&zD(t,e,je,!1),Qt(o?2:0,i),n(r,i)}finally{jr(s),Qt(o?3:1,i)}}function YD(t,e,n){if(DE(e)){let r=Le(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Le(r)}}}function JD(t,e,n){OE()&&(LO(t,e,n,_t(n,e)),(n.flags&64)===64&&rT(t,e,n))}function ZD(t,e,n=_t){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function XD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jp(t,e,n,r,i,s,o,a,c,u,l){let d=je+r,h=d+i,p=TO(d,h),g=typeof u=="function"?u():u;return p[L]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function TO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:rn);return n}function CO(t,e,n,r){let s=r.get(qD,HD)||n===Zt.ShadowDom,o=t.selectRootElement(e,s);return bO(o),o}function bO(t){eT(t)}var eT=()=>null;function AO(t){yD(t)?bD(t):cO(t)}function SO(){eT=AO}function RO(t,e,n,r){let i=oT(e);i.push(n),t.firstCreatePass&&aT(t).push(r,i.length-1)}function MO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return So()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Lw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=be.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Vw(r,n,u,a,c):Vw(r,n,u,a)}return r}function Vw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function NO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,g=h?h.outputs:null;c=Lw(0,d.inputs,l,c,p),u=Lw(1,d.outputs,l,u,g);let _=c!==null&&o!==null&&!fE(e)?KO(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function xO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function PO(t,e,n,r,i,s,o,a){let c=_t(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Zp(t,n,l,r,i),Ao(e)&&OO(n,e.index)):e.type&3?(r=xO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function OO(t,e){let n=or(e,t);n[O]&16||(n[O]|=64)}function tT(t,e,n,r){if(OE()){let i=r===null?null:{"":-1},s=UO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&nT(t,e,n,o,i,a),i&&jO(n,r,i)}n.mergedAttrs=lo(n.mergedAttrs,n.attrs)}function nT(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Pf(hu(n,e),t,r[u].type);$O(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=KD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=lo(n.mergedAttrs,l.hostAttrs),HO(t,n,e,c,l),BO(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}NO(t,n,s)}function kO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;FO(o)!=a&&o.push(a),o.push(n,r,s)}}function FO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function LO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Ao(n)&&qO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||hu(n,e),qr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=$r(e,t,a,n);if(qr(u,e),o!==null&&WO(e,a-i,u,c,n,o),rr(c)){let l=or(n.index,e);l[Ge]=$r(e,t,a,n)}}}function rT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=_x();try{jr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Nf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&VO(c,u)}}finally{jr(-1),Nf(o)}}function VO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(UN(e,o.selectors,!1))if(r||(r=[]),rr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;zf(t,e,c)}else r.unshift(o),zf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function zf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function jO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function BO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;rr(e)&&(n[""]=t)}}function $O(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function HO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=es(i.type,!0)),o=new Br(s,rr(i),k);t.blueprint[r]=o,n[r]=o,kO(t,e,r,KD(t,n,i.hostVars,rn),i)}function qO(t,e,n){let r=_t(e,t),i=XD(n),s=t[bn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Hu(t,Bu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function zO(t,e,n,r,i,s){let o=_t(t,e);GO(e[Ee],o,s,t.value,n,r,i)}function GO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?er(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function WO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];WD(r,n,c,u,l,d)}}function KO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function iT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sT(t,e){let n=t.contentQueries;if(n!==null){let r=Le(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Mp(s),a.contentQueries(2,e[o],o)}}}finally{Le(r)}}}function Hu(t,e){return t[fo]?t[bw][Lt]=e:t[fo]=e,t[bw]=e,e}function Gf(t,e,n){Mp(0);let r=Le(null);try{e(t,n)}finally{Le(r)}}function oT(t){return t[ho]||(t[ho]=[])}function aT(t){return t.cleanup||(t.cleanup=[])}function cT(t,e){let n=t[Zi],r=n?n.get(en,null):null;r&&r.handleError(e)}function Zp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];WD(l,u,r,a,c,i)}}function uT(t,e,n){let r=ME(e,t);TP(t[Ee],r,n)}var QO=100;function YO(t,e=!0){let n=t[bn],r=n.rendererFactory,i=!1;i||r.begin?.();try{JO(t)}catch(s){throw e&&cT(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function JO(t){Wf(t,0);let e=0;for(;xE(t);){if(e===QO)throw new A(103,!1);e++,Wf(t,1)}}function ZO(t,e,n,r){let i=e[O];if((i&256)===256)return;let s=!1;!s&&e[bn].inlineEffectRunner?.flush(),Np(e);let o=null,a=null;!s&&XO(t)&&(a=yO(e),o=$I(a));try{NE(e),mx(t.bindingStartIndex),n!==null&&QD(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&eu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&tu(e,d,0,null),uf(e,0)}if(ek(e),lT(e,0),t.contentQueries!==null&&sT(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&eu(e,d)}else{let d=t.contentHooks;d!==null&&tu(e,d,1),uf(e,1)}EO(t,e);let u=t.components;u!==null&&hT(e,u,0);let l=t.viewQuery;if(l!==null&&Gf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&eu(e,d)}else{let d=t.viewHooks;d!==null&&tu(e,d,2),uf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[cf]){for(let d of e[cf])d();e[cf]=null}s||(e[O]&=-73)}catch(c){throw go(e),c}finally{a!==null&&(HI(a,o),_O(a)),xp()}}function XO(t){return t.type!==2}function lT(t,e){for(let n=UD(t);n!==null;n=jD(n))for(let r=Ue;r<n.length;r++){let i=n[r];dT(i,e)}}function ek(t){for(let e=UD(t);e!==null;e=jD(e)){if(!(e[O]&bp.HasTransplantedViews))continue;let n=e[Xi];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ne];rx(i)}}}function tk(t,e,n){let r=or(e,t);dT(r,n)}function dT(t,e){Rp(t)&&Wf(t,e)}function Wf(t,e){let r=t[L],i=t[O],s=t[Ur],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Bh(s)),s&&(s.dirty=!1),t[O]&=-9217,o)ZO(r,t,r.template,t[Ge]);else if(i&8192){lT(t,1);let a=r.components;a!==null&&hT(t,a,1)}}function hT(t,e,n){for(let r=0;r<e.length;r++)tk(t,e[r],n)}function Xp(t){for(t[bn].changeDetectionScheduler?.notify();t;){t[O]|=64;let e=mo(t);if(TE(t)&&!e)return t;t=e}return null}var zr=class{get rootNodes(){let e=this._lView,n=e[L];return wu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ne];if(nn(e)){let n=e[cu],r=n?n.indexOf(this):-1;r>-1&&(vo(e,r),fu(n,r))}this._attachedToViewContainer=!1}ku(this._lView[L],this._lView)}onDestroy(e){PE(this._lView,e)}markForCheck(){Xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Mf(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,YO(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,wD(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,Mf(this._lView)}},Kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nk;let t=e;return t})();function nk(t){return rk(ct(),X(),(t&16)===16)}function rk(t,e,n){if(Ao(t)&&!n){let r=or(t.index,e);return new zr(r,r)}else if(t.type&47){let r=e[yt];return new zr(r,e)}return null}var fT=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ik,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Kf=class extends fT{constructor(e){super(),this._lView=e}onDestroy(e){return PE(this._lView,e),()=>sx(this._lView,e)}};function ik(){return new Kf(X())}var Uw=new Set;function lr(t){Uw.has(t)||(Uw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Qf=class extends it{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=yf(s),i&&(i=yf(i)),o&&(o=yf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof we&&e.add(a),a}};function yf(t){return e=>{setTimeout(t,void 0,e)}}var de=Qf;function jw(...t){}function sk(){let t=typeof Ze.requestAnimationFrame=="function",e=Ze[t?"requestAnimationFrame":"setTimeout"],n=Ze[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var K=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new de(!1),this.onMicrotaskEmpty=new de(!1),this.onStable=new de(!1),this.onError=new de(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=sk().nativeRequestAnimationFrame,ck(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ok,jw,jw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ok={};function eg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ak(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ze,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yf(t),t.isCheckStableRunning=!0,eg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yf(t))}function ck(t){let e=()=>{ak(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(uk(a))return n.invokeTask(i,s,o,a);try{return Bw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),$w(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Bw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),$w(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Yf(t),eg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Yf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $w(t){t._nesting--,eg(t)}var Jf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new de,this.onMicrotaskEmpty=new de,this.onStable=new de,this.onError=new de}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function uk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function lk(t="zone.js",e){return t==="noop"?new Jf:t==="zone.js"?new K(e):t}var Ki=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ki||{}),dk={destroy(){}};function tg(t,e){!e&&uP(tg);let n=e?.injector??I(xe);if(!oo(n))return dk;lr("NgAfterNextRender");let r=n.get(ng),i=r.handler??=new Xf,s=e?.phase??Ki.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(fT).onDestroy(o),c=new Zf(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var Zf=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(K),this.errorHandler=e.get(en,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Xf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ki.EarlyRead]:new Set,[Ki.Write]:new Set,[Ki.MixedReadWrite]:new Set,[Ki.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ng=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function hk(t,e){let n=or(e,t),r=n[L];fk(r,n);let i=n[mt];i!==null&&n[Xt]===null&&(n[Xt]=Qp(i,n[Zi])),rg(r,n,n[Ge])}function fk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rg(t,e,n){Np(e);try{let r=t.viewQuery;r!==null&&Gf(1,r,n);let i=t.template;i!==null&&QD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sT(t,e),t.staticViewQueries&&Gf(2,t.viewQuery,n);let s=t.components;s!==null&&pk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,xp()}}function pk(t,e){for(let n=0;n<e.length;n++)hk(t,e[n])}function ep(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=mw(i,a);else if(s==2){let c=a,u=e[++o];r=mw(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Eu=class extends ju{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=nr(e);return new ns(n,this.ngModule)}};function Hw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function gk(t){let e=t.toLowerCase();return e==="svg"?RE:e==="math"?JN:null}var tp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Nu(r);let i=this.injector.get(e,gf,r);return i!==gf||n===gf?i:this.parentInjector.get(e,n,r)}},ns=class extends Iu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Hw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Hw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=HN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new tp(e,s):e,a=o.get(_o,null);if(a===null)throw new A(407,!1);let c=o.get(gO,null),u=o.get(ng,null),l=o.get(jf,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?CO(h,r,this.componentDef.encapsulation,o):Hp(h,p,gk(p)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let v=null;g!==null&&(v=Qp(g,o,!0));let D=Jp(0,null,null,1,0,null,null,null,null,null,null),q=Bu(null,D,null,_,null,null,d,h,o,null,v);Np(q);let ee,oe;try{let Ie=this.componentDef,ae,dt=null;Ie.findHostDirectiveDefs?(ae=[],dt=new Map,Ie.findHostDirectiveDefs(Ie,ae,dt),ae.push(Ie)):ae=[Ie];let zn=mk(q,g),Pr=yk(zn,g,Ie,ae,q,d,h);oe=Sp(D,je),g&&Ik(h,Ie,g,r),n!==void 0&&wk(oe,this.ngContentSelectors,n),ee=_k(Pr,Ie,ae,dt,q,[Ek]),rg(D,q,null)}finally{xp()}return new np(this.componentType,ee,ss(oe,q),q,oe)}},np=class extends Hf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Zp(s[L],s,i,e,n),this.previousInputValues.set(e,n);let o=or(this._tNode.index,s);Xp(o)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mk(t,e){let n=t[L],r=je;return t[r]=e,$u(n,r,2,"#host",null)}function yk(t,e,n,r,i,s,o){let a=i[L];vk(r,t,e,o);let c=null;e!==null&&(c=Qp(e,i[Zi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Bu(i,XD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&zf(a,t,r.length-1),Hu(i,d),i[t.index]=d}function vk(t,e,n,r){for(let i of t)e.mergedAttrs=lo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ep(e,e.mergedAttrs,!0),n!==null&&SD(r,n,e))}function _k(t,e,n,r,i,s){let o=ct(),a=i[L],c=_t(o,i);nT(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=$r(i,a,d,o);qr(h,i)}rT(a,i,o),c&&qr(c,i);let u=$r(i,a,o.directiveStart+o.componentOffset,o);if(t[Ge]=i[Ge]=u,s!==null)for(let l of s)l(u,e);return YD(a,o,t),u}function Ik(t,e,n,r){if(r)Sf(t,n,["ng-version","17.1.2"]);else{let{attrs:i,classes:s}=qN(e.selectors[0]);i&&Sf(t,n,i),s&&s.length>0&&AD(t,n,s.join(" "))}}function wk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ek(){let t=ct();Op(X()[L],t)}function Dk(t){return Object.getPrototypeOf(t.prototype).constructor}function St(t){let e=Dk(t.type),n=!0,r=[t];for(;e;){let i;if(rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Yc(t.inputs),o.inputTransforms=Yc(t.inputTransforms),o.declaredInputs=Yc(t.declaredInputs),o.outputs=Yc(t.outputs);let a=i.hostBindings;a&&Sk(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&bk(t,c),u&&Ak(t,u),Tk(t,i),fN(t.outputs,i.outputs),rr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===St&&(n=!1)}}e=Object.getPrototypeOf(e)}Ck(r)}function Tk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Ck(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=lo(i.hostAttrs,n=lo(n,i.hostAttrs))}}function Yc(t){return t===Ji?{}:t===gt?[]:t}function bk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Ak(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Sk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ig(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}function pT(t){let e=t[po]??[],r=t[Ne][Ee];for(let i of e)Rk(i,r);t[po]=gt}function Rk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[_u];for(;n<i;){let s=r.nextSibling;CD(e,r,!1),r=s,n++}}}function gT(t){pT(t);for(let e=Ue;e<t.length;e++)Du(t[e])}function Du(t){let e=t[L];for(let n=je;n<e.bindingStartIndex;n++)if(nn(t[n])){let r=t[n];gT(r)}else Cn(t[n])&&Du(t[n])}function Mk(t){let e=t._views;for(let n of e){let r=oO(n);if(r!==null&&r[mt]!==null)if(Cn(r))Du(r);else{let i=r[mt];Du(i),gT(r)}}}var Nk=new RegExp(`^(\\d+)*(${PD}|${xD})*(.*)`);function xk(t){let e=t.match(Nk),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[o,...a]}function Pk(t){return!t.prev&&t.parent?.type===8}function vf(t){return t.index-je}function qu(t,e,n,r){let i=null,s=vf(r),o=t.data[eO];if(o?.[s])i=kk(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(Pk(r)){let u=vf(r.parent);i=$f(t,u)}else{let u=_t(c,n);if(a)i=u.firstChild;else{let l=vf(c),d=$f(t,l);if(c.type===2&&d){let p=Yp(t,l)+1;i=zu(p,d)}else i=u.nextSibling}}}return i}function zu(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function Ok(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Bf.FirstChild:n=n.firstChild;break;case Bf.NextSibling:n=n.nextSibling;break}}return n}function kk(t,e){let[n,...r]=xk(t),i;if(n===xD)i=e[yt][mt];else if(n===PD)i=dP(e[yt][mt]);else{let s=Number(n);i=Vt(e[s+je])}return Ok(i,r)}function Fk(t,e){let n=[];for(let r of e)for(let i=0;i<(r[OD]??1);i++){let s={data:r,firstChild:null};r[_u]>0&&(s.firstChild=t,t=zu(r[_u],t)),n.push(s)}return[t,n]}var mT=()=>null;function Lk(t,e){let n=t[po];return!e||n===null||n.length===0?null:n[0].data[XP]===e?n.shift():(pT(t),null)}function Vk(){mT=Lk}function Io(t,e){return mT(t,e)}function Gu(t,e,n,r){let i=e.tView,o=t[O]&4096?4096:16,a=Bu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[bo]=c;let u=t[Jt];return u!==null&&(a[Jt]=u.createEmbeddedView(i)),rg(i,a,n),a}function yT(t,e){let n=Ue+e;if(n<t.length)return t[n]}function wo(t,e){return!e||e.firstChild===null||mu(t)}function Wu(t,e,n,r=!0){let i=e[L];if(SP(i,e,t,n),r){let o=Uf(n,t),a=e[Ee],c=qp(a,t[An]);c!==null&&bP(i,t[Ut],a,e,c,o)}let s=e[Xt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function vT(t,e){let n=vo(t,e);return n!==void 0&&ku(n[L],n),n}var os=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Uk;let t=e;return t})();function Uk(){let t=ct();return IT(t,X())}var jk=os,_T=class extends jk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=kp(this._hostTNode,this._hostLView);if(QE(e)){let n=du(e,this._hostLView),r=lu(e),i=n[L].data[r+8];return new Vr(i,n)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Io(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,wo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!jx(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new ns(nr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(vt,null);_&&(s=_)}let l=nr(c.componentType??{}),d=Io(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,wo(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ne],u=new _T(c,c[Ut],c[Ne]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Wu(o,i,s,r),e.attachToViewContainerRef(),sD(_f(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vo(this._lContainer,n);r&&(fu(_f(this._lContainer),n),ku(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=vo(this._lContainer,n);return r&&fu(_f(this._lContainer),n)!=null?new zr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qw(t){return t[cu]}function _f(t){return t[cu]||(t[cu]=[])}function IT(t,e){let n,r=e[t.index];return nn(r)?n=r:(n=iT(r,e,null,t),e[t.index]=n,Hu(e,n)),wT(n,e,t,r),new _T(n,t,e)}function Bk(t,e){let n=t[Ee],r=n.createComment(""),i=_t(e,t),s=qp(n,i);return yu(n,s,r,kP(n,i),!1),r}var wT=ET,sg=()=>!1;function $k(t,e,n){return sg(t,e,n)}function ET(t,e,n,r){if(t[An])return;let i;n.type&8?i=Vt(r):i=Bk(e,n),t[An]=i}function Hk(t,e,n){if(t[An]&&t[po])return!0;let r=n[Xt],i=e.index-je;if(!r||pP(e)||Uu(r,i))return!1;let o=$f(r,i),a=r.data[Kp]?.[i],[c,u]=Fk(o,a);return t[An]=c,t[po]=u,!0}function qk(t,e,n,r){sg(t,n,e)||ET(t,e,n,r)}function zk(){wT=qk,sg=Hk}function DT(t,e,n){return t[e]=n}function Gk(t,e){return t[e]}function ir(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function rp(t,e,n,r){let i=ir(t,e,n);return ir(t,e+1,r)||i}function Wk(t,e,n,r,i,s){let o=rp(t,e,n,r);return rp(t,e+2,i,s)||o}function Kk(t,e,n,r,i,s,o,a,c){let u=e.consts,l=$u(e,t,4,o||null,uu(u,a));tT(e,n,l,uu(u,c)),Op(e,l);let d=l.tView=Jp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function ip(t,e,n,r,i,s,o,a){let c=X(),u=It(),l=t+je,d=u.firstCreatePass?Kk(l,u,c,e,n,r,i,s,o):u.data[l];Ro(d,!1);let h=TT(u,c,d,t);Pp()&&zp(u,c,h,d),qr(h,c);let p=iT(h,c,h,d);return c[l]=p,Hu(c,p),$k(p,d,c),Ap(d)&&JD(u,c,d),o!=null&&ZD(c,d,a),ip}var TT=CT;function CT(t,e,n,r){return cr(!0),e[Ee].createComment("")}function Qk(t,e,n,r){let i=e[Xt],s=!i||So()||Uu(i,r);if(cr(s),s)return CT(t,e,n,r);let o=i.data[ZP]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=qu(i,t,e,n);Vu(i,r,a);let c=Yp(i,r);return zu(c,a)}function Yk(){TT=Qk}function ko(t,e,n,r){let i=X(),s=Mo();if(ir(i,s,e)){let o=It(),a=zE();zO(a,i,t,e,n,r)}return ko}function Jk(t,e,n,r){return ir(t,Mo(),n)?e+er(n)+r:rn}function Zk(t,e,n,r,i,s,o,a,c,u){let l=gx(),d=Wk(t,l,n,i,o,c);return VE(4),d?e+er(n)+r+er(i)+s+er(o)+a+er(c)+u:rn}function Jc(t,e){return t<<17|e<<2}function Gr(t){return t>>17&32767}function Xk(t){return(t&2)==2}function e1(t,e){return t&131071|e<<17}function sp(t){return t|2}function rs(t){return(t&131068)>>2}function If(t,e){return t&-131069|e<<2}function t1(t){return(t&1)===1}function op(t){return t|1}function n1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Gr(o),c=rs(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||No(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Gr(t[a+1]);t[r+1]=Jc(h,a),h!==0&&(t[h+1]=If(t[h+1],r)),t[a+1]=e1(t[a+1],r)}else t[r+1]=Jc(a,0),a!==0&&(t[a+1]=If(t[a+1],r)),a=r;else t[r+1]=Jc(c,0),a===0?a=r:t[c+1]=If(t[c+1],r),c=r;u&&(t[r+1]=sp(t[r+1])),zw(t,l,r,!0),zw(t,l,r,!1),r1(e,l,t,r,s),o=Jc(a,c),s?e.classBindings=o:e.styleBindings=o}function r1(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&No(s,e)>=0&&(n[r+1]=op(n[r+1]))}function zw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Gr(i):rs(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];i1(c,e)&&(a=!0,t[o+1]=r?op(u):sp(u)),o=r?Gr(u):rs(u)}a&&(t[n+1]=r?sp(i):op(i))}function i1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?No(t,e)>=0:!1}function s1(t,e,n){let r=X(),i=Mo();if(ir(r,i,e)){let s=It(),o=zE();PO(s,o,r,t,e,r[Ee],n,!1)}return s1}function Gw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Zp(t,n,s[o],o,r)}function Ku(t,e){return o1(t,e,null,!0),Ku}function o1(t,e,n,r){let i=X(),s=It(),o=VE(2);if(s.firstUpdatePass&&c1(s,t,o,r),e!==rn&&ir(i,o,e)){let a=s.data[ar()];f1(s,a,i,i[Ee],t,i[o+1]=p1(e,n),r,o)}}function a1(t,e){return e>=t.expandoStartIndex}function c1(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ar()],o=a1(t,n);g1(s,r)&&e===null&&!o&&(e=!1),e=u1(i,s,e,r),n1(i,s,e,n,o,r)}}function u1(t,e,n,r){let i=Ix(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wf(null,t,e,n,r),n=Eo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=wf(i,t,e,n,r),s===null){let c=l1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=wf(null,t,e,c[1],r),c=Eo(c,e.attrs,r),d1(t,e,r,c))}else s=h1(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function l1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[Gr(r)]}function d1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Gr(i)]=r}function h1(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Eo(r,o,n)}return Eo(r,e.attrs,n)}function wf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Eo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Eo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qx(t,o,n?!0:e[++s]))}return t===void 0?null:t}function f1(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=t1(u)?Ww(c,e,n,i,rs(u),o):void 0;if(!Tu(l)){Tu(s)||Xk(u)&&(s=Ww(c,null,n,i,a,o));let d=ME(ar(),n);BP(r,o,d,i,s)}}function Ww(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===rn&&(h=d?gt:void 0);let p=d?df(h,r):l===r?h:void 0;if(u&&!Tu(p)&&(p=df(c,r)),Tu(p)&&(a=p,o))return a;let g=t[i+1];i=o?Gr(g):rs(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=df(c,r))}return a}function Tu(t){return t!==void 0}function p1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=at(Oo(t)))),t}function g1(t,e){return(t.flags&(e?8:16))!==0}var ap=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Ef(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function m1(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=Ef(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],p=Ef(o,d,a,h,n);if(p!==0){p<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),_=n(o,d),v=n(s,u);if(Object.is(v,_)){let D=n(a,h);Object.is(D,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Cu,i??=Qw(t,s,o,n),cp(t,r,s,v))t.updateValue(s,u),s++,o++;else if(i.has(v))r.set(g,t.detach(s)),o--;else{let D=t.create(s,e[s]);t.attach(s,D),s++,o++}}for(;s<=a;)Kw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=Ef(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Cu,i??=Qw(t,s,o,n);let h=n(s,l);if(cp(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let p=n(s,u);r.set(p,t.detach(s)),o--}}}for(;!c.done;)Kw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function cp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Kw(t,e,n,r,i){if(cp(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Qw(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Cu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function T5(t,e,n){lr("NgControlFlow");let r=X(),i=Mo(),s=hp(r,je+t),o=0;if(ir(r,i,e)){let a=Le(null);try{if(vT(s,o),e!==-1){let c=fp(r[L],je+e),u=Io(s,c.tView.ssrId),l=Gu(r,c,n,{dehydratedView:u});Wu(s,l,o,wo(c,u))}}finally{Le(a)}}else{let a=yT(s,o);a!==void 0&&(a[Ge]=n)}}var up=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ue}};function C5(t,e){return e}var lp=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function b5(t,e,n,r,i,s,o,a,c,u,l,d,h){lr("NgControlFlow");let p=c!==void 0,g=X(),_=a?o.bind(g[yt][Ge]):o,v=new lp(p,_);g[je+t]=v,ip(t+1,e,n,r,i,s),p&&ip(t+2,c,u,l,d,h)}var dp=class extends ap{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ue}at(e){return this.getLView(e)[Ge].$implicit}attach(e,n){let r=n[Xt];this.needsIndexUpdate||=e!==this.length,Wu(this.lContainer,n,e,wo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,y1(this.lContainer,e)}create(e,n){let r=Io(this.lContainer,this.templateTNode.tView.ssrId);return Gu(this.hostLView,this.templateTNode,new up(this.lContainer,n,e),{dehydratedView:r})}destroy(e){ku(e[L],e)}updateValue(e,n){this.getLView(e)[Ge].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ge].$index=e}getLView(e){return v1(this.lContainer,e)}};function A5(t){let e=Le(null),n=ar();try{let r=X(),i=r[L],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=hp(r,a),u=fp(i,a);s.liveCollection=new dp(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(m1(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Mo(),c=o.length===0;if(ir(r,a,c)){let u=n+2,l=hp(r,u);if(c){let d=fp(i,u),h=Io(l,d.tView.ssrId),p=Gu(r,d,void 0,{dehydratedView:h});Wu(l,p,0,wo(d,h))}else vT(l,0)}}}finally{Le(e)}}function hp(t,e){return t[e]}function y1(t,e){return vo(t,e)}function v1(t,e){return yT(t,e)}function fp(t,e){return Sp(t,e)}function _1(t,e,n,r,i,s){let o=e.consts,a=uu(o,i),c=$u(e,t,2,r,a);return tT(e,n,c,uu(o,s)),c.attrs!==null&&ep(c,c.attrs,!1),c.mergedAttrs!==null&&ep(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function bT(t,e,n,r){let i=X(),s=It(),o=je+t,a=i[Ee],c=s.firstCreatePass?_1(o,s,i,e,n,r):s.data[o],u=ST(s,i,c,a,e,t);i[o]=u;let l=Ap(c);return Ro(c,!0),SD(a,u,c),(c.flags&32)!==32&&Pp()&&zp(s,i,u,c),ox()===0&&qr(u,i),ax(),l&&(JD(s,i,c),YD(s,c,i)),r!==null&&ZD(i,c),bT}function AT(){let t=ct();FE()?fx():(t=t.parent,Ro(t,!1));let e=t;ux(e)&&dx(),cx();let n=It();return n.firstCreatePass&&(Op(n,t),DE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Ax(e)&&Gw(n,e,X(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Sx(e)&&Gw(n,e,X(),e.stylesWithoutHost,!1),AT}function og(t,e,n,r){return bT(t,e,n,r),AT(),og}var ST=(t,e,n,r,i,s)=>(cr(!0),Hp(r,i,GE()));function I1(t,e,n,r,i,s){let o=e[Xt],a=!o||So()||Uu(o,s);if(cr(a),a)return Hp(r,i,GE());let c=qu(o,t,e,n);return LD(o,s)&&Vu(o,s,c.nextSibling),o&&(mD(n)||yD(c))&&Ao(n)&&(lx(n),bD(c)),c}function w1(){ST=I1}var E1=(t,e,n,r)=>(cr(!0),ID(e[Ee],""));function D1(t,e,n,r){let i,s=e[Xt],o=!s||So();if(cr(o),o)return ID(e[Ee],"");let a=qu(s,t,e,n),c=uO(s,r);return Vu(s,r,a),i=zu(c,a),i}function T1(){E1=D1}function S5(){return X()}var bu="en-US";var C1=bu;function b1(t){wN(t,"Expected localeId to be defined"),typeof t=="string"&&(C1=t.toLowerCase().replace(/_/g,"-"))}function Qr(t){return!!t&&typeof t.then=="function"}function RT(t){return!!t&&typeof t.subscribe=="function"}function dr(t,e,n,r){let i=X(),s=It(),o=ct();return S1(s,i,i[Ee],o,t,e,r),dr}function A1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ho],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function S1(t,e,n,r,i,s,o){let a=Ap(r),u=t.firstCreatePass&&aT(t),l=e[Ge],d=oT(e),h=!0;if(r.type&3||o){let _=_t(r,e),v=o?o(_):_,D=d.length,q=o?oe=>o(Vt(oe[r.index])):r.index,ee=null;if(!o&&a&&(ee=A1(t,e,i,r.index)),ee!==null){let oe=ee.__ngLastListenerFn__||ee;oe.__ngNextListenerFn__=s,ee.__ngLastListenerFn__=s,h=!1}else{s=Jw(r,e,l,s,!1);let oe=n.listen(v,i,s);d.push(s,oe),u&&u.push(i,q,D,D+1)}}else s=Jw(r,e,l,s,!1);let p=r.outputs,g;if(h&&p!==null&&(g=p[i])){let _=g.length;if(_)for(let v=0;v<_;v+=2){let D=g[v],q=g[v+1],Ie=e[D][q].subscribe(s),ae=d.length;d.push(s,Ie),u&&u.push(i,r.index,ae,-(ae+1))}}}function Yw(t,e,n,r){try{return Qt(6,e,n),n(r)!==!1}catch(i){return cT(t,i),!1}finally{Qt(7,e,n)}}function Jw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?or(t.index,e):e;Xp(a);let c=Yw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Yw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function R5(t=1){return Ex(t)}function R1(){return this._results[Symbol.iterator]()}var pp=class t{get changes(){return this._changes??=new de}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=R1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=$x(e);(this._changesDetected=!Bx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Do=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=x1;let t=e;return t})(),M1=Do,N1=class extends M1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Gu(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new zr(i)}};function x1(){return ag(ct(),X())}function ag(t,e){return t.type&4?new N1(e,t,ss(t,e)):null}var gp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},mp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)NT(e,n).matches!==null&&this.queries[n].setDirty()}},yp=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},vp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_p=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,P1(n,s)),this.matchTNodeWithReadOption(e,n,nu(n,e,s,!1,!1))}else r===Do?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===et||i===os||i===Do&&n.type&4)this.addMatch(n.index,-2);else{let s=nu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function P1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function O1(t,e){return t.type&11?ss(t,e):t.type&4?ag(t,e):null}function k1(t,e,n,r){return n===-1?O1(e,t):n===-2?F1(t,e,r):$r(t,t[L],n,e)}function F1(t,e,n){if(n===et)return ss(e,t);if(n===Do)return ag(e,t);if(n===os)return IT(e,t)}function MT(t,e,n,r){let i=e[Jt].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(k1(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Ip(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=MT(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=Ue;d<l.length;d++){let h=l[d];h[bo]===h[Ne]&&Ip(h[L],h,u,r)}if(l[Xi]!==null){let d=l[Xi];for(let h=0;h<d.length;h++){let p=d[h];Ip(p[L],p,u,r)}}}}}return r}function L1(t,e){return t[Jt].queries[e].queryList}function V1(t,e,n){let r=new pp((n&4)===4);RO(t,e,r,r.destroy),e[Jt]===null&&(e[Jt]=new mp),e[Jt].queries.push(new gp(r))}function U1(t,e,n){t.queries===null&&(t.queries=new vp),t.queries.track(new _p(e,n))}function j1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function NT(t,e){return t.queries.getByIndex(e)}function xT(t,e,n,r){let i=It();if(i.firstCreatePass){let s=ct();U1(i,new yp(e,n,r),s.index),j1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}V1(i,X(),n)}function PT(t){let e=X(),n=It(),r=UE();Mp(r+1);let i=NT(n,r);if(t.dirty&&tx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Ip(n,e,r,[]):MT(n,e,i,r);t.reset(s,fO),t.notifyOnChanges()}return!0}return!1}function OT(){return L1(X(),UE())}function N5(t){let e=px();return ex(e,je+t)}function x5(t,e=""){let n=X(),r=It(),i=t+je,s=r.firstCreatePass?$u(r,i,1,e,null):r.data[i],o=kT(r,n,s,e,t);n[i]=o,Pp()&&zp(r,n,o,s),Ro(s,!1)}var kT=(t,e,n,r,i)=>(cr(!0),_D(e[Ee],r));function B1(t,e,n,r,i){let s=e[Xt],o=!s||So()||Uu(s,i);return cr(o),o?_D(e[Ee],r):qu(s,t,e,n)}function $1(){kT=B1}function H1(t){return FT("",t,""),H1}function FT(t,e,n){let r=X(),i=Jk(r,t,e,n);return i!==rn&&uT(r,ar(),i),FT}function q1(t,e,n,r,i,s,o,a,c){let u=X(),l=Zk(u,t,e,n,r,i,s,o,a,c);return l!==rn&&uT(u,ar(),l),q1}function z1(t,e,n){let r=It();if(r.firstCreatePass){let i=rr(t);wp(n,r.data,r.blueprint,i,!0),wp(e,r.data,r.blueprint,i,!1)}}function wp(t,e,n,r,i){if(t=Je(t),Array.isArray(t))for(let s=0;s<t.length;s++)wp(t[s],e,n,r,i);else{let s=It(),o=X(),a=ct(),c=ts(t)?t:Je(t.provide),u=hD(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ts(t)||!t.multi){let p=new Br(u,i,k),g=Tf(c,e,i?l:l+h,d);g===-1?(Pf(hu(a,o),s,c),Df(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[g]=p,o[g]=p)}else{let p=Tf(c,e,l+h,d),g=Tf(c,e,l,l+h),_=p>=0&&n[p],v=g>=0&&n[g];if(i&&!v||!i&&!_){Pf(hu(a,o),s,c);let D=K1(i?W1:G1,n.length,i,r,u);!i&&v&&(n[g].providerFactory=D),Df(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=LT(n[i?g:p],u,!i&&r);Df(s,t,p>-1?p:g,D)}!i&&r&&v&&n[g].componentProviders++}}}function Df(t,e,n,r){let i=ts(e),s=nP(e);if(i||s){let c=(s?Je(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function LT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Tf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function G1(t,e,n,r){return Ep(this.multi,[])}function W1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=$r(n,n[L],this.providerFactory.index,r);s=a.slice(0,o),Ep(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Ep(i,s);return s}function Ep(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function K1(t,e,n,r,i){let s=new Br(t,n,k);return s.multi=[],s.index=e,s.componentProviders=0,LT(s,i,r&&!n),s}function hr(t,e=[]){return n=>{n.providersResolver=(r,i)=>z1(r,i?i(t):t,e)}}var sr=class{},To=class{};var Au=class extends sr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eu(this);let i=vE(e);this._bootstrapComponents=gD(i.bootstrap),this._r3Injector=fD(e,n,[{provide:sr,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Su=class extends To{constructor(e){super(),this.moduleType=e}create(e){return new Au(this.moduleType,e,[])}};function Q1(t,e,n){return new Au(t,e,n)}var Dp=class extends sr{constructor(e){super(),this.componentFactoryResolver=new Eu(this),this.instance=null;let n=new yo([...e.providers,{provide:sr,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],e.parent||Up(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qu(t,e,n=null){return new Dp({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Y1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=uD(!1,r.type),s=i.length>0?Qu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(S(vt))});let t=e;return t})();function VT(t){lr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Y1).getOrCreateStandaloneInjector(t)}function P5(t,e,n){let r=LE()+t,i=X();return i[r]===rn?DT(i,r,n?e.call(n):e()):Gk(i,r)}function O5(t,e,n,r,i){return Z1(X(),LE(),t,e,n,r,i)}function J1(t,e){let n=t[e];return n===rn?void 0:n}function Z1(t,e,n,r,i,s,o){let a=e+n;return rp(t,a,i,s)?DT(t,a+2,o?r.call(o,i,s):r(i,s)):J1(t,a+2)}var Zc=null;function X1(t){Zc!==null&&(t.defaultEncapsulation!==Zc.defaultEncapsulation||t.preserveWhitespaces!==Zc.preserveWhitespaces)||(Zc=t)}var Rn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},UT=new Rn("17.1.2");var Yu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Tp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ju=(()=>{let e=class e{compileModuleSync(r){return new Su(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=vE(r),o=gD(s.declarations).reduce((a,c)=>{let u=nr(c);return u&&a.push(new ns(u)),a},[]);return new Tp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eF=new b("");var Fo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cg=new b(""),Lo=new b(""),Zu=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ug||(tF(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(S(K),S(Xu),S(Lo))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Xu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return ug?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function tF(t){ug=t}var ug,el=new b(""),jT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(el,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Qr(o))r.push(o);else if(RT(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),as=new b("");function nF(t,e,n){let r=new Su(n);return Promise.resolve(r)}function rF(){zI(()=>{throw new A(600,!1)})}function iF(t){return t.isBoundToModule}function sF(t,e,n){try{let r=n();return Qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function BT(t,e){return Array.isArray(e)?e.reduce(BT,t):T(T({},t),e)}var Nn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I($D),this.afterRenderEffectManager=I(ng),this.componentTypes=[],this.components=[],this.isStable=I(Fo).hasPendingTasks.pipe($(r=>!r)),this._injector=I(vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Iu;if(!this._injector.get(jT).done){let p=!s&&yE(r),g=!1;throw new A(405,g)}let a;s?a=r:a=this._injector.get(ju).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=iF(a)?void 0:this._injector.get(sr),u=i||a.selector,l=a.create(xe.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(cg,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),su(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;su(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(as,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>su(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function su(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Xc;function lg(t){Xc??=new WeakMap;let e=Xc.get(t);if(e)return e;let n=t.isStable.pipe(kt(r=>r)).toPromise().then(()=>{});return Xc.set(t,n),t.onDestroy(()=>Xc?.delete(t)),n}var oF=(()=>{let e=class e{constructor(){this.zone=I(K),this.applicationRef=I(Nn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aF(t){return[{provide:K,useFactory:t},{provide:Hr,multi:!0,useFactory:()=>{let e=I(oF,{optional:!0});return()=>e.initialize()}},{provide:Hr,multi:!0,useFactory:()=>{let e=I(lF);return()=>{e.initialize()}}},{provide:$D,useFactory:cF}]}function cF(){let t=I(K),e=I(en);return n=>t.runOutsideAngular(()=>e.handleError(n))}function uF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lF=(()=>{let e=class e{constructor(){this.subscription=new we,this.initialized=!1,this.zone=I(K),this.pendingTasks=I(Fo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dF(){return typeof $localize<"u"&&$localize.locale||bu}var dg=new b("",{providedIn:"root",factory:()=>I(dg,G.Optional|G.SkipSelf)||dF()});var $T=new b(""),HT=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=lk(i?.ngZone,uF({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=Q1(r.moduleType,this.injector,aF(()=>s)),a=o.injector.get(en,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{su(this._modules,o),c.unsubscribe()})}),sF(a,s,()=>{let c=o.injector.get(jT);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(dg,bu);return b1(u||bu),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=BT({},i);return nF(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(Nn);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new A(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get($T,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(S(xe))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),co=null,qT=new b("");function hF(t){if(co&&!co.get(qT,!1))throw new A(400,!1);rF(),co=t;let e=t.get(HT);return gF(t),e}function hg(t,e,n=[]){let r=`Platform: ${e}`,i=new b(r);return(s=[])=>{let o=zT();if(!o||o.injector.get(qT,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):hF(fF(a,r))}return pF(i)}}function fF(t=[],e){return xe.create({name:e,providers:[{provide:Pu,useValue:"platform"},{provide:$T,useValue:new Set([()=>co=null])},...t]})}function pF(t){let e=zT();if(!e)throw new A(401,!1);return e}function zT(){return co?.get(HT)??null}function gF(t){t.get(jp,null)?.forEach(n=>n())}var GT=hg(null,"core",[]),WT=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(S(Nn))},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})();var Xw=!1;function mF(){Xw||(Xw=!0,sO(),w1(),$1(),T1(),Yk(),zk(),Vk(),SO())}function yF(t,e){return lg(t)}function KT(){return xo([{provide:Qc,useFactory:()=>{let t=!0;return oo()&&(t=!!I(Wr,{optional:!0})?.get(kD,null)),t&&lr("NgHydration"),t}},{provide:Hr,useValue:()=>{oo()&&I(Qc)&&(vF(),mF())},multi:!0},{provide:qD,useFactory:()=>oo()&&I(Qc)},{provide:as,useFactory:()=>{if(oo()&&I(Qc)){let t=I(Nn),e=I(xe);return()=>{yF(t,e).then(()=>{K.assertInAngularZone(),Mk(t)})}}return()=>{}},multi:!0}])}function vF(){let t=Ou(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===rO){e=n;break}if(!e)throw new A(-507,!1)}function Yr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function QT(t){let e=nr(t);if(!e)return null;let n=new ns(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var XT=null;function sn(){return XT}function eC(t){XT??=t}var tl=class{},lt=new b(""),mg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(_F),providedIn:"platform"});let t=e;return t})(),tC=new b(""),_F=(()=>{let e=class e extends mg{constructor(){super(),this._doc=I(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sn().getBaseHref(this._doc)}onPopState(r){let i=sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function yg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function YT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pn(t){return t&&t[0]!=="?"?"?"+t:t}var On=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(vg),providedIn:"root"});let t=e;return t})(),nC=new b(""),vg=(()=>{let e=class e extends On{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return yg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(mg),S(nC,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rC=(()=>{let e=class e extends On{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=yg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(mg),S(nC,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),cs=(()=>{let e=class e{constructor(r){this._subject=new de,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=EF(YT(JT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pn(i))}normalize(r){return e.stripTrailingSlash(wF(this._basePath,JT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pn,e.joinWithSlash=yg,e.stripTrailingSlash=YT,e.\u0275fac=function(i){return new(i||e)(S(On))},e.\u0275prov=R({token:e,factory:()=>IF(),providedIn:"root"});let t=e;return t})();function IF(){return new cs(S(On))}function wF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function JT(t){return t.replace(/\/index.html$/,"")}function EF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function iC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var fg=/\s+/,ZT=[],a8=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=ZT,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(fg):ZT}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(fg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(fg).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(k(et),k(Bt))},e.\u0275dir=pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[be.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var sC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})(),_g="browser",DF="server";function us(t){return t===_g}function Ig(t){return t===DF}var oC=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>us(I(ut))?new pg(I(lt),window):new gg});let t=e;return t})(),pg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=TF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function TF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var gg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},nl=class{};var il=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var fC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(fC||{}),wg=class{constructor(e,n=pC.Ok,r="OK"){this.headers=e.headers||new il,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var sl=class t extends wg{constructor(e={}){super(e),this.type=fC.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var pC=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(pC||{});var AF=new b("");var aC="b",cC="h",uC="s",lC="st",dC="u",hC="rt",rl=new b(""),SF=["GET","HEAD"];function RF(t,e){let l=I(rl),{isCacheActive:n}=l,r=VI(l,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!SF.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=I(Wr),a=NF(t),c=o.get(a,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){let{[aC]:d,[hC]:h,[cC]:p,[uC]:g,[lC]:_,[dC]:v}=c,D=d;switch(h){case"arraybuffer":D=new TextEncoder().encode(d).buffer;break;case"blob":D=new Blob([d]);break}let q=new il(p);return N(new sl({body:D,headers:q,status:g,statusText:_,url:v}))}return e(t).pipe(fe(d=>{d instanceof sl&&o.set(a,{[aC]:d.body,[cC]:MF(d.headers,u),[uC]:d.status,[lC]:d.statusText,[dC]:d.url||"",[hC]:t.responseType})}))}function MF(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function NF(t){let{params:e,method:n,responseType:r,url:i}=t,s=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),o=n+"."+r+"."+i+"?"+s,a=xF(o);return a}function xF(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function gC(t){return[{provide:rl,useFactory:()=>(lr("NgHttpTransferCache"),T({isCacheActive:!0},t))},{provide:AF,useValue:RF,multi:!0,deps:[Wr,rl]},{provide:as,multi:!0,useFactory:()=>{let e=I(Nn),n=I(rl);return()=>{lg(e).then(()=>{n.isCacheActive=!1})}}}]}var Tg=class extends tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cg=class t extends Tg{static makeCurrent(){eC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=PF();return n==null?null:OF(n)}resetBaseElement(){Vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iC(document.cookie,e)}},Vo=null;function PF(){return Vo=Vo||document.querySelector("base"),Vo?Vo.getAttribute("href"):null}function OF(t){return new URL(t,document.baseURI).pathname}var bg=class{addToWindow(e){Ze.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new A(5103,!1);return s},Ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ze.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ze.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Ze.frameworkStabilizers||(Ze.frameworkStabilizers=[]),Ze.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?sn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},kF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Ag=new b(""),_C=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(Ag),S(K))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),ol=class{constructor(e){this._doc=e}},Eg="ng-app-id",IC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ig(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Eg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Eg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Eg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(lt),S(Po),S(Bp,8),S(ut))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Dg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mg=/%COMP%/g,wC="%COMP%",FF=`_nghost-${wC}`,LF=`_ngcontent-${wC}`,VF=!0,UF=new b("",{providedIn:"root",factory:()=>VF});function jF(t){return LF.replace(Mg,t)}function BF(t){return FF.replace(Mg,t)}function EC(t,e){return e.map(n=>n.replace(Mg,t))}var mC=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ig(c),this.defaultRenderer=new Uo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zt.ShadowDom&&(i=ie(T({},i),{encapsulation:Zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof al?s.applyToHost(r):s instanceof jo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Zt.Emulated:o=new al(u,l,i,this.appId,d,a,c,h);break;case Zt.ShadowDom:return new Sg(u,l,r,i,a,c,this.nonce,h);default:o=new jo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(_C),S(IC),S(Po),S(UF),S(lt),S(ut),S(K),S(Bp))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Uo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Dg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Dg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Dg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(n,r,i&Sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=sn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sg=class extends Uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=EC(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jo=class extends Uo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?EC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},al=class extends jo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=jF(u),this.hostAttr=BF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},$F=(()=>{let e=class e extends ol{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(lt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),vC=["alt","control","meta","shift"],HF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},zF=(()=>{let e=class e extends ol{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),vC.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=HF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),vC.forEach(a=>{if(a!==s){let c=qF[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(lt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function GF(){Cg.makeCurrent()}function WF(){return new en}function KF(){return pD(document),document}var QF=[{provide:ut,useValue:_g},{provide:jp,useValue:GF,multi:!0},{provide:lt,useFactory:KF,deps:[]}],k8=hg(GT,"browser",QF),YF=new b(""),JF=[{provide:Lo,useClass:bg,deps:[]},{provide:cg,useClass:Zu,deps:[K,Xu,Lo]},{provide:Zu,useClass:Zu,deps:[K,Xu,Lo]}],ZF=[{provide:Pu,useValue:"root"},{provide:en,useFactory:WF,deps:[]},{provide:Ag,useClass:$F,multi:!0,deps:[lt,K,ut]},{provide:Ag,useClass:zF,multi:!0,deps:[lt]},mC,IC,_C,{provide:_o,useExisting:mC},{provide:nl,useClass:kF,deps:[]},[]],F8=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Po,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(S(YF,12))},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({providers:[...ZF,...JF],imports:[sC,WT]});let t=e;return t})();var DC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(lt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rg=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Rg||{});function L8(...t){let e=[],n=new Set,r=n.has(Rg.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return xo([[],KT(),n.has(Rg.NoHttpTransferCache)||r?[]:gC({}),e])}var OC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(k(Bt),k(et))},e.\u0275dir=pe({type:e});let t=e;return t})(),kg=(()=>{let e=class e extends OC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=pe({type:e,features:[St]});let t=e;return t})(),qo=new b("");var eL={provide:qo,useExisting:tn(()=>kC),multi:!0};function tL(){let t=sn()?sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var nL=new b(""),kC=(()=>{let e=class e extends OC{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!tL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(k(Bt),k(et),k(nL,8))},e.\u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&dr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[hr([eL]),St]});let t=e;return t})();function fr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function FC(t){return t!=null&&typeof t.length=="number"}var ml=new b(""),Fg=new b(""),rL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,TC=class{static min(e){return iL(e)}static max(e){return sL(e)}static required(e){return oL(e)}static requiredTrue(e){return aL(e)}static email(e){return cL(e)}static minLength(e){return uL(e)}static maxLength(e){return LC(e)}static pattern(e){return lL(e)}static nullValidator(e){return ul(e)}static compose(e){return HC(e)}static composeAsync(e){return zC(e)}};function iL(t){return e=>{if(fr(e.value)||fr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function sL(t){return e=>{if(fr(e.value)||fr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function oL(t){return fr(t.value)?{required:!0}:null}function aL(t){return t.value===!0?null:{required:!0}}function cL(t){return fr(t.value)||rL.test(t.value)?null:{email:!0}}function uL(t){return e=>fr(e.value)||!FC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function LC(t){return e=>FC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function lL(t){if(!t)return ul;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(fr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ul(t){return null}function VC(t){return t!=null}function UC(t){return Qr(t)?te(t):t}function jC(t){let e={};return t.forEach(n=>{e=n!=null?T(T({},e),n):e}),Object.keys(e).length===0?null:e}function BC(t,e){return e.map(n=>n(t))}function dL(t){return!t.validate}function $C(t){return t.map(e=>dL(e)?e:n=>e.validate(n))}function HC(t){if(!t)return null;let e=t.filter(VC);return e.length==0?null:function(n){return jC(BC(n,e))}}function qC(t){return t!=null?HC($C(t)):null}function zC(t){if(!t)return null;let e=t.filter(VC);return e.length==0?null:function(n){let r=BC(n,e).map(UC);return rf(r).pipe($(jC))}}function GC(t){return t!=null?zC($C(t)):null}function CC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WC(t){return t._rawValidators}function KC(t){return t._rawAsyncValidators}function Ng(t){return t?Array.isArray(t)?t:[t]:[]}function ll(t,e){return Array.isArray(t)?t.includes(e):t===e}function bC(t,e){let n=Ng(e);return Ng(t).forEach(i=>{ll(n,i)||n.push(i)}),n}function AC(t,e){return Ng(e).filter(n=>!ll(t,n))}var dl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Jr=class extends dl{get formDirective(){return null}get path(){return null}},Zr=class extends dl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},hL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eK=ie(T({},hL),{"[class.ng-submitted]":"isSubmitted"}),tK=(()=>{let e=class e extends hl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(k(Zr,2))},e.\u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ku("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[St]});let t=e;return t})(),nK=(()=>{let e=class e extends hl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(k(Jr,10))},e.\u0275dir=pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ku("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[St]});let t=e;return t})();var Bo="VALID",cl="INVALID",ls="PENDING",$o="DISABLED";function Lg(t){return(yl(t)?t.validators:t)||null}function fL(t){return Array.isArray(t)?qC(t):t||null}function Vg(t,e){return(yl(e)?e.asyncValidators:t)||null}function pL(t){return Array.isArray(t)?GC(t):t||null}function yl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function QC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function YC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}var ds=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bo}get invalid(){return this.status===cl}get pending(){return this.status==ls}get disabled(){return this.status===$o}get enabled(){return this.status!==$o}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AC(e,this._rawAsyncValidators))}hasValidator(e){return ll(this._rawValidators,e)}hasAsyncValidator(e){return ll(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ls,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$o,this.errors=null,this._forEachChild(r=>{r.disable(ie(T({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bo,this._forEachChild(r=>{r.enable(ie(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(T({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bo||this.status===ls)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$o:Bo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ls,this._hasOwnPendingAsyncValidator=!0;let n=UC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?$o:this.errors?cl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ls)?ls:this._anyControlsHaveStatus(cl)?cl:Bo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pL(this._rawAsyncValidators)}},fl=class extends ds{constructor(e,n,r){super(Lg(n),Vg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){YC(this,!0,e),Object.keys(e).forEach(r=>{QC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xg=class extends fl{};var vl=new b("CallSetDisabledState",{providedIn:"root",factory:()=>_l}),_l="always";function JC(t,e){return[...e.path,t]}function Pg(t,e,n=_l){Ug(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),mL(t,e),vL(t,e),yL(t,e),gL(t,e)}function SC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function pl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function gL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ug(t,e){let n=WC(t);e.validator!==null?t.setValidators(CC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=KC(t);e.asyncValidator!==null?t.setAsyncValidators(CC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();pl(e._rawValidators,i),pl(e._rawAsyncValidators,i)}function gl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=WC(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=KC(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return pl(e._rawValidators,r),pl(e._rawAsyncValidators,r),n}function mL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ZC(t,e)})}function yL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ZC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ZC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function _L(t,e){t==null,Ug(t,e)}function IL(t,e){return gl(t,e)}function XC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function wL(t){return Object.getPrototypeOf(t.constructor)===kg}function EL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function eb(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===kC?n=s:wL(s)?r=s:i=s}),i||r||n||null}function DL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function MC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ho=class extends ds{constructor(e=null,n,r){super(Lg(n),Vg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(MC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var TL=t=>t instanceof Ho;var CL={provide:Zr,useExisting:tn(()=>bL)},NC=Promise.resolve(),bL=(()=>{let e=class e extends Zr{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Ho,this._registered=!1,this.name="",this.update=new de,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=eb(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),XC(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){NC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Yr(i);NC.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?JC(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(k(Jr,9),k(ml,10),k(Fg,10),k(qo,10),k(Kr,8),k(vl,8))},e.\u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[be.None,"disabled","isDisabled"],model:[be.None,"ngModel","model"],options:[be.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hr([CL]),St,jt]});let t=e;return t})(),iK=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var tb=new b("");var AL={provide:Jr,useExisting:tn(()=>SL)},SL=(()=>{let e=class e extends Jr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new de,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Pg(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){SC(r.control||null,r,!1),DL(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,EL(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(SC(i||null,r),TL(s)&&(Pg(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);_L(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&IL(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ug(this.form,this),this._oldForm&&gl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(k(ml,10),k(Fg,10),k(vl,8))},e.\u0275dir=pe({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&dr("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[be.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hr([AL]),St,jt]});let t=e;return t})();var RL={provide:Zr,useExisting:tn(()=>ML)},ML=(()=>{let e=class e extends Zr{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new de,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=eb(this,o)}ngOnChanges(r){this._added||this._setUpControl(),XC(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return JC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(k(Jr,13),k(ml,10),k(Fg,10),k(qo,10),k(tb,8))},e.\u0275dir=pe({type:e,selectors:[["","formControlName",""]],inputs:{name:[be.None,"formControlName","name"],isDisabled:[be.None,"disabled","isDisabled"],model:[be.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[hr([RL]),St,jt]});let t=e;return t})(),NL={provide:qo,useExisting:tn(()=>rb),multi:!0};function nb(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function xL(t){return t.split(":")[0]}var rb=(()=>{let e=class e extends kg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=nb(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=xL(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=pe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&dr("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([NL]),St]});let t=e;return t})(),sK=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(nb(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(k(et),k(Bt),k(rb,9))},e.\u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),PL={provide:qo,useExisting:tn(()=>ib),multi:!0};function xC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function OL(t){return t.split(":")[0]}var ib=(()=>{let e=class e extends kg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);s.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=OL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=pe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&dr("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([PL]),St]});let t=e;return t})(),oK=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(xC(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(xC(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(k(et),k(Bt),k(ib,9))},e.\u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function kL(t){return typeof t=="number"?t:parseInt(t,10)}var FL=(()=>{let e=class e{constructor(){this._validator=ul}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ul,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pe({type:e,features:[jt]});let t=e;return t})();var LL={provide:ml,useExisting:tn(()=>VL),multi:!0},VL=(()=>{let e=class e extends FL{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=r=>kL(r),this.createValidator=r=>LC(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=pe({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&ko("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[hr([LL]),St]});let t=e;return t})();var sb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})(),Og=class extends ds{constructor(e,n,r){super(Lg(n),Vg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){YC(this,!1,e),e.forEach((r,i)=>{QC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function PC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var aK=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return PC(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new fl(s,o)}record(r,i=null){let s=this._reduceControls(r);return new xg(s,i)}control(r,i,s){let o={};return this.useNonNullable?(PC(i)?o=i:(o.validators=i,o.asyncValidators=s),new Ho(r,ie(T({},o),{nonNullable:!0}))):new Ho(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Og(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Ho)return r;if(r instanceof ds)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cK=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:vl,useValue:r.callSetDisabledState??_l}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({imports:[sb]});let t=e;return t})(),uK=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:tb,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:vl,useValue:r.callSetDisabledState??_l}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({imports:[sb]});let t=e;return t})();var H="primary",sa=Symbol("RouteTitle"),qg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ms(t){return new qg(t)}function UL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?zg(t):void 0,r=e?zg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!gb(t[i],e[i]))return!1;return!0}function zg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function mb(t){return t.length>0?t[t.length-1]:null}function yr(t){return nf(t)?t:Qr(t)?te(Promise.resolve(t)):N(t)}var BL={exact:vb,subset:_b},yb={exact:$L,subset:HL,ignored:()=>!0};function ob(t,e,n){return BL[n.paths](t.root,e.root,n.matrixParams)&&yb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $L(t,e){return on(t,e)}function vb(t,e,n){if(!ei(t.segments,e.segments)||!El(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vb(t.children[r],e.children[r],n))return!1;return!0}function HL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gb(t[n],e[n]))}function _b(t,e,n){return Ib(t,e,e.segments,n)}function Ib(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ei(i,n)||e.hasChildren()||!El(i,n,r))}else if(t.segments.length===n.length){if(!ei(t.segments,n)||!El(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!_b(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ei(t.segments,i)||!El(t.segments,i,r)||!t.children[H]?!1:Ib(t.children[H],e,s,r)}}function El(t,e,n){return e.every((r,i)=>yb[n](t[i].parameters,r.parameters))}var pr=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){return GL.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dl(this)}},Xr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ms(this.parameters),this._parameterMap}toString(){return Eb(this)}};function qL(t,e){return ei(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var oa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new Jo,providedIn:"root"});let t=e;return t})(),Jo=class{parse(e){let n=new Wg(e);return new pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${zo(e.root,!0)}`,r=QL(e.queryParams),i=typeof e.fragment=="string"?`#${WL(e.fragment)}`:"";return`${n}${r}${i}`}},GL=new Jo;function Dl(t){return t.segments.map(e=>Eb(e)).join("/")}function zo(t,e){if(!t.hasChildren())return Dl(t);if(e){let n=t.children[H]?zo(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${zo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zL(t,(r,i)=>i===H?[zo(t.children[H],!1)]:[`${i}:${zo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Dl(t)}/${n[0]}`:`${Dl(t)}/(${n.join("//")})`}}function wb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Il(t){return wb(t).replace(/%3B/gi,";")}function WL(t){return encodeURI(t)}function Gg(t){return wb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tl(t){return decodeURIComponent(t)}function ab(t){return Tl(t.replace(/\+/g,"%20"))}function Eb(t){return`${Gg(t.path)}${KL(t.parameters)}`}function KL(t){return Object.entries(t).map(([e,n])=>`;${Gg(e)}=${Gg(n)}`).join("")}function QL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Il(n)}=${Il(i)}`).join("&"):`${Il(n)}=${Il(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var YL=/^[^\/()?;#]+/;function jg(t){let e=t.match(YL);return e?e[0]:""}var JL=/^[^\/()?;=#]+/;function ZL(t){let e=t.match(JL);return e?e[0]:""}var XL=/^[^=?&#]+/;function eV(t){let e=t.match(XL);return e?e[0]:""}var tV=/^[^&#]+/;function nV(t){let e=t.match(tV);return e?e[0]:""}var Wg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new re(e,n)),r}parseSegment(){let e=jg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Xr(Tl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jg(this.remaining);i&&(r=i,this.capture(r))}e[Tl(n)]=Tl(r)}parseQueryParam(e){let n=eV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=nV(this.remaining);o&&(r=o,this.capture(r))}let i=ab(n),s=ab(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function Db(t){return t.segments.length>0?new re([],{[H]:t}):t}function Tb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Tb(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new re(t.segments,e);return rV(n)}function rV(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new re(t.segments.concat(e.segments),e.children)}return t}function ys(t){return t instanceof pr}function iV(t,e,n=null,r=null){let i=Cb(t);return bb(i,e,n,r)}function Cb(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Db(r);return e??i}function bb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Bg(i,i,i,n,r);let s=sV(e);if(s.toRoot())return Bg(i,i,new re([],{}),n,r);let o=oV(s,i,t),a=o.processChildren?Ko(o.segmentGroup,o.index,s.commands):Sb(o.segmentGroup,o.index,s.commands);return Bg(i,o.segmentGroup,a,n,r)}function Cl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zo(t){return typeof t=="object"&&t!=null&&t.outlets}function Bg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Ab(t,e,n);let a=Db(Tb(o));return new pr(a,s,i)}function Ab(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Ab(s,e,n)}),new re(t.segments,r)}var bl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Cl(r[0]))throw new A(4003,!1);let i=r.find(Zo);if(i&&i!==mb(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new bl(n,e,r)}var ps=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function oV(t,e,n){if(t.isAbsolute)return new ps(e,!0,0);if(!n)return new ps(e,!1,NaN);if(n.parent===null)return new ps(n,!0,0);let r=Cl(t.commands[0])?0:1,i=n.segments.length-1+r;return aV(n,i,t.numberOfDoubleDots)}function aV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new ps(r,!1,i-s)}function cV(t){return Zo(t[0])?t[0].outlets:{[H]:t}}function Sb(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return Ko(t,e,n);let r=uV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new re(t.segments.slice(r.pathIndex),t.children),Ko(s,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?Kg(t,e,n):r.match?Ko(t,0,i):Kg(t,e,n)}function Ko(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=cV(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=Ko(t.children[H],e,n);return new re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Sb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new re(t.segments,i)}}function uV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Zo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ub(c,u,o))return s;r+=2}else{if(!ub(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Kg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Zo(s)){let c=lV(s.outlets);return new re(r,c)}if(i===0&&Cl(n[0])){let c=t.segments[e];r.push(new Xr(c.path,cb(n[0]))),i++;continue}let o=Zo(s)?s.outlets[H]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Cl(a)?(r.push(new Xr(o,cb(a))),i+=2):(r.push(new Xr(o,{})),i++)}return new re(r,{})}function lV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Kg(new re([],{}),0,r))}),e}function cb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ub(t,e,n){return t==n.path&&on(e,n.parameters)}var Qo="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),Mt=class{constructor(e,n){this.id=e,this.url=n}},vs=class extends Mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$t=class extends Mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Rt||{}),Al=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Al||{}),gr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationSkipped}},Xo=class extends Mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sl=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qg=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yg=class extends Mt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jg=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zg=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xg=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},em=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tm=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nm=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rm=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},im=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Pe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ea=class{},ta=class{constructor(e){this.url=e}};var sm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new aa,this.attachRef=null}},aa=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new sm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ml=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=om(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=om(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=am(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return am(e,this._root).map(n=>n.value)}};function om(t,e){if(t===e.value)return e;for(let n of e.children){let r=om(t,n);if(r)return r}return null}function am(t,e){if(t===e.value)return[e];for(let n of e.children){let r=am(t,n);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nl=class extends Ml{constructor(e,n){super(e),this.snapshot=n,ym(this,e)}toString(){return this.snapshot.toString()}};function Rb(t){let e=dV(t),n=new Ve([new Xr("",{})]),r=new Ve({}),i=new Ve({}),s=new Ve({}),o=new Ve(""),a=new ti(n,r,s,o,i,H,t,e.root);return a.snapshot=e.root,new Nl(new wt(a,[]),e)}function dV(t){let e={},n={},r={},i="",s=new na([],e,r,i,n,H,t,null,{});return new xl("",new wt(s,[]))}var ti=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[sa]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),i?.data),t._resolvedData)}:r={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},i&&Nb(i)&&(r.resolve[sa]=i.title),r}var na=class{get title(){return this.data?.[sa]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},xl=class extends Ml{constructor(e,n){super(n),this.url=e,ym(this,n)}toString(){return Mb(this._root)}};function ym(t,e){e.value._routerState=t,e.children.forEach(n=>ym(t,n))}function Mb(t){let e=t.children.length>0?` { ${t.children.map(Mb).join(", ")} } `:"";return`${t.value}${e}`}function $g(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),jL(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cm(t,e){let n=on(t.params,e.params)&&qL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||cm(t.parent,e.parent))}function Nb(t){return typeof t.title=="string"||t.title===null}var hV=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new de,this.deactivateEvents=new de,this.attachEvents=new de,this.detachEvents=new de,this.parentContexts=I(aa),this.location=I(os),this.changeDetector=I(Kr),this.environmentInjector=I(vt),this.inputBinder=I(Ll,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new um(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jt]});let t=e;return t})(),um=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ti?this.route:e===aa?this.childContexts:this.parent.get(e,n)}},Ll=new b(""),lb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=so([i.queryParams,i.params,i.data]).pipe(pt(([o,a,c],u)=>(c=T(T(T({},o),a),c),u===0?N(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=QT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function fV(t,e,n){let r=ra(t,e._root,n?n._root:void 0);return new Nl(r,e)}function ra(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=pV(t,e,n);return new wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ra(t,a)),o}}let r=gV(e.value),i=e.children.map(s=>ra(t,s));return new wt(r,i)}}function pV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ra(t,r,i);return ra(t,r)})}function gV(t){return new ti(new Ve(t.url),new Ve(t.params),new Ve(t.queryParams),new Ve(t.fragment),new Ve(t.data),t.outlet,t.component,t)}var xb="ngNavigationCancelingError";function Pb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ob(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ob(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[xb]=!0,n.cancellationCode=e,n}function mV(t){return kb(t)&&ys(t.url)}function kb(t){return!!t&&t[xb]}var yV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pE({type:e,selectors:[["ng-component"]],standalone:!0,features:[VT],decls:1,vars:0,template:function(i,s){i&1&&og(0,"router-outlet")},dependencies:[hV],encapsulation:2});let t=e;return t})();function vV(t,e){return t.providers&&!t._injector&&(t._injector=Qu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function vm(t){let e=t.children&&t.children.map(vm),n=e?ie(T({},t),{children:e}):T({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=yV),n}function an(t){return t.outlet||H}function _V(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function ca(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var IV=(t,e,n,r)=>$(i=>(new lm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),lm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),$g(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new im(s.value.snapshot))}),e.children.length&&this.forwardEvent(new nm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if($g(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),$g(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ca(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Pl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gs=class{constructor(e,n){this.component=e,this.route=n}};function wV(t,e,n){let r=t._root,i=e?e._root:null;return Go(r,i,n,[r.value])}function EV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!rE(t)?t:e.get(t):r}function Go(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=fs(e);return t.children.forEach(o=>{DV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yo(a,n.getContext(o),i)),i}function DV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=TV(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Pl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Go(t,e,a?a.children:null,r,i):Go(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gs(a.outlet.component,o))}else o&&Yo(e,a,i),i.canActivateChecks.push(new Pl(r)),s.component?Go(t,null,a?a.children:null,r,i):Go(t,null,n,r,i);return i}function TV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ei(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cm(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!cm(t,e)}}function Yo(t,e,n){let r=fs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Yo(o,e.children.getContext(s),n):Yo(o,null,n):Yo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new gs(e.outlet.component,i)):n.canDeactivateChecks.push(new gs(null,i)):n.canDeactivateChecks.push(new gs(null,i))}function ua(t){return typeof t=="function"}function CV(t){return typeof t=="boolean"}function bV(t){return t&&ua(t.canLoad)}function AV(t){return t&&ua(t.canActivate)}function SV(t){return t&&ua(t.canActivateChild)}function RV(t){return t&&ua(t.canDeactivate)}function MV(t){return t&&ua(t.canMatch)}function Fb(t){return t instanceof Dn||t?.name==="EmptyError"}var wl=Symbol("INITIAL_VALUE");function _s(){return pt(t=>so(t.map(e=>e.pipe(Tn(1),Gc(wl)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===wl)return wl;if(n===!1||n instanceof pr)return n}return!0}),ot(e=>e!==wl),Tn(1)))}function NV(t,e){return Ce(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(ie(T({},n),{guardsResult:!0})):xV(o,r,i,t).pipe(Ce(a=>a&&CV(a)?PV(r,s,t,e):N(a)),$(a=>ie(T({},n),{guardsResult:a})))})}function xV(t,e,n,r){return te(t).pipe(Ce(i=>VV(i.component,i.route,n,e,r)),kt(i=>i!==!0,!0))}function PV(t,e,n,r){return te(e).pipe(Jn(i=>$i(kV(i.route.parent,r),OV(i.route,r),LV(t,i.path,n),FV(t,i.route,n))),kt(i=>i!==!0,!0))}function OV(t,e){return t!==null&&e&&e(new rm(t)),N(!0)}function kV(t,e){return t!==null&&e&&e(new tm(t)),N(!0)}function FV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Hc(()=>{let o=ca(e)??n,a=Is(s,o),c=AV(a)?a.canActivate(e,t):Mn(o,()=>a(e,t));return yr(c).pipe(kt())}));return N(i).pipe(_s())}function LV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>EV(o)).filter(o=>o!==null).map(o=>Hc(()=>{let a=o.guards.map(c=>{let u=ca(o.node)??n,l=Is(c,u),d=SV(l)?l.canActivateChild(r,t):Mn(u,()=>l(r,t));return yr(d).pipe(kt())});return N(a).pipe(_s())}));return N(s).pipe(_s())}function VV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=ca(e)??i,u=Is(a,c),l=RV(u)?u.canDeactivate(t,e,n,r):Mn(c,()=>u(t,e,n,r));return yr(l).pipe(kt())});return N(o).pipe(_s())}function UV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=Is(o,t),c=bV(a)?a.canLoad(e,n):Mn(t,()=>a(e,n));return yr(c)});return N(s).pipe(_s(),Lb(r))}function Lb(t){return Tc(fe(e=>{if(ys(e))throw Pb(t,e)}),$(e=>e===!0))}function jV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=Is(o,t),c=MV(a)?a.canMatch(e,n):Mn(t,()=>a(e,n));return yr(c)});return N(s).pipe(_s(),Lb(r))}var ia=class{constructor(e){this.segmentGroup=e||null}},Ol=class extends Error{constructor(e){super(),this.urlTree=e}};function hs(t){return Kt(new ia(t))}function BV(t){return Kt(new A(4e3,!1))}function $V(t){return Kt(Ob(!1,Rt.GuardRejected))}var dm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[H])return BV(e.redirectTo);i=i.children[H]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ol(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new pr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},hm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HV(t,e,n,r,i){let s=_m(t,e,n);return s.matched?(r=vV(e,r),jV(r,e,n,i).pipe($(o=>o===!0?s:T({},hm)))):N(s)}function _m(t,e,n){if(e.path==="**")return qV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?T({},hm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||UL)(n,t,e);if(!i)return T({},hm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?T(T({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function qV(t){return{matched:!0,parameters:t.length>0?mb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function db(t,e,n,r){return n.length>0&&WV(t,n,r)?{segmentGroup:new re(e,GV(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&KV(t,n,r)?{segmentGroup:new re(t.segments,zV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function zV(t,e,n,r){let i={};for(let s of n)if(Vl(t,e,s)&&!r[an(s)]){let o=new re([],{});i[an(s)]=o}return T(T({},r),i)}function GV(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&an(r)!==H){let i=new re([],{});n[an(r)]=i}return n}function WV(t,e,n){return n.some(r=>Vl(t,e,r)&&an(r)!==H)}function KV(t,e,n){return n.some(r=>Vl(t,e,r))}function Vl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QV(t,e,n,r){return an(t)!==r&&(r===H||!Vl(e,n,t))?!1:_m(e,t,n).matched}function YV(t,e,n){return e.length===0&&!t.children[n]}var fm=class{};function JV(t,e,n,r,i,s,o="emptyOnly"){return new pm(t,e,n,r,i,o,s).recognize()}var ZV=31,pm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new dm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=db(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new na([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),i=new wt(r,n),s=new xl("",i),o=iV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,H).pipe(ft(r=>{if(r instanceof Ol)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ia?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=mm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(s=>s instanceof wt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return te(i).pipe(Jn(s=>{let o=r.children[s],a=_V(n,s);return this.processSegmentGroup(e,a,o,s)}),zc((s,o)=>(s.push(...o),s)),Zn(null),of(),Ce(s=>{if(s===null)return hs(r);let o=Vb(s);return XV(o),N(o)}))}processSegment(e,n,r,i,s,o){return te(n).pipe(Jn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ft(c=>{if(c instanceof ia)return N(null);throw c}))),kt(a=>!!a),ft(a=>{if(Fb(a))return YV(r,i,s)?N(new fm):hs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return QV(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):hs(i):hs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=_m(n,i,s);if(!a)return hs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ce(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=HV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(pt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new na(l,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,tU(r),an(r),r.component??r._loadedComponent??null,r,nU(r)),{segmentGroup:g,slicedSegments:_}=db(n,l,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe($(D=>D===null?null:new wt(p,D)));if(c.length===0&&_.length===0)return N(new wt(p,[]));let v=an(r)===s;return this.processSegment(u,c,g,_,v?H:s,!0).pipe($(D=>new wt(p,D instanceof wt?[D]:[])))}))):hs(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):UV(e,n,r,this.urlSerializer).pipe(Ce(i=>i?this.configLoader.loadChildren(e,n).pipe(fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):$V(n))):N({routes:[],injector:e})}};function XV(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function eU(t){let e=t.value.routeConfig;return e&&e.path===""}function Vb(t){let e=[],n=new Set;for(let r of t){if(!eU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Vb(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!n.has(r))}function tU(t){return t.data||{}}function nU(t){return t.resolve||{}}function rU(t,e,n,r,i,s){return Ce(o=>JV(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:c})=>ie(T({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function iU(t,e){return Ce(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Ub(c))o.add(u);let a=0;return te(o).pipe(Jn(c=>s.has(c)?sU(c,r,t,e):(c.data=mm(c,c.parent,t).resolve,N(void 0))),fe(()=>a++),qi(1),Ce(c=>a===o.size?N(n):bt))})}function Ub(t){let e=t.children.map(n=>Ub(n)).flat();return[t,...e]}function sU(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Nb(i)&&(s[sa]=i.title),oU(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=mm(t,t.parent,n).resolve,null)))}function oU(t,e,n,r){let i=zg(t);if(i.length===0)return N({});let s={};return te(i).pipe(Ce(o=>aU(t[o],e,n,r).pipe(kt(),fe(a=>{s[o]=a}))),qi(1),sf(s),ft(o=>Fb(o)?bt:Kt(o)))}function aU(t,e,n,r){let i=ca(e)??r,s=Is(t,i),o=s.resolve?s.resolve(e,n):Mn(i,()=>s(e,n));return yr(o)}function Hg(t){return pt(e=>{let n=t(e);return n?te(n).pipe($(()=>e)):N(e)})}var jb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[sa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(cU),providedIn:"root"});let t=e;return t})(),cU=(()=>{let e=class e extends jb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(DC))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),la=new b("",{providedIn:"root",factory:()=>({})}),kl=new b(""),Im=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Ju)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=yr(r.loadComponent()).pipe($(Bb),fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Hi(()=>{this.componentLoaders.delete(r)})),s=new Vi(i,()=>new it).pipe(Li());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=uU(i,this.compiler,r,this.onLoadEndListener).pipe(Hi(()=>{this.childrenLoaders.delete(i)})),a=new Vi(o,()=>new it).pipe(Li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uU(t,e,n,r){return yr(t.loadChildren()).pipe($(Bb),Ce(i=>i instanceof To||Array.isArray(i)?N(i):te(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(kl,[],{optional:!0,self:!0}).flat()),{routes:o.map(vm),injector:s}}))}function lU(t){return t&&typeof t=="object"&&"default"in t}function Bb(t){return lU(t)?t.default:t}var wm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(dU),providedIn:"root"});let t=e;return t})(),dU=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$b=new b(""),Hb=new b("");function hU(t,e,n){let r=t.get(Hb),i=t.get(lt);return t.get(K).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),fU(t))),{onViewTransitionCreated:c}=r;return c&&Mn(t,()=>c({transition:a,from:e,to:n})),o})}function fU(t){return new Promise(e=>{tg(e,{injector:t})})}var Em=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new it,this.transitionAbortSubject=new it,this.configLoader=I(Im),this.environmentInjector=I(vt),this.urlSerializer=I(oa),this.rootContexts=I(aa),this.location=I(cs),this.inputBindingEnabled=I(Ll,{optional:!0})!==null,this.titleStrategy=I(jb),this.options=I(la,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(wm),this.createViewTransition=I($b,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Xg(s)),i=s=>this.events.next(new em(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ie(T(T({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ve({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ot(o=>o.id!==0),$(o=>ie(T({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pt(o=>{this.currentTransition=o;let a=!1,c=!1;return N(o).pipe(fe(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ie(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new mr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Al.IgnoredSameUrlNavigation)),u.resolve(null),bt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return N(u).pipe(pt(h=>{let p=this.transitions?.getValue();return this.events.next(new vs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?bt:Promise.resolve(h)}),rU(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),fe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ie(T({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Sl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:_,extras:v}=u,D=new vs(h,this.urlSerializer.serialize(p),g,_);this.events.next(D);let q=Rb(this.rootComponentType).snapshot;return this.currentTransition=o=ie(T({},u),{targetSnapshot:q,urlAfterRedirects:p,extras:ie(T({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,N(o)}else{let h="";return this.events.next(new mr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Al.IgnoredByUrlHandlingStrategy)),u.resolve(null),bt}}),fe(u=>{let l=new Qg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$(u=>(this.currentTransition=o=ie(T({},u),{guards:wV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),NV(this.environmentInjector,u=>this.events.next(u)),fe(u=>{if(o.guardsResult=u.guardsResult,ys(u.guardsResult))throw Pb(this.urlSerializer,u.guardsResult);let l=new Yg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ot(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Rt.GuardRejected),!1)),Hg(u=>{if(u.guards.canActivateChecks.length)return N(u).pipe(fe(l=>{let d=new Jg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),pt(l=>{let d=!1;return N(l).pipe(iU(this.paramsInheritanceStrategy,this.environmentInjector),fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Rt.NoDataFromResolver)}}))}),fe(l=>{let d=new Zg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Hg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(fe(p=>{d.component=p}),$(()=>{})));for(let p of d.children)h.push(...l(p));return h};return so(l(u.targetSnapshot.root)).pipe(Zn(null),Tn(1))}),Hg(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?te(d).pipe($(()=>o)):N(o)}),$(u=>{let l=fV(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ie(T({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),fe(()=>{this.events.next(new ea)}),IV(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Tn(1),fe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $t(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),af(this.transitionAbortSubject.pipe(fe(u=>{throw u}))),Hi(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Rt.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ft(u=>{if(c=!0,kb(u))this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),mV(u)?this.events.next(new ta(u.url)):o.resolve(!1);else{this.events.next(new Xo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return bt}))}))}cancelNavigationTransition(r,i,s){let o=new gr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pU(t){return t!==Qo}var gU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(mU),providedIn:"root"});let t=e;return t})(),gm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mU=(()=>{let e=class e extends gm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(yU),providedIn:"root"});let t=e;return t})(),yU=(()=>{let e=class e extends qb{constructor(){super(...arguments),this.location=I(cs),this.urlSerializer=I(oa),this.options=I(la,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(wm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof vs)this.stateMemento=this.createStateMemento();else if(r instanceof mr)this.rawUrlTree=i.initialUrl;else if(r instanceof Sl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ea?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof gr&&(r.code===Rt.GuardRejected||r.code===Rt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Xo?this.restoreHistory(i,!0):r instanceof $t&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=T(T({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=T(T({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Wo||{});function zb(t,e){t.events.pipe(ot(n=>n instanceof $t||n instanceof gr||n instanceof Xo||n instanceof mr),$(n=>n instanceof $t||n instanceof mr?Wo.COMPLETE:(n instanceof gr?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?Wo.REDIRECTING:Wo.FAILED),ot(n=>n!==Wo.REDIRECTING),Tn(1)).subscribe(()=>{e()})}function vU(t){throw t}var _U={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ht=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Yu),this.stateManager=I(qb),this.options=I(la,{optional:!0})||{},this.pendingTasks=I(Fo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Em),this.urlSerializer=I(oa),this.location=I(cs),this.urlHandlingStrategy=I(wm),this._events=new it,this.errorHandler=this.options.errorHandler||vU,this.navigated=!1,this.routeReuseStrategy=I(gU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(kl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Ll,{optional:!0}),this.eventsSubscription=new we,this.isNgZoneEnabled=I(K)instanceof K&&K.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof gr&&i.code!==Rt.Redirect&&i.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof $t)this.navigated=!0;else if(i instanceof ta){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||pU(s.source)};this.scheduleNavigation(a,Qo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}EU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=T({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(vm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=Cb(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return bb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ys(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Qo,null,i)}navigate(r,i={skipLocationChange:!1}){return wU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=T({},_U):i===!1?s=T({},IU):s=i,ys(r))return ob(this.currentUrlTree,r,s);let o=this.parseUrl(r);return ob(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return zb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function EU(t){return!(t instanceof ea)&&!(t instanceof ta)}var hb=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new it,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof $t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:MD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(k(Ht),k(ti),Fp("tabindex"),k(Bt),k(et),k(On))},e.\u0275dir=pe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&dr("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ko("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[be.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yr],skipLocationChange:[be.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yr],replaceUrl:[be.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yr],routerLink:"routerLink"},standalone:!0,features:[ig,jt]});let t=e;return t})(),SK=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new de,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof $t&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(Yn()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=te(r).pipe(Yn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=DU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(k(Ht),k(et),k(Bt),k(Kr),k(hb,8))},e.\u0275dir=pe({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&xT(o,hb,5),i&2){let a;PT(a=OT())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[jt]});let t=e;return t})();function DU(t){return!!t.paths}var Fl=class{};var TU=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ot(r=>r instanceof $t),Jn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Qu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return te(s).pipe(Yn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=N(null);let o=s.pipe(Ce(a=>a===null?N(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return te([o,a]).pipe(Yn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(S(Ht),S(Ju),S(vt),S(Fl),S(Im))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gb=new b(""),CU=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof vs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof $t?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof mr&&r.code===Al.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Rl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){GD()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function bU(t){return t.routerState.root}function da(t,e){return{\u0275kind:t,\u0275providers:e}}function AU(){let t=I(xe);return e=>{let n=t.get(Nn);if(e!==n.components[0])return;let r=t.get(Ht),i=t.get(Wb);t.get(Dm)===1&&r.initialNavigation(),t.get(Kb,null,G.Optional)?.setUpPreloading(),t.get(Gb,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Wb=new b("",{factory:()=>new it}),Dm=new b("",{providedIn:"root",factory:()=>1});function SU(){return da(2,[{provide:Dm,useValue:0},{provide:el,multi:!0,deps:[xe],useFactory:e=>{let n=e.get(tC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ht),s=e.get(Wb);zb(i,()=>{r(!0)}),e.get(Em).afterPreactivation=()=>(r(!0),s.closed?N(void 0):s),i.initialNavigation()}))}}])}function RU(){return da(3,[{provide:el,multi:!0,useFactory:()=>{let e=I(Ht);return()=>{e.setUpLocationChangeListener()}}},{provide:Dm,useValue:2}])}var Kb=new b("");function MU(t){return da(0,[{provide:Kb,useExisting:TU},{provide:Fl,useExisting:t}])}function NU(){return da(8,[lb,{provide:Ll,useExisting:lb}])}function xU(t){let e=[{provide:$b,useValue:hU},{provide:Hb,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return da(9,e)}var fb=new b("ROUTER_FORROOT_GUARD"),PU=[cs,{provide:oa,useClass:Jo},Ht,aa,{provide:ti,useFactory:bU,deps:[Ht]},Im,[]],RK=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[PU,[],{provide:kl,multi:!0,useValue:r},{provide:fb,useFactory:LU,deps:[[Ht,new Xe,new oD]]},{provide:la,useValue:i||{}},i?.useHash?kU():FU(),OU(),i?.preloadingStrategy?MU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?VU(i):[],i?.bindToComponentInputs?NU().\u0275providers:[],i?.enableViewTransitions?xU().\u0275providers:[],UU()]}}static forChild(r){return{ngModule:e,providers:[{provide:kl,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(fb,8))},e.\u0275mod=$e({type:e}),e.\u0275inj=Be({});let t=e;return t})();function OU(){return{provide:Gb,useFactory:()=>{let t=I(oC),e=I(K),n=I(la),r=I(Em),i=I(oa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CU(i,r,t,e,n)}}}function kU(){return{provide:On,useClass:rC}}function FU(){return{provide:On,useClass:vg}}function LU(t){return"guarded"}function VU(t){return[t.initialNavigation==="disabled"?RU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?SU().\u0275providers:[]]}var pb=new b("");function UU(){return[{provide:pb,useFactory:AU},{provide:as,multi:!0,useExisting:pb}]}var Yb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Cm;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Cm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$U=function(t){let e=Yb(t);return Jb.encodeByteArray(e,!0)},ha=function(t){return $U(t).replace(/\./g,"")},Am=function(t){try{return Jb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qU=()=>HU().__FIREBASE_DEFAULTS__,zU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Am(t[1]);return e&&JSON.parse(e)},jl=()=>{try{return qU()||zU()||GU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sm=t=>{var e,n;return(n=(e=jl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zb=t=>{let e=Sm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rm=()=>{var t;return(t=jl())===null||t===void 0?void 0:t.config},Mm=t=>{var e;return(e=jl())===null||e===void 0?void 0:e[`_${t}`]};var Ul=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Xb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ha(JSON.stringify(n)),ha(JSON.stringify(o)),""].join(".")}function ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function WU(){var t;let e=(t=jl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r0(){let t=ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i0(){return!WU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bl(){try{return typeof indexedDB=="object"}catch{return!1}}function s0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var KU="FirebaseError",Et=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Et(i,a,r)}};function QU(t,e){return t.replace(YU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YU=/\{\$([^}]+)}/g;function o0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ni(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Qb(s)&&Qb(o)){if(!ni(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Qb(t){return t!==null&&typeof t=="object"}function fa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ws(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Es(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function a0(t,e){let n=new bm(t,e);return n.subscribe.bind(n)}var bm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tm),i.error===void 0&&(i.error=Tm),i.complete===void 0&&(i.complete=Tm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function JU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}var NK=4*60*60*1e3;function me(t){return t&&t._delegate?t._delegate:t}var Nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ri="[DEFAULT]";var Nm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ul;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XU(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZU(t){return t===ri?void 0:t}function XU(t){return t.instantiationMode==="EAGER"}var $l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Nm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ej=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),tj={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},nj=Q.INFO,rj={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ij=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vr=class{constructor(e){this.name=e,this._logLevel=nj,this._logHandler=ij,this._userLogHandler=null,ej.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var sj=(t,e)=>e.some(n=>t instanceof n),c0,u0;function oj(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aj(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var l0=new WeakMap,Pm=new WeakMap,d0=new WeakMap,xm=new WeakMap,km=new WeakMap;function cj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&l0.set(n,t)}).catch(()=>{}),km.set(e,t),e}function uj(t){if(Pm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pm.set(t,e)}var Om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h0(t){Om=t(Om)}function lj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hl(this),e,...n);return d0.set(r,e.sort?e.sort():[e]),cn(r)}:aj().includes(t)?function(...e){return t.apply(Hl(this),e),cn(l0.get(this))}:function(...e){return cn(t.apply(Hl(this),e))}}function dj(t){return typeof t=="function"?lj(t):(t instanceof IDBTransaction&&uj(t),sj(t,oj())?new Proxy(t,Om):t)}function cn(t){if(t instanceof IDBRequest)return cj(t);if(xm.has(t))return xm.get(t);let e=dj(t);return e!==t&&(xm.set(t,e),km.set(e,t)),e}var Hl=t=>km.get(t);function p0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=cn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(cn(o.result),c.oldVersion,c.newVersion,cn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var hj=["get","getKey","getAll","getAllKeys","count"],fj=["put","add","delete","clear"],Fm=new Map;function f0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hj.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Fm.set(e,s),s}h0(t=>ie(T({},t),{get:(e,n,r)=>f0(e,n)||t.get(e,n,r),has:(e,n)=>!!f0(e,n)||t.has(e,n)}));var Vm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pj(t){let e=t.getComponent();return e?.type==="VERSION"}var Um="@firebase/app",g0="0.9.27";var ii=new vr("@firebase/app"),gj="@firebase/app-compat",mj="@firebase/analytics-compat",yj="@firebase/analytics",vj="@firebase/app-check-compat",_j="@firebase/app-check",Ij="@firebase/auth",wj="@firebase/auth-compat",Ej="@firebase/database",Dj="@firebase/database-compat",Tj="@firebase/functions",Cj="@firebase/functions-compat",bj="@firebase/installations",Aj="@firebase/installations-compat",Sj="@firebase/messaging",Rj="@firebase/messaging-compat",Mj="@firebase/performance",Nj="@firebase/performance-compat",xj="@firebase/remote-config",Pj="@firebase/remote-config-compat",Oj="@firebase/storage",kj="@firebase/storage-compat",Fj="@firebase/firestore",Lj="@firebase/firestore-compat",Vj="firebase",Uj="10.8.0";var jm="[DEFAULT]",jj={[Um]:"fire-core",[gj]:"fire-core-compat",[yj]:"fire-analytics",[mj]:"fire-analytics-compat",[_j]:"fire-app-check",[vj]:"fire-app-check-compat",[Ij]:"fire-auth",[wj]:"fire-auth-compat",[Ej]:"fire-rtdb",[Dj]:"fire-rtdb-compat",[Tj]:"fire-fn",[Cj]:"fire-fn-compat",[bj]:"fire-iid",[Aj]:"fire-iid-compat",[Sj]:"fire-fcm",[Rj]:"fire-fcm-compat",[Mj]:"fire-perf",[Nj]:"fire-perf-compat",[xj]:"fire-rc",[Pj]:"fire-rc-compat",[Oj]:"fire-gcs",[kj]:"fire-gcs-compat",[Fj]:"fire-fst",[Lj]:"fire-fst-compat","fire-js":"fire-js",[Vj]:"fire-js-all"};var pa=new Map,Bm=new Map;function Bj(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ir(t){let e=t.name;if(Bm.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,t);for(let n of pa.values())Bj(n,t);return!0}function ma(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var $j={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_r=new kn("app","Firebase",$j);var $m=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}};var wr=Uj;function zm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _r.create("bad-app-name",{appName:String(i)});if(n||(n=Rm()),!n)throw _r.create("no-options");let s=pa.get(i);if(s){if(ni(n,s.options)&&ni(r,s.config))return s;throw _r.create("duplicate-app",{appName:i})}let o=new $l(i);for(let c of Bm.values())o.addComponent(c);let a=new $m(n,r,o);return pa.set(i,a),a}function Ds(t=jm){let e=pa.get(t);if(!e&&t===jm&&Rm())return zm();if(!e)throw _r.create("no-app",{appName:t});return e}function ql(){return Array.from(pa.values())}function Me(t,e,n){var r;let i=(r=jj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}Ir(new Nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Hj="firebase-heartbeat-database",qj=1,ga="firebase-heartbeat-store",Lm=null;function _0(){return Lm||(Lm=p0(Hj,qj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),Lm}function zj(t){return f(this,null,function*(){try{let n=(yield _0()).transaction(ga),r=yield n.objectStore(ga).get(I0(t));return yield n.done,r}catch(e){if(e instanceof Et)ii.warn(e.message);else{let n=_r.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}})}function m0(t,e){return f(this,null,function*(){try{let r=(yield _0()).transaction(ga,"readwrite");yield r.objectStore(ga).put(e,I0(t)),yield r.done}catch(n){if(n instanceof Et)ii.warn(n.message);else{let r=_r.create("idb-set",{originalErrorMessage:n?.message});ii.warn(r.message)}}})}function I0(t){return`${t.name}!${t.options.appId}`}var Gj=1024,Wj=30*24*60*60*1e3,Hm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Wj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=y0(),{heartbeatsToSend:r,unsentEntries:i}=Kj(this._heartbeatsCache.heartbeats),s=ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function y0(){return new Date().toISOString().substring(0,10)}function Kj(t,e=Gj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),v0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),v0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var qm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Bl()?s0().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function v0(t){return ha(JSON.stringify({version:2,heartbeats:t})).length}function Qj(t){Ir(new Nt("platform-logger",e=>new Vm(e),"PRIVATE")),Ir(new Nt("heartbeat",e=>new Hm(e),"PRIVATE")),Me(Um,g0,t),Me(Um,g0,"esm2017"),Me("fire-js","")}Qj("");var Yj="firebase",Jj="10.8.0";Me(Yj,Jj,"app");var oi=new Rn("ANGULARFIRE2_VERSION");function Gl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ya=(t,e)=>{let n=e?[e]:ql(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Cs=class{constructor(){return ya(Zj)}},Zj="app-check";function Ts(){}var zl=class{zone;delegate;constructor(e,n=ef){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Gm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ts,{},Ts,Ts)),n.pipe(fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},bs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new zl(Zone.current)),this.insideAngular=n.run(()=>new zl(Zone.current,Xh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(K))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Xj(t){return Wl().ngZone.runOutsideAngular(()=>t())}function si(t){return Wl().ngZone.run(()=>t())}function e2(t){return t2(Wl())(t)}function t2(t){return function(n){return n=n.lift(new Gm(t.ngZone)),n.pipe(Qn(t.outsideAngular),Kn(t.insideAngular))}}var n2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),si(()=>t.apply(void 0,r))},De=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=si(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ts,{},Ts,Ts))),r[s]=n2(r[s],n));let i=Xj(()=>t.apply(this,r));if(!e)if(i instanceof z){let s=Wl();return i.pipe(Qn(s.outsideAngular),Kn(s.insideAngular))}else return si(()=>i);return i instanceof z?i.pipe(e2):i instanceof Promise?si(()=>new Promise((s,o)=>i.then(a=>si(()=>s(a)),a=>si(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:si(()=>i)};var Fn=class{constructor(e){return e}},ai=class{constructor(){return ql()}};function r2(t){return t&&t.length===1?t[0]:new Fn(Ds())}var Wm=new b("angularfire2._apps"),i2={provide:Fn,useFactory:r2,deps:[[new Xe,Wm]]},s2={provide:ai,deps:[[new Xe,Wm]]};function o2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fn(r)}}var a2=(()=>{class t{constructor(n){Me("angularfire",oi.full,"core"),Me("angularfire",oi.full,"app"),Me("angular",UT.full,n.toString())}static \u0275fac=function(r){return new(r||t)(S(ut))};static \u0275mod=$e({type:t});static \u0275inj=Be({providers:[i2,s2]})}return t})();function p7(t,...e){return{ngModule:a2,providers:[{provide:Wm,useFactory:o2(t),multi:!0,deps:[K,xe,bs,...e]}]}}var g7=De(zm,!0);function F0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var L0=F0,V0=new kn("auth","Firebase",F0());var Xl=new vr("@firebase/auth");function c2(t,...e){Xl.logLevel<=Q.WARN&&Xl.warn(`Auth (${wr}): ${t}`,...e)}function Ql(t,...e){Xl.logLevel<=Q.ERROR&&Xl.error(`Auth (${wr}): ${t}`,...e)}function ln(t,...e){throw gy(t,...e)}function ci(t,...e){return gy(t,...e)}function u2(t,e,n){let r=Object.assign(Object.assign({},L0()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function gy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return V0.create(t,...e)}function x(t,e,...n){if(!t)throw gy(e,...n)}function Ln(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ql(e),new Error(e)}function Dr(t,e){t||Ln(e)}function Jm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function l2(){return w0()==="http:"||w0()==="https:"}function w0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function d2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l2()||t0()||"connection"in navigator)?navigator.onLine:!0}function h2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=e0()||n0()}get(){return d2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function my(t,e){Dr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ed=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var f2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var p2=new ui(3e4,6e4);function Un(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function dn(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return U0(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=fa(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ed.fetch()(j0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function U0(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},f2),e);try{let i=new Zm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Kl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Kl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Kl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw u2(t,l,u);ln(t,l)}}catch(i){if(i instanceof Et)throw i;ln(t,"network-request-failed",{message:String(i)})}})}function Da(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield dn(t,e,n,r,i);return"mfaPendingCredential"in u&&ln(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function j0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?my(t.config,i):`${t.config.apiScheme}://${i}`}function g2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Zm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),p2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Kl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ci(t,e,r);return i.customData._tokenResponse=n,i}function E0(t){return t!==void 0&&t.enterprise!==void 0}var Xm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function m2(t,e){return f(this,null,function*(){return dn(t,"GET","/v2/recaptchaConfig",Un(t,e))})}function y2(t,e){return f(this,null,function*(){return dn(t,"POST","/v1/accounts:delete",e)})}function v2(t,e){return f(this,null,function*(){return dn(t,"POST","/v1/accounts:lookup",e)})}function va(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yy(t,e=!1){return f(this,null,function*(){let n=me(t),r=yield n.getIdToken(e),i=vy(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:va(Km(i.auth_time)),issuedAtTime:va(Km(i.iat)),expirationTime:va(Km(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Km(t){return Number(t)*1e3}function vy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ql("JWT malformed, contained fewer than 3 sections"),null;try{let i=Am(n);return i?JSON.parse(i):(Ql("Failed to decode base64 JWT payload"),null)}catch(i){return Ql("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _2(t){let e=vy(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function As(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Et&&I2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function I2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var td=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nd(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield As(t,v2(n,{idToken:r}));x(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?E2(s.providerUserInfo):[],a=w2(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new td(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function _y(t){return f(this,null,function*(){let e=me(t);yield nd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function w2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function E2(t){return t.map(e=>{var{providerId:n}=e,r=tf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function D2(t,e){return f(this,null,function*(){let n=yield U0(t,{},()=>f(this,null,function*(){let r=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=j0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ed.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function T2(t,e){return f(this,null,function*(){return dn(t,"POST","/v2/accounts:revokeToken",Un(t,e))})}var rd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return f(this,null,function*(){return x(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield D2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(x(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(x(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(x(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ln("not implemented")}};function Er(t,e){x(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var _a=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new td(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield As(this,this.stsTokenManager.getToken(this.auth,e));return x(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yy(this,e)}reload(){return _y(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield nd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){let e=yield this.getIdToken();return yield As(this,y2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(u=n.createdAt)!==null&&u!==void 0?u:void 0,q=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ee,emailVerified:oe,isAnonymous:Ie,providerData:ae,stsTokenManager:dt}=n;x(ee&&dt,e,"internal-error");let zn=rd.fromJSON(this.name,dt);x(typeof ee=="string",e,"internal-error"),Er(d,e.name),Er(h,e.name),x(typeof oe=="boolean",e,"internal-error"),x(typeof Ie=="boolean",e,"internal-error"),Er(p,e.name),Er(g,e.name),Er(_,e.name),Er(v,e.name),Er(D,e.name),Er(q,e.name);let Pr=new t({uid:ee,auth:e,email:h,emailVerified:oe,displayName:d,isAnonymous:Ie,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:zn,createdAt:D,lastLoginAt:q});return ae&&Array.isArray(ae)&&(Pr.providerData=ae.map(mc=>Object.assign({},mc))),v&&(Pr._redirectEventId=v),Pr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new rd;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nd(s),s})}};var D0=new Map;function Vn(t){Dr(t instanceof Function,"Expected a class definition");let e=D0.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D0.set(t,e),e)}var C2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ty=C2;function Yl(t,e,n){return`firebase:${t}:${e}:${n}`}var id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Yl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?_a._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(Vn(ty),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Vn(ty),o=Yl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=_a._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function T0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z0(e))return"Blackberry";if(G0(e))return"Webos";if(Iy(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(q0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function B0(t=ge()){return/firefox\//i.test(t)}function Iy(t=ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(t=ge()){return/crios\//i.test(t)}function H0(t=ge()){return/iemobile/i.test(t)}function q0(t=ge()){return/android/i.test(t)}function z0(t=ge()){return/blackberry/i.test(t)}function G0(t=ge()){return/webos/i.test(t)}function fd(t=ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function b2(t=ge()){var e;return fd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function A2(){return r0()&&document.documentMode===10}function W0(t=ge()){return fd(t)||q0(t)||G0(t)||z0(t)||/windows phone/i.test(t)||H0(t)}function S2(){try{return!!(window&&window!==window.top)}catch{return!1}}function K0(t,e=[]){let n;switch(t){case"Browser":n=T0(ge());break;case"Worker":n=`${T0(ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wr}/${r}`}var ny=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function R2(n){return f(this,arguments,function*(t,e={}){return dn(t,"GET","/v2/passwordPolicy",Un(t,e))})}var M2=6,ry=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:M2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var iy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sd(this),this.idTokenSubscription=new sd(this),this.beforeStateQueue=new ny(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=h2()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){let n=e?me(e):null;return n&&x(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&x(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(Vn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield R2(this),n=new ry(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield T2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Vn(e)||this._popupRedirectResolver;x(n,this,"argument-error"),this.redirectPersistenceManager=yield id.create(this,[Vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&c2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Tr(t){return me(t)}var sd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=a0(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pd={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N2(t){pd=t}function Q0(t){return pd.loadJS(t)}function x2(){return pd.recaptchaEnterpriseScript}function P2(){return pd.gapiScript}function Y0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var O2="recaptcha-enterprise",k2="NO_RECAPTCHA",sy=class{constructor(e){this.type=O2,this.auth=Tr(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){m2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Xm(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;E0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(k2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&E0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=x2();c.length!==0&&(c+=a),Q0(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function C0(t,e,n,r=!1){return f(this,null,function*(){let i=new sy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function od(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield C0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield C0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function wy(t,e){let n=ma(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ni(s,e??{}))return i;ln(i,"already-initialized")}return n.initialize({options:e})}function F2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ey(t,e,n){let r=Tr(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=J0(e),{host:o,port:a}=L2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||V2()}function J0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L2(t){let e=J0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:b0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:b0(o)}}}function b0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function V2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ia=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}};function U2(t,e){return f(this,null,function*(){return dn(t,"POST","/v1/accounts:signUp",e)})}function j2(t,e){return f(this,null,function*(){return Da(t,"POST","/v1/accounts:signInWithPassword",Un(t,e))})}function B2(t,e){return f(this,null,function*(){return dn(t,"POST","/v1/accounts:sendOobCode",Un(t,e))})}function $2(t,e){return f(this,null,function*(){return B2(t,e)})}function H2(t,e){return f(this,null,function*(){return Da(t,"POST","/v1/accounts:signInWithEmailLink",Un(t,e))})}function q2(t,e){return f(this,null,function*(){return Da(t,"POST","/v1/accounts:signInWithEmailLink",Un(t,e))})}var wa=class t extends Ia{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return od(e,n,"signInWithPassword",j2);case"emailLink":return H2(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return od(e,r,"signUpPassword",U2);case"emailLink":return q2(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Qm(t,e){return f(this,null,function*(){return Da(t,"POST","/v1/accounts:signInWithIdp",Un(t,e))})}function z2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G2(t){let e=ws(Es(t)).link,n=e?ws(Es(e)).deep_link_id:null,r=ws(Es(t)).deep_link_id;return(r?ws(Es(r)).link:null)||r||n||e||t}var ad=class t{constructor(e){var n,r,i,s,o,a;let c=ws(Es(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=z2((i=c.mode)!==null&&i!==void 0?i:null);x(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=G2(e);try{return new t(n)}catch{return null}}};var Z0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return wa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ad.parseLink(r);return x(i,"argument-error"),wa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),cd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oy=class extends cd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function W2(t,e){return f(this,null,function*(){return Da(t,"POST","/v1/accounts:signUp",Un(t,e))})}var Ss=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield _a._fromIdTokenResponse(e,r,i),o=A0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=A0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function A0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ay=class t extends Et{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function X0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ay._fromErrorAndOperation(t,s,e,r):s})}function K2(t,e,n=!1){return f(this,null,function*(){let r=yield As(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ss._forOperation(t,"link",r)})}function Q2(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield As(t,X0(r,i,e,t),n);x(s.idToken,r,"internal-error");let o=vy(s.idToken);x(o,r,"internal-error");let{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Ss._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ln(r,"user-mismatch"),s}})}function eA(t,e,n=!1){return f(this,null,function*(){let r="signIn",i=yield X0(t,r,e),s=yield Ss._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Dy(t,e){return f(this,null,function*(){return eA(Tr(t),e)})}function Y2(t,e,n){var r;x(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),x(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(x(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(x(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function tA(t){return f(this,null,function*(){let e=Tr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ty(t,e,n){return f(this,null,function*(){let r=Tr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Y2(r,i,n),yield od(r,i,"getOobCode",$2)})}function Cy(t,e,n){return f(this,null,function*(){let r=Tr(t),o=yield od(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W2).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&tA(t),c}),a=yield Ss._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function by(t,e,n){return Dy(me(t),Z0.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&tA(t),r}))}function J2(t,e){return f(this,null,function*(){return dn(t,"POST","/v1/accounts:update",e)})}function Ay(r,i){return f(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=me(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield As(s,J2(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let u=s.providerData.find(({providerId:l})=>l==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function gd(t,e,n,r){return me(t).onIdTokenChanged(e,n,r)}function Sy(t,e,n){return me(t).beforeAuthStateChanged(e,n)}function md(t,e,n,r){return me(t).onAuthStateChanged(e,n,r)}function Ry(t){return me(t).signOut()}var ud="__sak";var ld=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Z2(){let t=ge();return Iy(t)||fd(t)}var X2=1e3,eB=10,tB=(()=>{class t extends ld{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Z2()&&S2(),this.fallbackToPolling=W0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);A2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,eB):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Gn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Gn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Gn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),nA=tB;var nB=(()=>{class t extends ld{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),My=nB;function rB(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var iB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield rB(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function rA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var cy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=rA("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function un(){return window}function sB(t){un().location.href=t}function iA(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}function oB(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function aB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cB(){return iA()?self:null}var sA="firebaseLocalStorageDb",uB=1,dd="firebaseLocalStorage",oA="fbase_key",li=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function yd(t,e){return t.transaction([dd],e?"readwrite":"readonly").objectStore(dd)}function lB(){let t=indexedDB.deleteDatabase(sA);return new li(t).toPromise()}function uy(){let t=indexedDB.open(sA,uB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(dd,{keyPath:oA})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(dd)?e(r):(r.close(),yield lB(),e(yield uy()))}))})}function S0(t,e,n){return f(this,null,function*(){let r=yd(t,!0).put({[oA]:e,value:n});return new li(r).toPromise()})}function dB(t,e){return f(this,null,function*(){let n=yd(t,!1).get(e),r=yield new li(n).toPromise();return r===void 0?null:r.value})}function R0(t,e){let n=yd(t,!0).delete(e);return new li(n).toPromise()}var hB=800,fB=3,pB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield uy(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>fB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return iA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=iB._getInstance(cB()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield oB(),!this.activeServiceWorker)return;this.sender=new cy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||aB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield uy();return yield S0(n,ud,"1"),yield R0(n,ud),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>S0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>dB(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>R0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=yd(s,!1).getAll();return new li(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),hB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),aA=pB;var D7=Y0("rcb"),T7=new ui(3e4,6e4);function gB(t,e){return e?Vn(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ea=class extends Ia{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function mB(t){return eA(t.auth,new Ea(t),t.bypassAuthState)}function yB(t){let{auth:e,user:n}=t;return x(n,e,"internal-error"),Q2(n,new Ea(t),t.bypassAuthState)}function vB(t){return f(this,null,function*(){let{auth:e,user:n}=t;return x(n,e,"internal-error"),K2(n,new Ea(t),t.bypassAuthState)})}var ly=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mB;case"linkViaPopup":case"linkViaRedirect":return vB;case"reauthViaPopup":case"reauthViaRedirect":return yB;default:ln(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var C7=new ui(2e3,1e4);var _B="pendingRedirect",Jl=new Map,dy=class t extends ly{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Jl.get(this.auth._key());if(!e){try{let r=(yield IB(this.resolver,this.auth))?yield Gn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jl.set(this.auth._key(),e)}return this.bypassAuthState||Jl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Gn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Gn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function IB(t,e){return f(this,null,function*(){let n=DB(e),r=EB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function wB(t,e){Jl.set(t._key(),e)}function EB(t){return Vn(t._redirectPersistence)}function DB(t){return Yl(_B,t.config.apiKey,t.name)}function TB(t,e,n=!1){return f(this,null,function*(){let r=Tr(t),i=gB(r,e),o=yield new dy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var CB=10*60*1e3,hy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CB&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}};function M0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function bB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cA(t);default:return!1}}function AB(n){return f(this,arguments,function*(t,e={}){return dn(t,"GET","/v1/projects",e)})}var SB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RB=/^https?/;function MB(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield AB(t);for(let n of e)try{if(NB(n))return}catch{}ln(t,"unauthorized-domain")})}function NB(t){let e=Jm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RB.test(n))return!1;if(SB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var xB=new ui(3e4,6e4);function N0(){let t=un().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PB(t){return new Promise((e,n)=>{var r,i,s;function o(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),n(ci(t,"network-request-failed"))},timeout:xB.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=un().gapi)===null||s===void 0)&&s.load)o();else{let a=Y0("iframefcb");return un()[a]=()=>{gapi.load?o():n(ci(t,"network-request-failed"))},Q0(`${P2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Zl=null,e})}var Zl=null;function OB(t){return Zl=Zl||PB(t),Zl}var kB=new ui(5e3,15e3),FB="__/auth/iframe",LB="emulator/auth/iframe",VB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jB(t){let e=t.config;x(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?my(e,LB):`https://${t.config.authDomain}/${FB}`,r={apiKey:e.apiKey,appName:t.name,v:wr},i=UB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fa(r).slice(1)}`}function BB(t){return f(this,null,function*(){let e=yield OB(t),n=un().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:jB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VB,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ci(t,"network-request-failed"),a=un().setTimeout(()=>{s(o)},kB.get());function c(){un().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var $B={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HB=500,qB=600,zB="_blank",GB="http://localhost",hd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function WB(t,e,n,r=HB,i=qB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},$B),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ge().toLowerCase();n&&(a=$0(u)?zB:n),B0(u)&&(e=e||GB,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(b2(u)&&a!=="_self")return KB(e||"",a),new hd(null);let d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new hd(d)}function KB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var QB="__/auth/handler",YB="emulator/auth/handler",JB=encodeURIComponent("fac");function x0(t,e,n,r,i,s){return f(this,null,function*(){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wr,eventId:i};if(e instanceof cd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",o0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof oy){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${JB}=${encodeURIComponent(c)}`:"";return`${ZB(t)}?${fa(a).slice(1)}${u}`})}function ZB({config:t}){return t.emulator?my(t,YB):`https://${t.authDomain}/${QB}`}var Ym="webStorageSupport",fy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=My,this._completeRedirectFn=TB,this._overrideRedirectResult=wB}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield x0(e,n,r,Jm(),i);return WB(e,o,rA())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield x0(e,n,r,Jm(),i);return sB(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield BB(e),r=new hy(e);return n.register("authEvent",i=>(x(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Ym];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return W0()||Iy()||fd()}},uA=fy;var P0="@firebase/auth",O0="1.6.0";var py=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function XB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e$(t){Ir(new Nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(t)},u=new iy(r,i,s,c);return F2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ir(new Nt("auth-internal",e=>{let n=Tr(e.getProvider("auth").getImmediate());return(r=>new py(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(P0,O0,XB(t)),Me(P0,O0,"esm2017")}var t$=5*60,n$=Mm("authIdTokenMaxAge")||t$,k0=null,r$=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n$)return;let i=n?.token;k0!==i&&(k0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ny(t=Ds()){let e=ma(t,"auth");if(e.isInitialized())return e.getImmediate();let n=wy(t,{popupRedirectResolver:uA,persistence:[aA,nA,My]}),r=Mm("authTokenSyncURL");if(r){let s=r$(r);Sy(n,s,()=>s(n.currentUser)),gd(n,o=>s(o))}let i=Sm("auth");return i&&Ey(n,`http://${i}`),n}function i$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",i$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e$("Browser");function dA(t){return new z(function(e){var n=md(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var hA="auth",di=class{constructor(e){return e}},Ta=class{constructor(){return ya(hA)}};var xy=new b("angularfire2.auth-instances");function q$(t,e){let n=Gl(hA,t,e);return n&&new di(n)}function z$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new di(r)}}var G$={provide:Ta,deps:[[new Xe,xy]]},W$={provide:di,useFactory:q$,deps:[[new Xe,xy],Fn]},K$=(()=>{class t{constructor(){Me("angularfire",oi.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=Be({providers:[W$,G$]})}return t})();function pQ(t,...e){return{ngModule:K$,providers:[{provide:xy,useFactory:z$(t),multi:!0,deps:[K,xe,bs,ai,[new Xe,Cs],...e]}]}}var fA=De(dA,!0);var pA=De(Cy,!0);var gQ=De(Ny,!0);var gA=De(Ty,!0);var mA=De(by,!0);var yA=De(Ry,!0);var mQ=De(Ay,!0);var Y$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zt={},w,ev=ev||{},F=Y$||self;function Nd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Va(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function J$(t){return Object.prototype.hasOwnProperty.call(t,Py)&&t[Py]||(t[Py]=++Z$)}var Py="closure_uid_"+(1e9*Math.random()>>>0),Z$=0;function X$(t,e,n){return t.call.apply(t.bind,arguments)}function eH(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function We(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?We=X$:We=eH,We.apply(null,arguments)}function vd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Cr(){this.s=this.s,this.o=this.o}var tH=0;Cr.prototype.s=!1;Cr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),tH!=0)&&J$(this)};Cr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var MA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function tv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function vA(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Nd(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ke(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var nH=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};F.addEventListener("test",n,e),F.removeEventListener("test",n,e)}catch{}return t}();function Ma(t){return/^[\s\xa0]*$/.test(t)}function xd(){var t=F.navigator;return t&&(t=t.userAgent)?t:""}function hn(t){return xd().indexOf(t)!=-1}function nv(t){return nv[" "](t),t}nv[" "]=function(){};function rH(t,e){var n=zH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var iH=hn("Opera"),xs=hn("Trident")||hn("MSIE"),NA=hn("Edge"),Vy=NA||xs,xA=hn("Gecko")&&!(xd().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),sH=xd().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge");function PA(){var t=F.document;return t?t.documentMode:void 0}var Uy;e:{if(_d="",Id=function(){var t=xd();if(xA)return/rv:([^\);]+)(\)|;)/.exec(t);if(NA)return/Edge\/([\d\.]+)/.exec(t);if(xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sH)return/WebKit\/(\S+)/.exec(t);if(iH)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Id&&(_d=Id?Id[1]:""),xs&&(wd=PA(),wd!=null&&wd>parseFloat(_d))){Uy=String(wd);break e}Uy=_d}var _d,Id,wd,jy;F.document&&xs?(Oy=PA(),jy=Oy||parseInt(Uy,10)||void 0):jy=void 0;var Oy,oH=jy;function Na(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xA){e:{try{nv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Na.$.h.call(this)}}ke(Na,Ke);var aH={2:"touch",3:"pen",4:"mouse"};Na.prototype.h=function(){Na.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ua="closure_listenable_"+(1e6*Math.random()|0),cH=0;function uH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++cH,this.fa=this.ia=!1}function Pd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function rv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function lH(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function OA(t){let e={};for(let n in t)e[n]=t[n];return e}var _A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<_A.length;s++)n=_A[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Od(t){this.src=t,this.g={},this.h=0}Od.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=$y(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new uH(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function By(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=MA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $y(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var iv="closure_lm_"+(1e6*Math.random()|0),ky={};function FA(t,e,n,r,i){if(r&&r.once)return VA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FA(t,e[s],n,r,i);return null}return n=av(n),t&&t[Ua]?t.O(e,n,Va(r)?!!r.capture:!!r,i):LA(t,e,n,!1,r,i)}function LA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Va(i)?!!i.capture:!!i,a=ov(t);if(a||(t[iv]=a=new Od(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=dH(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nH||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function dH(){function t(n){return e.call(t.src,t.listener,n)}let e=hH;return t}function VA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VA(t,e[s],n,r,i);return null}return n=av(n),t&&t[Ua]?t.P(e,n,Va(r)?!!r.capture:!!r,i):LA(t,e,n,!0,r,i)}function UA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UA(t,e[s],n,r,i);else r=Va(r)?!!r.capture:!!r,n=av(n),t&&t[Ua]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=$y(s,n,r,i),-1<n&&(Pd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ov(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$y(e,n,r,i)),(n=-1<t?e[t]:null)&&sv(n))}function sv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ua])By(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ov(e))?(By(n,t),n.h==0&&(n.src=null,e[iv]=null)):Pd(t)}}}function jA(t){return t in ky?ky[t]:ky[t]="on"+t}function hH(t,e){if(t.fa)t=!0;else{e=new Na(e,this);var n=t.listener,r=t.la||t.src;t.ia&&sv(t),t=n.call(r,e)}return t}function ov(t){return t=t[iv],t instanceof Od?t:null}var Fy="__closure_events_fn_"+(1e9*Math.random()>>>0);function av(t){return typeof t=="function"?t:(t[Fy]||(t[Fy]=function(e){return t.handleEvent(e)}),t[Fy])}function Oe(){Cr.call(this),this.i=new Od(this),this.S=this,this.J=null}ke(Oe,Cr);Oe.prototype[Ua]=!0;Oe.prototype.removeEventListener=function(t,e,n,r){UA(this,t,e,n,r)};function qe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ke(e,t);else if(e instanceof Ke)e.target=e.target||t;else{var i=e;e=new Ke(r,t),kA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ed(o,r,!0,e)&&i}if(o=e.g=t,i=Ed(o,r,!0,e)&&i,i=Ed(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ed(o,r,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pd(n[r]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Oe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ed(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&By(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var cv=F.JSON.stringify,Hy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function fH(){var t=uv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var qy=class{constructor(){this.h=this.g=null}add(e,n){let r=BA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},BA=new Hy(()=>new zy,t=>t.reset()),zy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function pH(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function gH(t){F.setTimeout(()=>{throw t},0)}var xa,Pa=!1,uv=new qy,$A=()=>{let t=F.Promise.resolve(void 0);xa=()=>{t.then(mH)}},mH=()=>{for(var t;t=fH();){try{t.h.call(t.g)}catch(n){gH(n)}var e=BA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pa=!1};function kd(t,e){Oe.call(this),this.h=t||1,this.g=e||F,this.j=We(this.qb,this),this.l=Date.now()}ke(kd,Oe);w=kd.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qe(this,"tick"),this.ga&&(lv(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){kd.$.N.call(this),lv(this),delete this.g};function dv(t,e,n){if(typeof t=="function")n&&(t=We(t,n));else if(t&&typeof t.handleEvent=="function")t=We(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function HA(t){t.g=dv(()=>{t.g=null,t.i&&(t.i=!1,HA(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Gy=class extends Cr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HA(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Oa(t){Cr.call(this),this.h=t,this.g={}}ke(Oa,Cr);var IA=[];function qA(t,e,n,r){Array.isArray(n)||(n&&(IA[0]=n.toString()),n=IA);for(var i=0;i<n.length;i++){var s=FA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function zA(t){rv(t.g,function(e,n){this.g.hasOwnProperty(n)&&sv(e)},t),t.g={}}Oa.prototype.N=function(){Oa.$.N.call(this),zA(this)};Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fd(){this.g=!0}Fd.prototype.Ea=function(){this.g=!1};function yH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function vH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ms(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IH(t,n)+(r?" "+r:"")})}function _H(t,e){t.info(function(){return"TIMEOUT: "+e})}Fd.prototype.info=function(){};function IH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return cv(n)}catch{return e}}var gi={},wA=null;function Ld(){return wA=wA||new Oe}gi.Ta="serverreachability";function GA(t){Ke.call(this,gi.Ta,t)}ke(GA,Ke);function ka(t){let e=Ld();qe(e,new GA(e))}gi.STAT_EVENT="statevent";function WA(t,e){Ke.call(this,gi.STAT_EVENT,t),this.stat=e}ke(WA,Ke);function tt(t){let e=Ld();qe(e,new WA(e,t))}gi.Ua="timingevent";function KA(t,e){Ke.call(this,gi.Ua,t),this.size=e}ke(KA,Ke);function ja(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var Vd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hv(){}hv.prototype.h=null;function EA(t){return t.h||(t.h=t.i())}function YA(){}var Ba={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fv(){Ke.call(this,"d")}ke(fv,Ke);function pv(){Ke.call(this,"c")}ke(pv,Ke);var Wy;function Ud(){}ke(Ud,hv);Ud.prototype.g=function(){return new XMLHttpRequest};Ud.prototype.i=function(){return{}};Wy=new Ud;function $a(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oa(this),this.P=wH,t=Vy?125:void 0,this.V=new kd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JA}function JA(){this.i=null,this.g="",this.h=!1}var wH=45e3,ZA={},Ky={};w=$a.prototype;w.setTimeout=function(t){this.P=t};function Qy(t,e,n){t.L=1,t.A=Bd(Bn(e)),t.u=n,t.S=!0,XA(t,null)}function XA(t,e){t.G=Date.now(),Ha(t),t.B=Bn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),aS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new JA,t.g=SS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Gy(We(t.Pa,t,t.g),t.O)),qA(t.U,t.g,"readystatechange",t.nb),e=t.I?OA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ka(),yH(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&fn(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=fn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Vy||this.g&&(this.h.h||this.g.ja()||bA(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ka(3):ka(2)),jd(this);var n=this.g.da();this.ca=n;t:if(eS(this)){var r=bA(this.g);t="";var i=r.length,s=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),Ra(this);var o="";break t}this.h.i=new F.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,vH(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(a)){var u=a;break t}}u=null}if(n=u)Ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yy(this,n);else{this.i=!1,this.s=3,tt(12),hi(this),Ra(this);break e}}this.S?(tS(this,l,o),Vy&&this.i&&l==3&&(qA(this.U,this.V,"tick",this.mb),this.V.start())):(Ms(this.j,this.m,o,null),Yy(this,o)),l==4&&hi(this),this.i&&!this.J&&(l==4?TS(this.l,this):(this.i=!1,Ha(this)))}else $H(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),hi(this),Ra(this)}}}catch{}finally{}};function eS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function tS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=EH(t,n),i==Ky){e==4&&(t.s=4,tt(14),r=!1),Ms(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ZA){t.s=4,tt(15),Ms(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ms(t.j,t.m,i,null),Yy(t,i);eS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iv(e),e.M=!0,tt(11))):(Ms(t.j,t.m,n,"[Invalid Chunked Response]"),hi(t),Ra(t))}w.mb=function(){if(this.g){var t=fn(this.g),e=this.g.ja();this.o<e.length&&(jd(this),tS(this,t,e),this.i&&t!=4&&Ha(this))}};function EH(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ky:(n=Number(e.substring(n,r)),isNaN(n)?ZA:(r+=1,r+n>e.length?Ky:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,hi(this)};function Ha(t){t.Y=Date.now()+t.P,nS(t,t.P)}function nS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ja(We(t.lb,t),e)}function jd(t){t.C&&(F.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(_H(this.j,this.B),this.L!=2&&(ka(),tt(17)),hi(this),this.s=2,Ra(this)):nS(this,this.Y-t)};function Ra(t){t.l.H==0||t.J||TS(t.l,t)}function hi(t){jd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lv(t.V),zA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Yy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Jy(n.i,t))){if(!t.K&&Jy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ad(n),qd(n);else break e;_v(n),tt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ja(We(n.ib,n),6e3));if(1>=lS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fi(n,11)}else if((t.K||n.g==t)&&Ad(n),!Ma(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(gv(s,s.h),s.h=null))}if(r.F){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,le(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=AS(r,r.J?r.pa:null,r.Y),o.K){dS(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(jd(a),Ha(a)),r.g=o}else ES(r);0<n.j.length&&zd(n)}else u[0]!="stop"&&u[0]!="close"||fi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fi(n,7):vv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ka(4)}catch{}}function DH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Nd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function TH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Nd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function rS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Nd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=TH(t),r=DH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var iS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function pi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pi){this.h=t.h,Cd(this,t.j),this.s=t.s,this.g=t.g,bd(this,t.m),this.l=t.l;var e=t.i,n=new Fa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DA(this,n),this.o=t.o}else t&&(e=String(t).match(iS))?(this.h=!1,Cd(this,e[1]||"",!0),this.s=Aa(e[2]||""),this.g=Aa(e[3]||"",!0),bd(this,e[4]),this.l=Aa(e[5]||"",!0),DA(this,e[6]||"",!0),this.o=Aa(e[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}pi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sa(e,TA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Sa(e,TA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Sa(n,n.charAt(0)=="/"?SH:AH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sa(n,MH)),t.join("")};function Bn(t){return new pi(t)}function Cd(t,e,n){t.j=n?Aa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DA(t,e,n){e instanceof Fa?(t.i=e,NH(t.i,t.h)):(n||(e=Sa(e,RH)),t.i=new Fa(e,t.h))}function le(t,e,n){t.i.set(e,n)}function Bd(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Aa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TA=/[#\/\?@]/g,AH=/[#\?:]/g,SH=/[#\?]/g,RH=/[#\?@]/g,MH=/#/g;function Fa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function br(t){t.g||(t.g=new Map,t.h=0,t.i&&CH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=Fa.prototype;w.add=function(t,e){br(this),this.i=null,t=Ps(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sS(t,e){br(t),e=Ps(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oS(t,e){return br(t),e=Ps(t,e),t.g.has(e)}w.forEach=function(t,e){br(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){br(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){br(this);let e=[];if(typeof t=="string")oS(this,t)&&(e=e.concat(this.g.get(Ps(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return br(this),this.i=null,t=Ps(this,t),oS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function aS(t,e,n){sS(t,e),0<n.length&&(t.i=null,t.g.set(Ps(t,e),tv(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ps(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function NH(t,e){e&&!t.j&&(br(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sS(this,r),aS(this,i,n))},t)),t.j=e}var xH=class{constructor(t,e){this.g=t,this.map=e}};function cS(t){this.l=t||PH,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PH=10;function uS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lS(t){return t.h?1:t.g?t.g.size:0}function Jy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function gv(t,e){t.g?t.g.add(e):t.h=e}function dS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cS.prototype.cancel=function(){if(this.i=hS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function hS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return tv(t.i)}var OH=class{stringify(t){return F.JSON.stringify(t,void 0)}parse(t){return F.JSON.parse(t,void 0)}};function kH(){this.g=new OH}function FH(t,e,n){let r=n||"";try{rS(t,function(i,s){let o=i;Va(i)&&(o=cv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function LH(t,e){let n=new Fd;if(F.Image){let r=new Image;r.onload=vd(Dd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vd(Dd,n,r,"TestLoadImage: error",!1,e),r.onabort=vd(Dd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vd(Dd,n,r,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Dd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qa(t){this.l=t.ec||null,this.j=t.ob||!1}ke(qa,hv);qa.prototype.g=function(){return new $d(this.l,this.j)};qa.prototype.i=function(t){return function(){return t}}({});function $d(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=mv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke($d,Oe);var mv=0;w=$d.prototype;w.open=function(t,e){if(this.readyState!=mv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,La(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||F).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=mv};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?za(this):La(this),this.readyState==3&&fS(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,za(this))};w.Ya=function(t){this.g&&(this.response=t,za(this))};w.ka=function(){this.g&&za(this)};function za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,La(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function La(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var VH=F.JSON.parse;function ye(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pS,this.L=this.M=!1}ke(ye,Oe);var pS="",UH=/^https?$/i,jH=["POST","PUT"];w=ye.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wy.g(),this.C=this.u?EA(this.u):EA(Wy),this.g.onreadystatechange=We(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){CA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=F.FormData&&t instanceof F.FormData,!(0<=MA(jH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yS(this),0<this.B&&((this.L=BH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.ua,this)):this.A=dv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){CA(this,s)}};function BH(t){return xs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof ev<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))};function CA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gS(t),Hd(t)}function gS(t){t.F||(t.F=!0,qe(t,"complete"),qe(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qe(this,"complete"),qe(this,"abort"),Hd(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hd(this,!0)),ye.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?mS(this):this.kb())};w.kb=function(){mS(this)};function mS(t){if(t.h&&typeof ev<"u"&&(!t.C[1]||fn(t)!=4||t.da()!=2)){if(t.v&&fn(t)==4)dv(t.La,0,t);else if(qe(t,"readystatechange"),fn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(iS)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!UH.test(i?i.toLowerCase():"")}n=r}if(n)qe(t,"complete"),qe(t,"success");else{t.m=6;try{var s=2<fn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",gS(t)}}finally{Hd(t)}}}}function Hd(t,e){if(t.g){yS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function yS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function fn(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),VH(e)}};function bA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case pS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $H(t){let e={};t=(t.g&&2<=fn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ma(t[r]))continue;var n=pH(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}lH(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vS(t){let e="";return rv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function yv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function Ca(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _S(t){this.Ga=0,this.j=[],this.l=new Fd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ca("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ca("baseRetryDelayMs",5e3,t),this.hb=Ca("retryDelaySeedMs",1e4,t),this.eb=Ca("forwardChannelMaxRetries",2,t),this.xa=Ca("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cS(t&&t.concurrentRequestLimit),this.Ja=new kH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=_S.prototype;w.ra=8;w.H=1;function vv(t){if(IS(t),t.H==3){var e=t.W++,n=Bn(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),Ga(t,n),e=new $a(t,t.l,e),e.L=2,e.A=Bd(Bn(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&F.Image&&(new Image().src=e.A,n=!0),n||(e.g=SS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ha(e)}bS(t)}function qd(t){t.g&&(Iv(t),t.g.cancel(),t.g=null)}function IS(t){qd(t),t.u&&(F.clearTimeout(t.u),t.u=null),Ad(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function zd(t){if(!uS(t.i)&&!t.m){t.m=!0;var e=t.Na;xa||$A(),Pa||(xa(),Pa=!0),uv.add(e,t),t.C=0}}function HH(t,e){return lS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ja(We(t.Na,t,e),CS(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new $a(this,this.l,t),s=this.s;if(this.U&&(s?(s=OA(s),kA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wS(this,i,e),n=Bn(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),Ga(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(vS(s)))+"&"+e:this.o&&yv(n,this.o,s)),gv(this.i,i),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.aa=!0,Qy(i,n,null)):Qy(i,n,e),this.H=2}}else this.H==3&&(t?AA(this,t):this.j.length==0||uS(this.i)||AA(this))};function AA(t,e){var n;e?n=e.m:n=t.W++;let r=Bn(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),Ga(t,r),t.o&&t.s&&yv(r,t.o,t.s),n=new $a(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gv(t.i,n),Qy(n,r,e)}function Ga(t,e){t.na&&rv(t.na,function(n,r){le(e,r,n)}),t.h&&rS({},function(n,r){le(e,r,n)})}function wS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?We(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{FH(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ES(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xa||$A(),Pa||(xa(),Pa=!0),uv.add(e,t),t.A=0}}function _v(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ja(We(t.Ma,t),CS(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,DS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ja(We(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tt(10),qd(this),DS(this))};function Iv(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function DS(t){t.g=new $a(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Bn(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),Ga(t,e),t.o&&t.s&&yv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Bd(Bn(e)),n.u=null,n.S=!0,XA(n,t)}w.ib=function(){this.v!=null&&(this.v=null,qd(this),_v(this),tt(19))};function Ad(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function TS(t,e){var n=null;if(t.g==e){Ad(t),Iv(t),t.g=null;var r=2}else if(Jy(t.i,e))n=e.F,dS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ld(),qe(r,new KA(r,n)),zd(t)}else ES(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&HH(t,e)||r==2&&_v(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:fi(t,5);break;case 4:fi(t,10);break;case 3:fi(t,6);break;default:fi(t,2)}}}function CS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=We(t.pb,t);n||(n=new pi("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||Cd(n,"https"),Bd(n)),LH(n.toString(),r)}else tt(2);t.H=0,t.h&&t.h.za(e),bS(t),IS(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tt(2)):(this.l.info("Failed to ping google.com"),tt(1))};function bS(t){if(t.H=0,t.ma=[],t.h){let e=hS(t.i);(e.length!=0||t.j.length!=0)&&(vA(t.ma,e),vA(t.ma,t.j),t.i.i.length=0,tv(t.j),t.j.length=0),t.h.ya()}}function AS(t,e,n){var r=n instanceof pi?Bn(n):new pi(n);if(r.g!="")e&&(r.g=e+"."+r.g),bd(r,r.m);else{var i=F.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new pi(null);r&&Cd(s,r),e&&(s.g=e),i&&bd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),Ga(t,r),r}function SS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ye(new qa({ob:n})):new ye(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function RS(){}w=RS.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function Sd(){if(xs&&!(10<=Number(oH)))throw Error("Environmental error: no available transport.")}Sd.prototype.g=function(t,e){return new Dt(t,e)};function Dt(t,e){Oe.call(this),this.g=new _S(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ma(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ma(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Os(this)}ke(Dt,Oe);Dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AS(t,null,t.Y),zd(t)};Dt.prototype.close=function(){vv(this.g)};Dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=cv(t),t=n);e.j.push(new xH(e.fb++,t)),e.H==3&&zd(e)};Dt.prototype.N=function(){this.g.h=null,delete this.j,vv(this.g),delete this.g,Dt.$.N.call(this)};function MS(t){fv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(MS,fv);function NS(){pv.call(this),this.status=1}ke(NS,pv);function Os(t){this.g=t}ke(Os,RS);Os.prototype.Ba=function(){qe(this.g,"a")};Os.prototype.Aa=function(t){qe(this.g,new MS(t))};Os.prototype.za=function(t){qe(this.g,new NS)};Os.prototype.ya=function(){qe(this.g,"b")};function qH(){this.blockSize=-1}function qt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(qt,qH);qt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ly(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}qt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ly(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ly(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ly(this,r),i=0;break}}this.h=i,this.i+=e};qt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var zH={};function wv(t){return-128<=t&&128>t?rH(t,function(e){return new se([e|0],0>e?-1:0)}):new se([t|0],0>t?-1:0)}function pn(t){if(isNaN(t)||!isFinite(t))return Ns;if(0>t)return He(pn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zy;return new se(e,0)}function xS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return He(xS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pn(Math.pow(e,8)),r=Ns,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=pn(Math.pow(e,s)),r=r.R(s).add(pn(o))):(r=r.R(n),r=r.add(pn(o)))}return r}var Zy=4294967296,Ns=wv(0),Xy=wv(1),SA=wv(16777216);w=se.prototype;w.ea=function(){if(xt(this))return-He(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zy+r)*e,e*=Zy}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jn(this))return"0";if(xt(this))return"-"+He(this).toString(t);for(var e=pn(Math.pow(t,6)),n=this,r="";;){var i=Md(n,e).g;n=Rd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,jn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function xt(t){return t.h==-1}w.X=function(t){return t=Rd(this,t),xt(t)?-1:jn(t)?0:1};function He(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new se(n,~t.h).add(Xy)}w.abs=function(){return xt(this)?He(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new se(n,n[n.length-1]&-2147483648?-1:0)};function Rd(t,e){return t.add(He(e))}w.R=function(t){if(jn(this)||jn(t))return Ns;if(xt(this))return xt(t)?He(this).R(He(t)):He(He(this).R(t));if(xt(t))return He(this.R(He(t)));if(0>this.X(SA)&&0>t.X(SA))return pn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Td(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Td(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Td(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Td(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new se(n,0)};function Td(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ba(t,e){this.g=t,this.h=e}function Md(t,e){if(jn(e))throw Error("division by zero");if(jn(t))return new ba(Ns,Ns);if(xt(t))return e=Md(He(t),e),new ba(He(e.g),He(e.h));if(xt(e))return e=Md(t,He(e)),new ba(He(e.g),e.h);if(30<t.g.length){if(xt(t)||xt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Xy,r=e;0>=r.X(t);)n=RA(n),r=RA(r);var i=Rs(n,1),s=Rs(r,1);for(r=Rs(r,2),n=Rs(n,2);!jn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Rs(r,1),n=Rs(n,1)}return e=Rd(t,i.R(e)),new ba(i,e)}for(i=Ns;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=pn(n),o=s.R(e);xt(o)||0<o.X(t);)n-=r,s=pn(n),o=s.R(e);jn(s)&&(s=Xy),i=i.add(s),t=Rd(t,o)}return new ba(i,t)}w.gb=function(t){return Md(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new se(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new se(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new se(n,this.h^t.h)};function RA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new se(n,t.h)}function Rs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new se(i,t.h)}Sd.prototype.createWebChannel=Sd.prototype.g;Dt.prototype.send=Dt.prototype.u;Dt.prototype.open=Dt.prototype.m;Dt.prototype.close=Dt.prototype.close;Vd.NO_ERROR=0;Vd.TIMEOUT=8;Vd.HTTP_ERROR=6;QA.COMPLETE="complete";YA.EventType=Ba;Ba.OPEN="a";Ba.CLOSE="b";Ba.ERROR="c";Ba.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;qt.prototype.digest=qt.prototype.l;qt.prototype.reset=qt.prototype.reset;qt.prototype.update=qt.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=pn;se.fromString=xS;var PS=zt.createWebChannelTransport=function(){return new Sd},OS=zt.getStatEventTarget=function(){return Ld()},Gd=zt.ErrorCode=Vd,kS=zt.EventType=QA,FS=zt.Event=gi,Ev=zt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vQ=zt.FetchXmlHttpFactory=qa,Wa=zt.WebChannel=YA,LS=zt.XhrIo=ye,VS=zt.Md5=qt,mi=zt.Integer=se;var US="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var to="10.8.0";var Ei=new vr("@firebase/firestore");function Ka(){return Ei.logLevel}function E(t,...e){if(Ei.logLevel<=Q.DEBUG){let n=e.map(lI);Ei.debug(`Firestore (${to}): ${t}`,...n)}}function In(t,...e){if(Ei.logLevel<=Q.ERROR){let n=e.map(lI);Ei.error(`Firestore (${to}): ${t}`,...n)}}function Bs(t,...e){if(Ei.logLevel<=Q.WARN){let n=e.map(lI);Ei.warn(`Firestore (${to}): ${t}`,...n)}}function lI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function P(t="Unexpected state"){let e=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+t;throw In(e),new Error(e)}function ue(t,e){t||P()}function B(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends Et{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Jd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Av=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},Sv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Rv=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new Jd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Fe(e)}},Mv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Nv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Mv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Pv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function GH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=GH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ne(t,e){return t<e?-1:t>e?1:0}function $s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var j=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&P(),r===void 0?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},he=class t extends Xd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},WH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends Xd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return WH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var M=class t{constructor(e){this.path=e}static fromPath(e){return new t(he.fromString(e))}static fromName(e){return new t(he.fromString(e).popFirst(5))}static empty(){return new t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new he(e.slice()))}};var Ov=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ov.UNKNOWN_ID=-1;function KH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Di(i,M.empty(),e)}function QH(t){return new Di(t.readTime,t.key,-1)}var Di=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(j.min(),M.empty(),-1)}static max(){return new t(j.max(),M.empty(),-1)}};function YH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}var JH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function dc(t){return f(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==JH)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Fv=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new mn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new wi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=dI(r.target.error);this.V.reject(new wi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new wi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Vv(n)}},eh=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(ge())===12.2&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),yi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bl())return!1;if(t.C())return!0;let e=ge(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new wi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new wi(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Fv.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Lv=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yi(this.k.delete())}},wi=class extends C{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function hc(t){return t.name==="IndexedDbTransactionError"}var Vv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yi(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),yi(this.store.add(e))}get(e){return yi(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),yi(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),yi(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=dI(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Lv(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function yi(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=dI(r.target.error);n(i)}})}var jS=!1;function dI(t){let e=eh.S(ge());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jS||(jS=!0,setTimeout(()=>{throw r},0)),r}}return t}var vR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Mh(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function ZH(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var XH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SQ=[...XH,"documentOverlays"],eq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tq=eq,RQ=[...tq,"indexConfiguration","indexState","indexEntries"];function BS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ri(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _R(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _e=class t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();let e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}};yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new th(this.data.getIterator())}getIteratorFrom(e){return new th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},th=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pt=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var nh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var nq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(ue(!!t),typeof t=="string"){let e=0,n=nq.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}function hI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fI(t){let e=t.mapValue.fields.__previous_value__;return hI(e)?fI(e):e}function tc(t){let e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}var Uv=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},rh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hI(t)?4:IR(t)?9007199254740991:10:P()}function wn(t,e){if(t===e)return!0;let n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Sr(i.timestampValue),a=Sr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rr(i.bytesValue).isEqual(Rr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ve(i.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ve(i.integerValue)===ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ve(i.doubleValue),a=ve(s.doubleValue);return o===a?ec(o)===ec(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(BS(o)!==BS(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!wn(o[c],a[c])))return!1;return!0}(t,e);default:return P()}}function nc(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function Hs(t,e){if(t===e)return 0;let n=Ti(t),r=Ti(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ve(s.integerValue||s.doubleValue),c=ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return $S(t.timestampValue,e.timestampValue);case 4:return $S(tc(t),tc(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Rr(s),c=Rr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ne(a[u],c[u]);if(l!==0)return l}return ne(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ne(ve(s.latitude),ve(o.latitude));return a!==0?a:ne(ve(s.longitude),ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Hs(a[u],c[u]);if(l)return l}return ne(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Wd.mapValue&&o===Wd.mapValue)return 0;if(s===Wd.mapValue)return 1;if(o===Wd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ne(c[d],l[d]);if(h!==0)return h;let p=Hs(a[c[d]],u[l[d]]);if(p!==0)return p}return ne(c.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function $S(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);let n=Sr(t),r=Sr(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function qs(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=jv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${jv(n.fields[o])}`;return i+"}"}(t.mapValue):P()}function HS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bv(t){return!!t&&"integerValue"in t}function pI(t){return!!t&&"arrayValue"in t}function qS(t){return!!t&&"nullValue"in t}function zS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qd(t){return!!t&&"mapValue"in t}function Ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Tt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ya(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ri(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ya(this.value))}};function wR(t){let e=[];return Ri(t.fields,(n,r)=>{let i=new Ct([n]);if(Qd(r)){let s=wR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Pt(e)}var Gt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,j.min(),j.min(),j.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,j.min(),j.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,j.min(),j.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zs=class{constructor(e,n){this.position=e,this.inclusive=n}};function GS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=Hs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function WS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}var Gs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function rq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ih=class{},Re=class t extends ih{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hv(e,n,r):n==="array-contains"?new Gv(e,r):n==="in"?new Wv(e,r):n==="not-in"?new Kv(e,r):n==="array-contains-any"?new Qv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qv(e,r):new zv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hs(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wt=class t extends ih{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return ER(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function ER(t){return t.op==="and"}function DR(t){return iq(t)&&ER(t)}function iq(t){for(let e of t.filters)if(e instanceof Wt)return!1;return!0}function $v(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(DR(t))return t.filters.map(e=>$v(e)).join(",");{let e=t.filters.map(n=>$v(n)).join(",");return`${t.op}(${e})`}}function TR(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof Wt?function(r,i){return i instanceof Wt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TR(o,i.filters[a]),!0):!1}(t,e):void P()}function CR(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof Wt?function(n){return n.op.toString()+" {"+n.getFilters().map(CR).join(" ,")+"}"}(t):"Filter"}var Hv=class extends Re{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){let n=M.comparator(e.key,this.key);return this.matchesComparison(n)}},qv=class extends Re{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},zv=class extends Re{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function bR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}var Gv=class extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return pI(n)&&nc(n.arrayValue,this.value)}},Wv=class extends Re{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}},Kv=class extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}},Qv=class extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!pI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}};var Yv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function KS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Yv(t,e,n,r,i,s,o)}function gI(t){let e=B(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$v(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.ce=n}return e.ce}function mI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WS(t.startAt,e.startAt)&&WS(t.endAt,e.endAt)}function Jv(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ci=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function sq(t,e,n,r,i,s,o,a){return new Ci(t,e,n,r,i,s,o,a)}function yI(t){return new Ci(t)}function QS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AR(t){return t.collectionGroup!==null}function Ja(t){let e=B(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(Ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Gs(s,r))}),n.has(Ct.keyField().canonicalString())||e.le.push(new Gs(Ct.keyField(),r))}return e.le}function vn(t){let e=B(t);return e.he||(e.he=oq(e,Ja(t))),e.he}function oq(t,e){if(t.limitType==="F")return KS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Gs(i.field,s)});let n=t.endAt?new zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zs(t.startAt.position,t.startAt.inclusive):null;return KS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zv(t,e){let n=t.filters.concat([e]);return new Ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xv(t,e,n){return new Ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nh(t,e){return mI(vn(t),vn(e))&&t.limitType===e.limitType}function SR(t){return`${gI(vn(t))}|lt:${t.limitType}`}function ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CR(i)).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=GS(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ja(r),i)||r.endAt&&!function(o,a,c){let u=GS(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ja(r),i))}(t,e)}function aq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RR(t){return(e,n)=>{let r=!1;for(let i of Ja(t)){let s=cq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cq(t,e,n){let r=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Hs(c,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}var Mr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return _R(this.inner)}size(){return this.innerSize}};var uq=new _e(M.comparator);function qn(){return uq}var MR=new _e(M.comparator);function Qa(...t){let e=MR;for(let n of t)e=e.insert(n.key,n);return e}function NR(t){let e=MR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Za()}function xR(){return Za()}function Za(){return new Mr(t=>t.toString(),(t,e)=>t.isEqual(e))}var lq=new _e(M.comparator),dq=new Ye(M.comparator);function Y(...t){let e=dq;for(let n of t)e=e.add(n);return e}var hq=new Ye(ne);function fq(){return hq}function PR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function OR(t){return{integerValue:""+t}}function pq(t,e){return ZH(e)?OR(e):PR(t,e)}var Ws=class{constructor(){this._=void 0}};function gq(t,e,n){return t instanceof Ks?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hI(s)&&(s=fI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bi?FR(t,e):t instanceof Ai?LR(t,e):function(i,s){let o=kR(i,s),a=YS(o)+YS(i.Ie);return Bv(o)&&Bv(i.Ie)?OR(a):PR(i.serializer,a)}(t,e)}function mq(t,e,n){return t instanceof bi?FR(t,e):t instanceof Ai?LR(t,e):n}function kR(t,e){return t instanceof Qs?function(r){return Bv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ks=class extends Ws{},bi=class extends Ws{constructor(e){super(),this.elements=e}};function FR(t,e){let n=VR(e);for(let r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ai=class extends Ws{constructor(e){super(),this.elements=e}};function LR(t,e){let n=VR(e);for(let r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}var Qs=class extends Ws{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function YS(t){return ve(t.integerValue||t.doubleValue)}function VR(t){return pI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bi&&i instanceof bi||r instanceof Ai&&i instanceof Ai?$s(r.elements,i.elements,wn):r instanceof Qs&&i instanceof Qs?wn(r.Ie,i.Ie):r instanceof Ks&&i instanceof Ks}(t.transform,e.transform)}var e_=class{constructor(e,n){this.version=e,this.transformResults=n}},$n=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ys=class{};function UR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sh(t.key,$n.none()):new Si(t.key,t.data,$n.none());{let n=t.data,r=Tt.empty(),i=new Ye(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new En(t.key,r,new Pt(i.toArray()),$n.none())}}function vq(t,e,n){t instanceof Si?function(i,s,o){let a=i.value.clone(),c=ZS(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof En?function(i,s,o){if(!Yd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=ZS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(jR(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof Si?function(s,o,a,c){if(!Yd(s.precondition,o))return a;let u=s.value.clone(),l=XS(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof En?function(s,o,a,c){if(!Yd(s.precondition,o))return a;let u=XS(s.fieldTransforms,c,o),l=o.data;return l.setAll(jR(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Yd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _q(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=kR(r.transform,i||null);s!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,s))}return n||null}function JS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(s,o)=>yq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Si=class extends Ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},En=class extends Ys{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function jR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function ZS(t,e,n){let r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mq(o,a,n[i]))}return r}function XS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,gq(s,o,e))}return r}var sh=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},t_=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var n_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&vq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=xR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=UR(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Y())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>JS(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>JS(n,r))}},r_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return lq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var i_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var s_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ae,Z;function Iq(t){switch(t){default:return P();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function BR(t){if(t===void 0)return In("GRPC error has no .code"),m.UNKNOWN;switch(t){case Ae.OK:return m.OK;case Ae.CANCELLED:return m.CANCELLED;case Ae.UNKNOWN:return m.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return m.INTERNAL;case Ae.UNAVAILABLE:return m.UNAVAILABLE;case Ae.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Ae.NOT_FOUND:return m.NOT_FOUND;case Ae.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Ae.ABORTED:return m.ABORTED;case Ae.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Ae.DATA_LOSS:return m.DATA_LOSS;default:return P()}}(Z=Ae||(Ae={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var eR=null;function wq(){return new TextEncoder}var Eq=new mi([4294967295,4294967295],0);function tR(t){let e=wq().encode(t),n=new VS;return n.update(e),new Uint8Array(n.digest())}function nR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mi([n,r],0),new mi([i,s],0)]}var o_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _i(`Invalid padding: ${n}`);if(r<0)throw new _i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _i(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _i(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=mi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(mi.fromNumber(r)));return i.compare(Eq)===1&&(i=new mi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=tR(e),[r,i]=nR(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=tR(e),[r,i]=nR(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_i=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var oh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(j.min(),i,new _e(ne),qn(),Y())}},rc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Y(),Y(),Y())}};var Us=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},ah=class{constructor(e,n){this.targetId=e,this.fe=n}},ch=class{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},uh=class{constructor(){this.ge=0,this.pe=iR(),this.ye=rt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Y(),n=Y(),r=Y();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new rc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=iR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},a_=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=qn(),this.Qe=rR(),this.Ke=new _e(ne)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Jv(s))if(r===0){let o=new M(s.path);this.We(n,o,Gt.newNoDocument(o,j.min()))}else ue(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}eR?.tt(function(l,d,h,p,g){var _,v,D,q,ee,oe;let Ie={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ae=d.unchangedNames;return ae&&(Ie.bloomFilter={applied:g===0,hashCount:(_=ae?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(q=(D=(v=ae?.bits)===null||v===void 0?void 0:v.bitmap)===null||D===void 0?void 0:D.length)!==null&&q!==void 0?q:0,padding:(oe=(ee=ae?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&oe!==void 0?oe:0,mightContain:dt=>{var zn;return(zn=p?.mightContain(dt))!==null&&zn!==void 0&&zn}}),Ie}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Rr(r).toUint8Array()}catch(c){if(c instanceof nh)return Bs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new o_(o,i,s)}catch(c){return Bs(c instanceof _i?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Jv(a.target)){let c=new M(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Gt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Y();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new oh(e,n,this.Ke,this.qe,r);return this.qe=qn(),this.Qe=rR(),this.Ke=new _e(ne),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new uh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ye(ne),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new uh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function rR(){return new _e(M.comparator)}function iR(){return new _e(M.comparator)}var Dq={asc:"ASCENDING",desc:"DESCENDING"},Tq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cq={and:"AND",or:"OR"},c_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function u_(t,e){return t.useProto3Json||Mh(e)?e:{value:e}}function lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bq(t,e){return lh(t,e.toTimestamp())}function _n(t){return ue(!!t),j.fromTimestamp(function(n){let r=Sr(n);return new ze(r.seconds,r.nanos)}(t))}function vI(t,e){return l_(t,e).canonicalString()}function l_(t,e){let n=function(i){return new he(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HR(t){let e=he.fromString(t);return ue(KR(e)),e}function d_(t,e){return vI(t.databaseId,e.path)}function Dv(t,e){let n=HR(e);if(n.get(1)!==t.databaseId.projectId)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(zR(n))}function qR(t,e){return vI(t.databaseId,e)}function Aq(t){let e=HR(t);return e.length===4?he.emptyPath():zR(e)}function h_(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zR(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sR(t,e,n){return{name:d_(t,e),fields:n.value.mapValue.fields}}function Sq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:P()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ue(l===void 0||typeof l=="string"),rt.fromBase64String(l||"")):(ue(l===void 0||l instanceof Uint8Array),rt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:BR(u.code);return new C(l,u.message||"")}(o);n=new ch(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Dv(t,r.document.name),s=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):j.min(),a=new Tt({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Us(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Dv(t,r.document),s=r.readTime?_n(r.readTime):j.min(),o=Gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Us([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Dv(t,r.document),s=r.removedTargetIds||[];n=new Us([],s,i,null)}else{if(!("filter"in e))return P();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new s_(i,s),a=r.targetId;n=new ah(a,o)}}return n}function Rq(t,e){let n;if(e instanceof Si)n={update:sR(t,e.key,e.value)};else if(e instanceof sh)n={delete:d_(t,e.key)};else if(e instanceof En)n={update:sR(t,e.key,e.data),updateMask:Vq(e.fieldMask)};else{if(!(e instanceof t_))return P();n={verify:d_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ks)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:bq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:P()}(t,e.precondition)),n}function Mq(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_n(i.updateTime):_n(s);return o.isEqual(j.min())&&(o=_n(s)),new e_(o,i.transformResults||[])}(n,e))):[]}function Nq(t,e){return{documents:[qR(t,e.path)]}}function xq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qR(t,i);let s=function(u){if(u.length!==0)return WR(Wt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Fs(h.field),direction:kq(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=u_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function Pq(t){let e=Aq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ue(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=GR(d);return h instanceof Wt&&DR(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Gs(Ls(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Mh(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new zs(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new zs(p,h)}(n.endAt)),sq(e,i,o,s,a,"F",c,u)}function Oq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ls(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ls(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ls(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ls(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(Ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wt.create(n.compositeFilter.filters.map(r=>GR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return P()}}(n.compositeFilter.op))}(t):P()}function kq(t){return Dq[t]}function Fq(t){return Tq[t]}function Lq(t){return Cq[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Ls(t){return Ct.fromServerFormat(t.fieldPath)}function WR(t){return t instanceof Re?function(n){if(n.op==="=="){if(zS(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(qS(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zS(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(qS(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:Fq(n.op),value:n.value}}}(t):t instanceof Wt?function(n){let r=n.getFilters().map(i=>WR(i));return r.length===1?r[0]:{compositeFilter:{op:Lq(n.op),filters:r}}}(t):P()}function Vq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ic=class t{constructor(e,n,r,i,s=j.min(),o=j.min(),a=rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var f_=class{constructor(e){this.ct=e}};function Uq(t){let e=Pq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xv(e,e.limit,"L"):e}var dh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ec(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Rr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?IR(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):P()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),M.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};dh.bt=new dh;var p_=class{constructor(){this._n=new g_}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Di.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},g_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(he.comparator)).toArray()}};var NQ=new Uint8Array(0);var gn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var sc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var m_=class{constructor(){this.changes=new Mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var y_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var v_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,Pt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Y()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Y()){let i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Y()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qn(),o=Za(),a=function(){return Za()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof En)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Xa(l.mutation,u,l.mutation.getFieldMask(),ze.now())):o.set(u.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new y_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Za(),i=new _e((o,a)=>o-a),s=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Pt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Y()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=xR();l.forEach(h=>{if(!s.has(h)){let p=UR(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(vi()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Y())).next(l=>({batchId:a,changes:NR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Qa();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new Ci(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Gt.newInvalidDocument(l)))});let a=Qa();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Xa(l.mutation,u,Pt.empty(),ze.now()),xh(n,u)&&(a=a.insert(c,u))}),a})}};var __=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_n(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Uq(i.bundledQuery),readTime:_n(i.readTime)}}(n)),y.resolve()}};var I_=class{constructor(){this.overlays=new _e(M.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vi();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=vi(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _e((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=vi(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=vi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new i_(n,r));let s=this.hr.get(n);s===void 0&&(s=Y(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var oc=class{constructor(){this.Pr=new Ye(Se.Ir),this.Tr=new Ye(Se.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Se(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Se(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new M(new he([])),r=new Se(n,e),i=new Se(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new M(new he([])),r=new Se(n,e),i=new Se(n,e+1),s=Y();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Se(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Se=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return M.comparator(e.key,n.key)||ne(e.pr,n.pr)}static Er(e,n){return ne(e.pr,n.pr)||M.comparator(e.key,n.key)}};var w_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ye(Se.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new n_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Se(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Se(n,0),i=new Se(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ne);return n.forEach(i=>{let s=new Se(i,0),o=new Se(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;M.isDocumentKey(s)||(s=s.child(""));let o=new Se(new M(s),0),a=new Ye(ne);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new Se(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Se(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var E_=class{constructor(e){this.vr=e,this.docs=function(){return new _e(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=qn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qn(),o=n.path,a=new M(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||YH(QH(l),r)<=0||(i.has(l.key)||xh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D_(this)}getSize(e){return y.resolve(this.size)}},D_=class extends m_{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var T_=class{constructor(e){this.persistence=e,this.Mr=new Mr(n=>gI(n),mI),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oc,this.targetCount=0,this.Br=sc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new sc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var C_=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new vR(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new T_(this),this.indexManager=new p_,this.remoteDocumentCache=function(i){return new E_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new f_(n),this.$r=new __(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new w_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new b_(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},b_=class extends kv{constructor(e){super(),this.currentSequenceNumber=e}},A_=class t{constructor(e){this.persistence=e,this.zr=new oc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw P()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=M.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var S_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Y(),i=Y();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var R_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var M_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return i0()?8:eh.v(ge())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new R_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ka()<=Q.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(Ka()<=Q.DEBUG&&E("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ka()<=Q.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):y.resolve())}ji(e,n){if(QS(n))return y.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xv(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Y(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Xv(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return QS(n)||i.isEqual(j.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(Ka()<=Q.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.es(e,o,n,KH(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ye(RR(e));return n.forEach((i,s)=>{xh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ka()<=Q.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",ks(n)),this.zi.getDocumentsMatchingQuery(e,n,Di.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var N_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new _e(ne),this.rs=new Mr(s=>gI(s),mI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function jq(t,e,n,r){return new N_(t,e,n,r)}function QR(t,e){return f(this,null,function*(){let n=B(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Y();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function Bq(t,e){let n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(g=>{p=p.next(()=>l.getEntry(c,g)).next(_=>{let v=u.docVersions.get(g);ue(v!==null),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Y();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YR(t){let e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $q(t,e){let n=B(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(rt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(_,v,D){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(s,p))});let c=qn(),u=Y();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Hq(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(j.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function Hq(t,e,n){let r=Y(),i=Y();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(j.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function qq(t,e){let n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zq(t,e){let n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ic(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function x_(t,e,n){return f(this,null,function*(){let r=B(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!hc(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function oR(t,e,n){let r=B(t),i=j.min(),s=Y();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=B(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:Y())).next(a=>(Gq(r,aq(e),a),{documents:a,hs:s})))}function Gq(t,e,n){let r=t.ss.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var hh=class{constructor(){this.activeTargetIds=fq()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var P_=class{constructor(){this.no=new hh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new hh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var O_=class{io(e){}shutdown(){}};var fh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Kd=null;function Tv(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}var Wq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var k_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Qe="WebChannelConnection",F_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Tv(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Bs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Wq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Tv();return new Promise((o,a)=>{let c=new LS;c.setWithCredentials(!0),c.listenOnce(kS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gd.NO_ERROR:let l=c.getResponseJson();E(Qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Gd.TIMEOUT:E(Qe,`RPC '${e}' ${s} timed out`),a(new C(m.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:let d=c.getStatus();if(E(Qe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let g=function(v){let D=v.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(D)>=0?D:m.UNKNOWN}(p.status);a(new C(g,p.message))}else a(new C(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(m.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{E(Qe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Qe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Tv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PS(),a=OS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Qe,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,g=new k_({lo:v=>{p?E(Qe,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(E(Qe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(Qe,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},ho:()=>d.close()}),_=(v,D,q)=>{v.listen(D,ee=>{try{q(ee)}catch(oe){setTimeout(()=>{throw oe},0)}})};return _(d,Wa.EventType.OPEN,()=>{p||E(Qe,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Wa.EventType.CLOSE,()=>{p||(p=!0,E(Qe,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),_(d,Wa.EventType.ERROR,v=>{p||(p=!0,Bs(Qe,`RPC '${e}' stream ${i} transport errored:`,v),g.Vo(new C(m.UNAVAILABLE,"The operation could not be completed")))}),_(d,Wa.EventType.MESSAGE,v=>{var D;if(!p){let q=v.data[0];ue(!!q);let ee=q,oe=ee.error||((D=ee[0])===null||D===void 0?void 0:D.error);if(oe){E(Qe,`RPC '${e}' stream ${i} received error:`,oe);let Ie=oe.status,ae=function(Pr){let mc=Ae[Pr];if(mc!==void 0)return BR(mc)}(Ie),dt=oe.message;ae===void 0&&(ae=m.INTERNAL,dt="Unknown error status: "+Ie+" with message "+oe.message),p=!0,g.Vo(new C(ae,dt)),d.close()}else E(Qe,`RPC '${e}' stream ${i} received:`,q),g.mo(q)}}),_(a,FS.STAT_EVENT,v=>{v.stat===Ev.PROXY?E(Qe,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Ev.NOPROXY&&E(Qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function Cv(){return typeof document<"u"?document:null}function Ph(t){return new c_(t,!0)}var ph=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var gh=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ph(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(In(n.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},L_=class extends gh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=Sq(this.serializer,e),r=function(s){if(!("targetChange"in s))return j.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?_n(o.readTime):j.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=h_(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Jv(c)?{documents:Nq(s,c)}:{query:xq(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$R(s,o.resumeToken);let u=u_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(j.min())>0){a.readTime=lh(s,o.snapshotVersion.toTimestamp());let u=u_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Oq(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=h_(this.serializer),n.removeTarget=e,this.t_(n)}},V_=class extends gh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=Mq(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.T_(r,n)}return ue(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=h_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Rq(this.serializer,r))};this.t_(n)}};var U_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,l_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(m.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,l_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var j_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(In(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var B_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>f(this,null,function*(){Mi(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=B(c);u.v_.add(4),yield fc(u),u.x_.set("Unknown"),u.v_.delete(4),yield Oh(u)})}(this))}))}),this.x_=new j_(r,i)}};function Oh(t){return f(this,null,function*(){if(Mi(t))for(let e of t.F_)yield e(!0)})}function fc(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function JR(t,e){let n=B(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),wI(n)?II(n):no(n).Jo()&&_I(n,e))}function ZR(t,e){let n=B(t),r=no(n);n.C_.delete(e),r.Jo()&&XR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Mi(n)&&n.x_.set("Unknown"))}function _I(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}no(t).c_(e)}function XR(t,e){t.O_.Oe(e),no(t).l_(e)}function II(t){t.O_=new a_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),no(t).start(),t.x_.p_()}function wI(t){return Mi(t)&&!no(t).Ho()&&t.C_.size>0}function Mi(t){return B(t).v_.size===0}function eM(t){t.O_=void 0}function Kq(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{_I(t,e)})})}function Qq(t,e){return f(this,null,function*(){eM(t),wI(t)?(t.x_.S_(e),II(t)):t.x_.set("Unknown")})}function Yq(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof ch&&e.state===2&&e.cause)try{yield function(i,s){return f(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mh(t,r)}else if(e instanceof Us?t.O_.$e(e):e instanceof ah?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(j.min()))try{let r=yield YR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(rt.EMPTY_BYTE_STRING,l.snapshotVersion)),XR(s,c);let d=new ic(l.target,c,u,l.sequenceNumber);_I(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield mh(t,r)}})}function mh(t,e,n){return f(this,null,function*(){if(!hc(e))throw e;t.v_.add(1),yield fc(t),t.x_.set("Offline"),n||(n=()=>YR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Oh(t)}))})}function tM(t,e){return e().catch(n=>mh(t,n,e))}function kh(t){return f(this,null,function*(){let e=B(t),n=Nr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Jq(e);)try{let i=yield qq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Zq(e,i)}catch(i){yield mh(e,i)}nM(e)&&rM(e)})}function Jq(t){return Mi(t)&&t.D_.length<10}function Zq(t,e){t.D_.push(e);let n=Nr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function nM(t){return Mi(t)&&!Nr(t).Ho()&&t.D_.length>0}function rM(t){Nr(t).start()}function Xq(t){return f(this,null,function*(){Nr(t).d_()})}function ez(t){return f(this,null,function*(){let e=Nr(t);for(let n of t.D_)e.I_(n.mutations)})}function tz(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=r_.from(r,e,n);yield tM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield kh(t)})}function nz(t,e){return f(this,null,function*(){e&&Nr(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return Iq(o)&&o!==m.ABORTED}(i.code)){let s=r.D_.shift();Nr(r).Zo(),yield tM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield kh(r)}})}(t,e)),nM(t)&&rM(t)})}function aR(t,e){return f(this,null,function*(){let n=B(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=Mi(n);n.v_.add(3),yield fc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Oh(n)})}function rz(t,e){return f(this,null,function*(){let n=B(t);e?(n.v_.delete(2),yield Oh(n)):e||(n.v_.add(2),yield fc(n),n.x_.set("Unknown"))})}function no(t){return t.N_||(t.N_=function(n,r,i){let s=B(n);return s.R_(),new L_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Kq.bind(null,t),To:Qq.bind(null,t),u_:Yq.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),wI(t)?II(t):t.x_.set("Unknown")):(yield t.N_.stop(),eM(t))}))),t.N_}function Nr(t){return t.B_||(t.B_=function(n,r,i){let s=B(n);return s.R_(),new V_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Xq.bind(null,t),To:nz.bind(null,t),E_:ez.bind(null,t),T_:tz.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.B_.Zo(),yield kh(t)):(yield t.B_.stop(),t.D_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var $_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function EI(t,e){if(In("AsyncQueue",`${e}: ${t}`),hc(t))return new C(m.UNAVAILABLE,`${e}: ${t}`);throw t}var yh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var vh=class{constructor(){this.L_=new _e(M.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):P():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Js=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,yh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var H_=class{constructor(){this.q_=void 0,this.Q_=[]}},q_=class{constructor(){this.queries=new Mr(e=>SR(e),Nh),this.onlineState="Unknown",this.K_=new Set}};function iz(t,e){return f(this,null,function*(){let n=B(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new H_),i)try{s.q_=yield n.onListen(r)}catch(o){let a=EI(o,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&DI(n)})}function sz(t,e){return f(this,null,function*(){let n=B(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function oz(t,e){let n=B(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&DI(n)}function az(t,e,n){let r=B(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function DI(t){t.K_.forEach(e=>{e.next()})}var z_=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var _h=class{constructor(e){this.key=e}},Ih=class{constructor(e){this.key=e}},G_=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Y(),this.mutatedKeys=Y(),this.ua=RR(e),this.ca=new yh(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new vh,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=xh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),v=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),v=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),v=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(p?(o=o.add(p),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(p,g){let _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return _(p)-_(g)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Js(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new vh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=Y(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Ih(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new _h(r))}),n}Ra(e){this.oa=e.hs,this.aa=Y();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Js.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},W_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},K_=class{constructor(e){this.key=e,this.ma=!1}},Q_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Mr(a=>SR(a),Nh),this.pa=new Map,this.ya=new Set,this.wa=new _e(M.comparator),this.Sa=new Map,this.ba=new oc,this.Da={},this.Ca=new Map,this.va=sc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function cz(t,e){return f(this,null,function*(){let n=vz(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield zq(n.localStore,vn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield uz(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&JR(n.remoteStore,o)}return i})}function uz(t,e,n,r,i){return f(this,null,function*(){t.Ma=(d,h,p)=>function(_,v,D,q){return f(this,null,function*(){let ee=v.view.ha(D);ee.Xi&&(ee=yield oR(_.localStore,v.query,!1).then(({documents:dt})=>v.view.ha(dt,ee)));let oe=q&&q.targetChanges.get(v.targetId),Ie=q&&q.targetMismatches.get(v.targetId)!=null,ae=v.view.applyChanges(ee,_.isPrimaryClient,oe,Ie);return uR(_,v.targetId,ae.da),ae.snapshot})}(t,d,h,p);let s=yield oR(t.localStore,e,!0),o=new G_(e,s.hs),a=o.ha(s.documents),c=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);uR(t,n,u.da);let l=new W_(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function lz(t,e){return f(this,null,function*(){let n=B(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Nh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield x_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ZR(n.remoteStore,r.targetId),Y_(n,r.targetId)}).catch(dc))):(Y_(n,r.targetId),yield x_(n.localStore,r.targetId,!0))})}function dz(t,e,n){return f(this,null,function*(){let r=_z(t);try{let i=yield function(o,a){let c=B(o),u=ze.now(),l=a.reduce((p,g)=>p.add(g.key),Y()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=qn(),_=Y();return c.os.getEntries(p,l).next(v=>{g=v,g.forEach((D,q)=>{q.isValidDocument()||(_=_.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;let D=[];for(let q of a){let ee=_q(q,d.get(q.key).overlayedDocument);ee!=null&&D.push(new En(q.key,ee,wR(ee.value.mapValue),$n.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,D,a)}).next(v=>{h=v;let D=v.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(p,v.batchId,D)})}).then(()=>({batchId:h.batchId,changes:NR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new _e(ne)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield pc(r,i.changes),yield kh(r.remoteStore)}catch(i){let s=EI(i,"Failed to persist write");n.reject(s)}})}function iM(t,e){return f(this,null,function*(){let n=B(t);try{let r=yield $q(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ue(o.ma):i.removedDocuments.size>0&&(ue(o.ma),o.ma=!1))}),yield pc(n,r,e)}catch(r){yield dc(r)}})}function cR(t,e,n){let r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=B(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&DI(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hz(t,e,n){return f(this,null,function*(){let r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new _e(M.comparator);o=o.insert(s,Gt.newNoDocument(s,j.min()));let a=Y().add(s),c=new oh(j.min(),new Map,new _e(ne),o,a);yield iM(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),TI(r)}else yield x_(r.localStore,e,!1).then(()=>Y_(r,e,n)).catch(dc)})}function fz(t,e){return f(this,null,function*(){let n=B(t),r=e.batch.batchId;try{let i=yield Bq(n.localStore,e);oM(n,r,null),sM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pc(n,i)}catch(i){yield dc(i)}})}function pz(t,e,n){return f(this,null,function*(){let r=B(t);try{let i=yield function(o,a){let c=B(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ue(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);oM(r,e,n),sM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pc(r,i)}catch(i){yield dc(i)}})}function sM(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function oM(t,e,n){let r=B(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||aM(t,r)})}function aM(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(ZR(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),TI(t))}function uR(t,e,n){for(let r of n)r instanceof _h?(t.ba.addReference(r.key,e),gz(t,r)):r instanceof Ih?(E("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||aM(t,r.key)):P()}function gz(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ya.add(r),TI(t))}function TI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new M(he.fromString(e)),r=t.va.next();t.Sa.set(r,new K_(n)),t.wa=t.wa.insert(n,r),JR(t.remoteStore,new ic(vn(yI(n.path)),r,"TargetPurposeLimboResolution",vR._e))}}function pc(t,e,n){return f(this,null,function*(){let r=B(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=S_.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return f(this,null,function*(){let l=B(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!hc(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,_)}}})}(r.localStore,s))})}function mz(t,e){return f(this,null,function*(){let n=B(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield QR(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new C(m.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pc(n,r.us)}})}function yz(t,e){let n=B(t),r=n.Sa.get(e);if(r&&r.ma)return Y().add(r.key);{let i=Y(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function vz(t){let e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hz.bind(null,e),e.fa.u_=oz.bind(null,e.eventManager),e.fa.xa=az.bind(null,e.eventManager),e}function _z(t){let e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pz.bind(null,e),e}var wh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jq(this.persistence,new M_,e.initialUser,this.serializer)}createPersistence(e){return new C_(A_.Hr,this.serializer)}createSharedClientState(e){return new P_}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var J_=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mz.bind(null,this.syncEngine),yield rz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new q_}()}createDatastore(e){let n=Ph(e.databaseInfo.databaseId),r=function(s){return new F_(s)}(e.databaseInfo);return function(s,o,a,c){return new U_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new B_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cR(this.syncEngine,n,0),function(){return fh.D()?new fh:new O_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Q_(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=B(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield fc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Z_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):In("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var X_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=EI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bv(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield QR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function lR(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield wz(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aR(e.remoteStore,i)),t._onlineComponents=e})}function Iz(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function wz(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Iz(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),yield bv(t,new wh)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield bv(t,new wh);return t._offlineComponents})}function cM(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield lR(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield lR(t,new J_))),t._onlineComponents})}function Ez(t){return cM(t).then(e=>e.syncEngine)}function dR(t){return f(this,null,function*(){let e=yield cM(t),n=e.eventManager;return n.onListen=cz.bind(null,e.syncEngine),n.onUnlisten=lz.bind(null,e.syncEngine),n})}function uM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var hR=new Map;function lM(t,e,n){if(!n)throw new C(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dz(t,e,n,r){if(e===!0&&r===!0)throw new C(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fR(t){if(!M.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pR(t){if(M.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":P()}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Fh(t);throw new C(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Eh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Av;switch(r.type){case"firstParty":return new Nv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=hR.get(n);r&&(E("ComponentProvider","Removing Datastore"),hR.delete(n),r.terminate())}(this),Promise.resolve()}};function dM(t,e,n,r={}){var i;let s=(t=Hn(t,Zs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Fe.MOCK_USER;else{a=Xb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fe(u)}t._authCredentials=new Sv(new Jd(a,c))}}var Xs=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},nt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ar=class t extends Xs{constructor(e,n,r){super(e,n,yI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new M(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function hM(t,e,...n){if(t=me(t),lM("collection","path",e),t instanceof Zs){let r=he.fromString(e,...n);return pR(r),new Ar(t,null,r)}{if(!(t instanceof nt||t instanceof Ar))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return pR(r),new Ar(t.firestore,null,r)}}function CI(t,e,...n){if(t=me(t),arguments.length===1&&(e=Zd.newId()),lM("doc","path",e),t instanceof Zs){let r=he.fromString(e,...n);return fR(r),new nt(t,null,new M(r))}{if(!(t instanceof nt||t instanceof Ar))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return fR(r),new nt(t.firestore,t instanceof Ar?t.converter:null,new M(r))}}var eI=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ph(this,"async_queue_retry"),this._u=()=>{let n=Cv();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Cv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new mn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return f(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!hc(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw In("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=$_.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&P()}verifyOperationInProgress(){}hu(){return f(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function gR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var xr=class extends Zs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new eI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gM(this),this._firestoreClient.terminate()}};function fM(t,e){let n=typeof t=="object"?t:Ds(),r=typeof t=="string"?t:e||"(default)",i=ma(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Zb("firestore");s&&dM(i,...s)}return i}function pM(t){return t._firestoreClient||gM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gM(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Uv(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,uM(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new X_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ac=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(rt.fromBase64String(e))}catch(n){throw new C(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var eo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cc=class{constructor(e){this._methodName=e}};var uc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}};var Tz=/^__.*__$/,tI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new En(e,this.data,this.fieldMask,n,this.fieldTransforms):new Si(e,this.data,n,this.fieldTransforms)}},Dh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new En(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function mM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}var nI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ch(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(mM(this.du)&&Tz.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},rI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}Su(e,n,r,i=!1){return new nI({du:e,methodName:n,wu:r,path:Ct.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Lh(t){let e=t._freezeSettings(),n=Ph(t._databaseId);return new rI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yM(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);bI("Data must be an object, but it was:",o,r);let a=vM(r,o),c,u;if(s.merge)c=new Pt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=iI(e,d,n);if(!o.contains(h))throw new C(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);IM(l,h)||l.push(h)}c=new Pt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new tI(new Tt(a),c,u)}var Th=class t extends cc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Cz(t,e,n,r){let i=t.Su(1,e,n);bI("Data must be an object, but it was:",i,r);let s=[],o=Tt.empty();Ri(r,(c,u)=>{let l=AI(e,c,n);u=me(u);let d=i.fu(l);if(u instanceof Th)s.push(l);else{let h=gc(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Pt(s);return new Dh(o,a,i.fieldTransforms)}function bz(t,e,n,r,i,s){let o=t.Su(1,e,n),a=[iI(e,r,n)],c=[i];if(s.length%2!=0)throw new C(m.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(iI(e,s[h])),c.push(s[h+1]);let u=[],l=Tt.empty();for(let h=a.length-1;h>=0;--h)if(!IM(u,a[h])){let p=a[h],g=c[h];g=me(g);let _=o.fu(p);if(g instanceof Th)u.push(p);else{let v=gc(g,_);v!=null&&(u.push(p),l.set(p,v))}}let d=new Pt(u);return new Dh(l,d,o.fieldTransforms)}function Az(t,e,n,r=!1){return gc(n,t.Su(r?4:3,e))}function gc(t,e){if(_M(t=me(t)))return bI("Unsupported field value:",e,t),vM(t,e);if(t instanceof cc)return function(r,i){if(!mM(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=gc(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ze.fromDate(r);return{timestampValue:lh(i.serializer,s)}}if(r instanceof ze){let s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(i.serializer,s)}}if(r instanceof uc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:$R(i.serializer,r._byteString)};if(r instanceof nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Fh(r)}`)}(t,e)}function vM(t,e){let n={};return _R(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(t,(r,i)=>{let s=gc(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _M(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof uc||t instanceof ac||t instanceof nt||t instanceof cc)}function bI(t,e,n){if(!_M(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Fh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function iI(t,e,n){if((e=me(e))instanceof eo)return e._internalPath;if(typeof e=="string")return AI(t,e);throw Ch("Field path arguments must be of type string or ",t,!1,void 0,n)}var Sz=new RegExp("[~\\*/\\[\\]]");function AI(t,e,n){if(e.search(Sz)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eo(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ch(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(m.INVALID_ARGUMENT,a+t+c)}function IM(t,e){return t.some(n=>n.isEqual(e))}var bh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(SI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},sI=class extends bh{data(){return super.data()}};function SI(t,e){return typeof e=="string"?AI(t,e):e instanceof eo?e._internalPath:e._delegate._internalPath}function Rz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lc=class{},oI=class extends lc{};function wM(t,e,...n){let r=[];e instanceof lc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof aI).length,a=s.filter(c=>c instanceof Ah).length;if(o>1||o>0&&a>0)throw new C(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Ah=class t extends oI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return DM(e._query,n),new Xs(e.firestore,e.converter,Zv(e._query,n))}_parse(e){let n=Lh(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){yR(d,l);let p=[];for(let g of d)p.push(mR(c,s,g));h={arrayValue:{values:p}}}else h=mR(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||yR(d,l),h=Az(a,o,d,l==="in"||l==="not-in");return Re.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function EM(t,e,n){let r=e,i=SI("where",t);return Ah._create(i,r,n)}var aI=class t extends lc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)DM(o,c),o=Zv(o,c)}(e._query,n),new Xs(e.firestore,e.converter,Zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function mR(t,e,n){if(typeof(n=me(n))=="string"){if(n==="")throw new C(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AR(e)&&n.indexOf("/")!==-1)throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(he.fromString(n));if(!M.isDocumentKey(r))throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HS(t,new M(r))}if(n instanceof nt)return HS(t,n._key);throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function yR(t,e){if(!Array.isArray(t)||t.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DM(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var cI=class{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ri(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new uc(ve(e.latitude),ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){let n=Sr(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=he.fromString(e);ue(KR(r));let i=new rh(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||In(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function TM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ii=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Sh=class extends bh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(SI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},js=class extends Sh{data(e={}){return super.data(e)}},uI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ii(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new js(this._firestore,this._userDataWriter,r.key,r,new Ii(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:Mz(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Mz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}var Rh=class extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}};function CM(t,e,n){t=Hn(t,nt);let r=Hn(t.firestore,xr),i=TM(t.converter,e,n);return MI(r,[yM(Lh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$n.none())])}function bM(t,e,n,...r){t=Hn(t,nt);let i=Hn(t.firestore,xr),s=Lh(i),o;return o=typeof(e=me(e))=="string"||e instanceof eo?bz(s,"updateDoc",t._key,e,n,r):Cz(s,"updateDoc",t._key,e),MI(i,[o.toMutation(t._key,$n.exists(!0))])}function AM(t,e){let n=Hn(t.firestore,xr),r=CI(t),i=TM(t.converter,e);return MI(n,[yM(Lh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function RI(t,...e){var n,r,i;t=me(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||gR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(gR(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof nt)u=Hn(t.firestore,xr),l=yI(t._key.path),c={next:d=>{e[o]&&e[o](Nz(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Hn(t,Xs);u=Hn(d.firestore,xr),l=d._query;let h=new Rh(u);c={next:p=>{e[o]&&e[o](new uI(u,h,d,p))},error:e[o+1],complete:e[o+2]},Rz(t._query)}return function(h,p,g,_){let v=new Z_(_),D=new z_(p,v,g);return h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return iz(yield dR(h),D)})),()=>{v.La(),h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return sz(yield dR(h),D)}))}}(pM(u),l,a,c)}function MI(t,e){return function(r,i){let s=new mn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return dz(yield Ez(r),i,s)})),s.promise}(pM(t),e)}function Nz(t,e,n){let r=n.docs.get(e._key),i=new Rh(t);return new Sh(t,i,e._key,r,new Ii(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){to=i})(wr),Ir(new Nt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new xr(new Rv(r.getProvider("auth-internal")),new Pv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Me(US,"4.4.2",e),Me(US,"4.4.2","esm2017")})();var Vh=function(){return Vh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vh.apply(this,arguments)};var Oz={includeMetadataChanges:!1};function NI(t,e){return e===void 0&&(e=Oz),new z(function(n){var r=RI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function SM(t){return NI(t,{includeMetadataChanges:!0})}function RM(t,e){return e===void 0&&(e={}),SM(t).pipe($(function(n){return xI(n,e)}))}function xI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Vh(Vh({},r),(n={},n[e.idField]=t.id,n))}function MM(t){return NI(t,{includeMetadataChanges:!0}).pipe($(function(e){return e.docs}))}function NM(t,e){return e===void 0&&(e={}),MM(t).pipe($(function(n){return n.map(function(r){return xI(r,e)})}))}var Ni=class{constructor(e){return e}},xM="firestore",PI=class{constructor(){return ya(xM)}};var OI=new b("angularfire2.firestore-instances");function kz(t,e){let n=Gl(xM,t,e);return n&&new Ni(n)}function Fz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var Lz={provide:PI,deps:[[new Xe,OI]]},Vz={provide:Ni,useFactory:kz,deps:[[new Xe,OI],Fn]},Uz=(()=>{class t{constructor(){Me("angularfire",oi.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=Be({providers:[Vz,Lz]})}return t})();function sJ(t,...e){return{ngModule:Uz,providers:[{provide:OI,useFactory:Fz(t),multi:!0,deps:[K,xe,bs,ai,[new Xe,Ta],[new Xe,Cs],...e]}]}}var oJ=De(NM,!0);var aJ=De(RM,!0);var cJ=De(AM,!0);var uJ=De(hM,!0);var PM=De(CI,!0);var lJ=De(fM,!0);var dJ=De(wM,!0);var OM=De(CM,!0);var hJ=De(bM,!0);var fJ=De(EM,!0);var EJ=(()=>{let e=class e{constructor(r,i,s,o){this.auth=r,this.firestore=i,this.router=s,this.platformId=o,this.currentUserID="",us(this.platformId)&&(this.displayname=localStorage.getItem("displayname")),fA(this.auth).subscribe(a=>{a&&a.uid&&(this.currentUserID=a.uid)})}saveUserInfoAfterRegistering(r,i){let s=PM(this.firestore,`User/${i}`);return OM(s,r)}get currentUserLoggedInRole(){return JSON.stringify(localStorage.getItem("displayname"))}get isLoggedIn(){return us(this.platformId)?localStorage.getItem("displayname")!=null:!1}setDisplayNameLocalStorage(r,i){us(this.platformId)&&localStorage.setItem("displayname",r),localStorage.setItem("userobject",JSON.stringify(i))}getCurrentUserLoggedInObject(){return us(this.platformId)?JSON.parse(localStorage.getItem("userobject")):[]}signIn(r){return te(mA(this.auth,r.email,r.password)).pipe(ft(i=>Kt(()=>new Error(this.translateFirebaseErrorMessage(i)))))}signUp(r){return te(pA(this.auth,r.email,r.password)).pipe(ft(i=>Kt(()=>new Error(this.translateFirebaseErrorMessageForSignUp(i)))))}resetPassword(r){return te(gA(this.auth,r)).pipe(ft(i=>Kt(()=>new Error(this.translateFirebaseErrorMessageForSignUp(i)))))}translateFirebaseErrorMessageForSignUp({code:r,message:i}){return r==="auth/admin-restricted-operation"?"Email is badly formatted.":r==="auth/email-already-in-use"?"Email already in use.":r==="auth/missing-email"?"Missing email":r==="auth/missing-password"?"Missing password":i}translateFirebaseErrorMessage({code:r,message:i}){return r==="auth/invalid-credential"?"User not found.":i}SignOut(){yA(this.auth),localStorage.removeItem("displayname"),localStorage.removeItem("userobject"),this.router.navigate(["/auth/login"])}};e.\u0275fac=function(i){return new(i||e)(S(di),S(Ni),S(Ht),S(ut))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{T as a,ie as b,Bz as c,VI as d,$z as e,Hz as f,qz as g,f as h,A as i,R as j,Be as k,S as l,I as m,pE as n,$e as o,m5 as p,y5 as q,v5 as r,_5 as s,ut as t,I5 as u,w5 as v,jf as w,_o as x,E5 as y,k as z,de as A,K as B,ip as C,s1 as D,Ku as E,T5 as F,C5 as G,b5 as H,A5 as I,bT as J,AT as K,og as L,S5 as M,dr as N,R5 as O,N5 as P,x5 as Q,H1 as R,FT as S,q1 as T,P5 as U,O5 as V,lt as W,a8 as X,sC as Y,us as Z,mC as _,k8 as $,F8 as aa,L8 as ba,hV as ca,Ht as da,hb as ea,SK as fa,RK as ga,p7 as ha,g7 as ia,pQ as ja,gQ as ka,mQ as la,Ni as ma,sJ as na,oJ as oa,aJ as pa,cJ as qa,uJ as ra,PM as sa,lJ as ta,dJ as ua,hJ as va,fJ as wa,EJ as xa,kC as ya,TC as za,tK as Aa,nK as Ba,fl as Ca,Ho as Da,bL as Ea,iK as Fa,SL as Ga,ML as Ha,rb as Ia,sK as Ja,oK as Ka,VL as La,aK as Ma,cK as Na,uK as Oa};
