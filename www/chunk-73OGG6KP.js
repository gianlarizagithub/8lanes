var LM=Object.create;var vc=Object.defineProperty,VM=Object.defineProperties,UM=Object.getOwnPropertyDescriptor,jM=Object.getOwnPropertyDescriptors,BM=Object.getOwnPropertyNames,yc=Object.getOwnPropertySymbols,UI=Object.getPrototypeOf,jh=Object.prototype.hasOwnProperty,jI=Object.prototype.propertyIsEnumerable,$M=Reflect.get;var VI=(t,e,n)=>e in t?vc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})jh.call(e,n)&&VI(t,n,e[n]);if(yc)for(var n of yc(e))jI.call(e,n)&&VI(t,n,e[n]);return t},oe=(t,e)=>VM(t,jM(e));var Hz=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var BI=(t,e)=>{var n={};for(var r in t)jh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yc)for(var r of yc(t))e.indexOf(r)<0&&jI.call(t,r)&&(n[r]=t[r]);return n};var qz=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),zz=(t,e)=>{for(var n in e)vc(t,n,{get:e[n],enumerable:!0})},HM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BM(e))!jh.call(t,i)&&i!==n&&vc(t,i,{get:()=>e[i],enumerable:!(r=UM(e,i))||r.enumerable});return t};var Gz=(t,e,n)=>(n=t!=null?LM(UI(t)):{},HM(e||!t||!t.__esModule?vc(n,"default",{value:t,enumerable:!0}):n,t));var Wn=(t,e,n)=>$M(UI(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var $I=null;var Bh=1,$h=Symbol("SIGNAL");function Z(t){let e=$I;return $I=t,e}var HI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qM(t){if(!(zh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Bh)){if(!t.producerMustRecompute(t)&&!Hh(t)){t.dirty=!1,t.lastCleanEpoch=Bh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Bh}}function qI(t){return t&&(t.nextProducerIndex=0),Z(t)}function zI(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hh(t){_c(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(qM(n),r!==n.version))return!0}return!1}function GI(t){if(_c(t),zh(t))for(let e=0;e<t.producerNode.length;e++)qh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function qh(t,e){if(zM(t),_c(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)qh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_c(i),i.producerIndexOfThis[r]=e}}function zh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function GM(){throw new Error}var WM=GM;function WI(t){WM=t}function L(t){return typeof t=="function"}function Pi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ic=Pi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function kr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var we=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof Ic?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{KI(s)}catch(o){e=e??[],o instanceof Ic?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)KI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&kr(n,e)}remove(e){let{_finalizers:n}=this;n&&kr(n,e),e instanceof t&&e._removeParent(this)}};we.EMPTY=(()=>{let t=new we;return t.closed=!0,t})();var Gh=we.EMPTY;function wc(t){return t instanceof we||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function KI(t){L(t)?t():t.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(t,e,...n){let{delegate:r}=Oi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Oi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ec(t){Oi.setTimeout(()=>{let{onUnhandledError:e}=Ot;if(e)e(t);else throw t})}function so(){}var QI=Wh("C",void 0,void 0);function YI(t){return Wh("E",void 0,t)}function JI(t){return Wh("N",t,void 0)}function Wh(t,e,n){return{kind:t,value:e,error:n}}var Fr=null;function ki(t){if(Ot.useDeprecatedSynchronousErrorHandling){let e=!Fr;if(e&&(Fr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fr;if(Fr=null,n)throw r}}else t()}function ZI(t){Ot.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=t)}var Lr=class extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wc(e)&&e.add(this)):this.destination=YM}static create(e,n,r){return new Fi(e,n,r)}next(e){this.isStopped?Qh(JI(e),this):this._next(e)}error(e){this.isStopped?Qh(YI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qh(QI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KM=Function.prototype.bind;function Kh(t,e){return KM.call(t,e)}var Yh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Dc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Dc(r)}else Dc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dc(n)}}},Fi=class extends Lr{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ot.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kh(e.next,s),error:e.error&&Kh(e.error,s),complete:e.complete&&Kh(e.complete,s)}):i=e}this.destination=new Yh(i)}};function Dc(t){Ot.useDeprecatedSynchronousErrorHandling?ZI(t):Ec(t)}function QM(t){throw t}function Qh(t,e){let{onStoppedNotification:n}=Ot;n&&Oi.setTimeout(()=>n(t,e))}var YM={closed:!0,next:so,error:QM,complete:so};var Li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(t){return t}function Tc(...t){return Jh(t)}function Jh(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=ZM(n)?n:new Fi(n,r,i);return ki(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=XI(r),new r((i,s)=>{let o=new Fi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Li](){return this}pipe(...n){return Jh(n)(this)}toPromise(n){return n=XI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function XI(t){var e;return(e=t??Ot.Promise)!==null&&e!==void 0?e:Promise}function JM(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function ZM(t){return t&&t instanceof Lr||JM(t)&&wc(t)}function Zh(t){return L(t?.lift)}function X(t){return e=>{if(Zh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(t,e,n,r,i){return new Xh(t,e,n,r,i)}var Xh=class extends Lr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vi(){return X((t,e)=>{let n=null;t._refCount++;let r=K(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ui=class extends q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;let n=this.getSubject();e.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return Vi()(this)}};var ew=Pi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ew}next(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Gh:(this.currentObservers=null,s.push(n),new we(()=>{this.currentObservers=null,kr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return t.create=(e,n)=>new Cc(e,n),t})(),Cc=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Gh}};var Ue=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ef={now(){return(ef.delegate||Date).now()},delegate:void 0};var bc=class extends we{constructor(e,n){super()}schedule(e,n=0){return this}};var oo={setInterval(t,e,...n){let{delegate:r}=oo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=oo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ji=class extends bc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return oo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&oo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,kr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bi.now=ef.now;var $i=class extends Bi{constructor(e,n=Bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var tf=new $i(ji);var Ac=class extends ji{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sc=class extends $i{};var nf=new Sc(Ac);var bt=new q(t=>t.complete());function tw(t){return t&&L(t.schedule)}function nw(t){return t[t.length-1]}function Rc(t){return L(nw(t))?t.pop():void 0}function Kn(t){return tw(nw(t))?t.pop():void 0}function rf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function rw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vr(t){return this instanceof Vr?(this.v=t,this):new Vr(t)}function sw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(g,_){s.push([h,p,g,_])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof Vr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ow(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof rw=="function"?rw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Mc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nc(t){return L(t?.then)}function xc(t){return L(t[Li])}function Pc(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function Oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kc=XM();function Fc(t){return L(t?.[kc])}function Lc(t){return sw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Vr(n.read());if(i)return yield Vr(void 0);yield yield Vr(r)}}finally{n.releaseLock()}})}function Vc(t){return L(t?.getReader)}function Te(t){if(t instanceof q)return t;if(t!=null){if(xc(t))return eN(t);if(Mc(t))return tN(t);if(Nc(t))return nN(t);if(Pc(t))return aw(t);if(Fc(t))return rN(t);if(Vc(t))return iN(t)}throw Oc(t)}function eN(t){return new q(e=>{let n=t[Li]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tN(t){return new q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nN(t){return new q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ec)})}function rN(t){return new q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function aw(t){return new q(e=>{sN(t,e).catch(n=>e.error(n))})}function iN(t){return aw(Lc(t))}function sN(t,e){var n,r,i,s;return iw(this,void 0,void 0,function*(){try{for(n=ow(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function at(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Qn(t,e=0){return X((n,r)=>{n.subscribe(K(r,i=>at(r,t,()=>r.next(i),e),()=>at(r,t,()=>r.complete(),e),i=>at(r,t,()=>r.error(i),e)))})}function Yn(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cw(t,e){return Te(t).pipe(Yn(e),Qn(e))}function uw(t,e){return Te(t).pipe(Yn(e),Qn(e))}function lw(t,e){return new q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function dw(t,e){return new q(n=>{let r;return at(n,e,()=>{r=t[kc](),at(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function Uc(t,e){if(!t)throw new Error("Iterable cannot be null");return new q(n=>{at(n,e,()=>{let r=t[Symbol.asyncIterator]();at(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function hw(t,e){return Uc(Lc(t),e)}function fw(t,e){if(t!=null){if(xc(t))return cw(t,e);if(Mc(t))return lw(t,e);if(Nc(t))return uw(t,e);if(Pc(t))return Uc(t,e);if(Fc(t))return dw(t,e);if(Vc(t))return hw(t,e)}throw Oc(t)}function re(t,e){return e?fw(t,e):Te(t)}function N(...t){let e=Kn(t);return re(t,e)}function Kt(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new q(e?i=>e.schedule(r,0,i):r)}function sf(t){return!!t&&(t instanceof q||L(t.lift)&&L(t.subscribe))}var En=Pi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return X((n,r)=>{let i=0;n.subscribe(K(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:oN}=Array;function aN(t,e){return oN(e)?t(...e):t(e)}function jc(t){return $(e=>aN(t,e))}var{isArray:cN}=Array,{getPrototypeOf:uN,prototype:lN,keys:dN}=Object;function Bc(t){if(t.length===1){let e=t[0];if(cN(e))return{args:e,keys:null};if(hN(e)){let n=dN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function hN(t){return t&&typeof t=="object"&&uN(t)===lN}function $c(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ao(...t){let e=Kn(t),n=Rc(t),{args:r,keys:i}=Bc(t);if(r.length===0)return re([],e);let s=new q(fN(r,e,i?o=>$c(i,o):ft));return n?s.pipe(jc(n)):s}function fN(t,e,n=ft){return r=>{pw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)pw(e,()=>{let u=re(t[c],e),l=!1;u.subscribe(K(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function pw(t,e,n){t?at(n,t,e):e()}function gw(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=_=>u<r?g(_):c.push(_),g=_=>{s&&e.next(_),u++;let v=!1;Te(n(_,l++)).subscribe(K(e,T=>{i?.(T),s?p(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){let T=c.shift();o?at(e,o,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(K(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Ce(t,e,n=1/0){return L(e)?Ce((r,i)=>$((s,o)=>e(r,s,i,o))(Te(t(r,i))),n):(typeof e=="number"&&(n=e),X((r,i)=>gw(r,i,t,n)))}function Jn(t=1/0){return Ce(ft,t)}function mw(){return Jn(1)}function Hi(...t){return mw()(re(t,Kn(t)))}function Hc(t){return new q(e=>{Te(t()).subscribe(e)})}function of(...t){let e=Rc(t),{args:n,keys:r}=Bc(t),i=new q(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Te(n[l]).subscribe(K(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?$c(r,a):a),s.complete())}))}});return e?i.pipe(jc(e)):i}function ct(t,e){return X((n,r)=>{let i=0;n.subscribe(K(r,s=>t.call(e,s,i++)&&r.next(s)))})}function pt(t){return X((e,n)=>{let r=null,i=!1,s;r=e.subscribe(K(n,void 0,void 0,o=>{s=Te(t(o,pt(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function yw(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(K(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Zn(t,e){return L(e)?Ce(t,e,1):Ce(t,1)}function Xn(t){return X((e,n)=>{let r=!1;e.subscribe(K(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>bt:X((e,n)=>{let r=0;e.subscribe(K(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function af(t){return $(()=>t)}function qc(t=pN){return X((e,n)=>{let r=!1;e.subscribe(K(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pN(){return new En}function qi(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ct((i,s)=>t(i,s,r)):ft,Dn(1),n?Xn(e):qc(()=>new En))}function zi(t){return t<=0?()=>bt:X((e,n)=>{let r=[];e.subscribe(K(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function cf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ct((i,s)=>t(i,s,r)):ft,zi(1),n?Xn(e):qc(()=>new En))}function zc(t,e){return X(yw(t,e,arguments.length>=2,!0))}function Gc(...t){let e=Kn(t);return X((n,r)=>{(e?Hi(t,n,e):Hi(t,n)).subscribe(r)})}function gt(t,e){return X((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(K(r,c=>{i?.unsubscribe();let u=0,l=s++;Te(t(c,l)).subscribe(i=K(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function uf(t){return X((e,n)=>{Te(t).subscribe(K(n,()=>n.complete(),so)),!n.closed&&e.subscribe(n)})}function ge(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(K(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ft}var rE="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(Ru(e,n)),this.code=e}};function Ru(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Sf=class extends ot{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=lf(s),i&&(i=lf(i)),o&&(o=lf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof we&&e.add(a),a}};function lf(t){return e=>{setTimeout(t,void 0,e)}}var he=Sf;var z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(z||{});function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function vw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iE||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{});function Ao(t){return{toString:t}.toString()}var Xe=globalThis;var Zi={},mt=[];function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function gN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var mN=ce({\u0275cmp:ce}),yN=ce({\u0275dir:ce}),vN=ce({\u0275pipe:ce}),_N=ce({\u0275mod:ce}),ou=ce({\u0275fac:ce}),uo=ce({__NG_ELEMENT_ID__:ce}),_w=ce({__NG_ENV_ID__:ce}),Re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Re||{});function sE(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Rf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];IN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function oE(t){return t===3||t===4||t===6}function IN(t){return t.charCodeAt(0)===64}function ho(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Iw(t,n,i,null,e[++r]):Iw(t,n,i,null,null))}}return t}function Iw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var aE="ng-template";function wN(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&sE(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function cE(t){return t.type===4&&t.value!==aE}function EN(t,e,n){let r=t.type===4&&!n?aE:t.value;return e===r}function DN(t,e,n){let r=4,i=t.attrs||[],s=bN(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Ft(r)&&!Ft(c))return!1;if(o&&Ft(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!EN(t,c,n)||c===""&&e.length===1){if(Ft(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!wN(t.attrs,u,n)){if(Ft(r))return!1;o=!0}continue}let l=r&8?"class":c,d=TN(l,i,cE(t),n);if(d===-1){if(Ft(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let p=r&8?h:null;if(p&&sE(p,u,0)!==-1||r&2&&u!==h){if(Ft(r))return!1;o=!0}}}}return Ft(r)||o}function Ft(t){return(t&1)===0}function TN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return AN(e,t)}function CN(t,e,n=!1){for(let r=0;r<e.length;r++)if(DN(t,e[r],n))return!0;return!1}function bN(t){for(let e=0;e<t.length;e++){let n=t[e];if(oE(n))return e}return t.length}function AN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ww(t,e){return t?":not("+e.trim()+")":e}function SN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ft(o)&&(e+=ww(s,i),i=""),r=o,s=s||!Ft(r);n++}return i!==""&&(e+=ww(s,i)),e}function RN(t){return t.map(SN).join(",")}function MN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ft(i))break;i=s}r++}return{attrs:e,classes:n}}function uE(t){return Ao(()=>{let e=pE(t),n=oe(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""});gE(n);let r=t.dependencies;return n.directiveDefs=Dw(r,!1),n.pipeDefs=Dw(r,!0),n.id=PN(n),n})}function NN(t){return rr(t)||lE(t)}function xN(t){return t!==null}function $e(t){return Ao(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ew(t,e){if(t==null)return Zi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Re.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Re.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ee(t){return Ao(()=>{let e=pE(t);return gE(e),e})}function rr(t){return t[mN]||null}function lE(t){return t[yN]||null}function dE(t){return t[vN]||null}function hE(t){let e=rr(t)||lE(t)||dE(t);return e!==null?e.standalone:!1}function fE(t,e){let n=t[_N]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function pE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ew(t.inputs,e),outputs:Ew(t.outputs),debugInfo:null}}function gE(t){t.features?.forEach(e=>e(t))}function Dw(t,e){if(!t)return null;let n=e?dE:NN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(xN)}function PN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var yt=0,k=1,P=2,Pe=3,Lt=4,Ut=5,Zt=6,fo=7,We=8,Xi=9,Cn=10,fe=11,po=12,Tw=13,ss=14,vt=15,So=16,Gi=17,bn=18,Mu=19,mE=20,nr=21,df=22,jr=23,Be=25,yE=1,go=6,An=7,au=8,es=9,je=10,Ap=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ap||{});function Tn(t){return Array.isArray(t)&&typeof t[yE]=="object"}function en(t){return Array.isArray(t)&&t[yE]===!0}function vE(t){return(t.flags&4)!==0}function Ro(t){return t.componentOffset>-1}function Sp(t){return(t.flags&1)===1}function ir(t){return!!t.template}function _E(t){return(t[P]&512)!==0}var IE="svg",ON="math",kN=!1;function FN(){return kN}function Vt(t){for(;Array.isArray(t);)t=t[yt];return t}function wE(t,e){return Vt(e[t])}function It(t,e){return Vt(e[t.index])}function Rp(t,e){return t.data[e]}function LN(t,e){return t[e]}function or(t,e){let n=e[t];return Tn(n)?n:n[yt]}function VN(t){return(t[P]&4)===4}function Mp(t){return(t[P]&128)===128}function UN(t){return en(t[Pe])}function cu(t,e){return e==null?null:t[e]}function EE(t){t[Gi]=0}function jN(t){t[P]&1024||(t[P]|=1024,Mp(t)&&mo(t))}function BN(t,e){for(;t>0;)e=e[ss],t--;return e}function Np(t){return!!(t[P]&9216||t[jr]?.dirty)}function Mf(t){Np(t)?mo(t):t[P]&64&&(FN()?(t[P]|=1024,mo(t)):t[Cn].changeDetectionScheduler?.notify())}function mo(t){t[Cn].changeDetectionScheduler?.notify();let e=yo(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Mp(e)));)e=yo(e)}function DE(t,e){if((t[P]&256)===256)throw new A(911,!1);t[nr]===null&&(t[nr]=[]),t[nr].push(e)}function $N(t,e){if(t[nr]===null)return;let n=t[nr].indexOf(e);n!==-1&&t[nr].splice(n,1)}function yo(t){let e=t[Pe];return en(e)?e[Pe]:e}var V={lFrame:NE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function HN(){return V.lFrame.elementDepthCount}function qN(){V.lFrame.elementDepthCount++}function zN(){V.lFrame.elementDepthCount--}function TE(){return V.bindingsEnabled}function Mo(){return V.skipHydrationRootTNode!==null}function GN(t){return V.skipHydrationRootTNode===t}function WN(t){V.skipHydrationRootTNode=t}function KN(){V.skipHydrationRootTNode=null}function te(){return V.lFrame.lView}function et(){return V.lFrame.tView}function v5(t){return V.lFrame.contextLView=t,t[We]}function _5(t){return V.lFrame.contextLView=null,t}function tt(){let t=CE();for(;t!==null&&t.type===64;)t=t.parent;return t}function CE(){return V.lFrame.currentTNode}function QN(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function No(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function bE(){return V.lFrame.isParent}function YN(){V.lFrame.isParent=!1}function JN(){return V.lFrame.contextLView}function ZN(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function XN(){return V.lFrame.bindingIndex}function ex(t){return V.lFrame.bindingIndex=t}function os(){return V.lFrame.bindingIndex++}function AE(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tx(){return V.lFrame.inI18n}function nx(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nf(e)}function rx(){return V.lFrame.currentDirectiveIndex}function Nf(t){V.lFrame.currentDirectiveIndex=t}function ix(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function SE(){return V.lFrame.currentQueryIndex}function xp(t){V.lFrame.currentQueryIndex=t}function sx(t){let e=t[k];return e.type===2?e.declTNode:e.type===1?t[Ut]:null}function RE(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&z.Host);)if(i=sx(s),i===null||(s=s[ss],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=V.lFrame=ME();return r.currentTNode=e,r.lView=t,!0}function Pp(t){let e=ME(),n=t[k];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ME(){let t=V.lFrame,e=t===null?null:t.child;return e===null?NE(t):e}function NE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xE(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var PE=xE;function Op(){let t=xE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ox(t){return(V.lFrame.contextLView=BN(t,V.lFrame.contextLView))[We]}function ar(){return V.lFrame.selectedIndex}function Br(t){V.lFrame.selectedIndex=t}function kp(){let t=V.lFrame;return Rp(t.tView,t.selectedIndex)}function I5(){V.lFrame.currentNamespace=IE}function w5(){ax()}function ax(){V.lFrame.currentNamespace=null}function OE(){return V.lFrame.currentNamespace}var kE=!0;function Fp(){return kE}function cr(t){kE=t}function cx(){return as(tt(),te())}function as(t,e){return new lt(It(t,e))}var lt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=cx;let t=e;return t})();function ux(t){return t instanceof lt?t.nativeElement:t}function lx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function dx(t){return t.flat(Number.POSITIVE_INFINITY)}function Lp(t,e){t.forEach(n=>Array.isArray(n)?Lp(n,e):e(n))}function FE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function fx(t,e,n){let r=xo(t,e);return r>=0?t[r|1]=n:(r=~r,hx(t,r,e,n)),r}function hf(t,e){let n=xo(t,e);if(n>=0)return t[n|1]}function xo(t,e){return px(t,e,1)}function px(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}function gx(){return this._results[Symbol.iterator]()}var xf=class t{get changes(){return this._changes??=new he}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gx)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=dx(e);(this._changesDetected=!lx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},mx="ngSkipHydration",yx="ngskiphydration";function LE(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===yx)return!0}return!1}function VE(t){return t.hasAttribute(mx)}function lu(t){return(t.flags&128)===128}function vx(t){if(lu(t))return!0;let e=t.parent;for(;e;){if(lu(t)||LE(e))return!0;e=e.parent}return!1}var Pf;function UE(t){Pf=t}function Nu(){if(Pf!==void 0)return Pf;if(typeof document<"u")return document;throw new A(210,!1)}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function He(t){return{providers:t.providers||[],imports:t.imports||[]}}function xu(t){return Cw(t,BE)||Cw(t,$E)}function jE(t){return xu(t)!==null}function Cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function _x(t){let e=t&&(t[BE]||t[$E]);return e||null}function bw(t){return t&&(t.hasOwnProperty(Aw)||t.hasOwnProperty(Ix))?t[Aw]:null}var BE=ce({\u0275prov:ce}),Aw=ce({\u0275inj:ce}),$E=ce({ngInjectableDef:ce}),Ix=ce({ngInjectorDef:ce}),b=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Po=new b("",{providedIn:"root",factory:()=>wx}),wx="ng",Vp=new b(""),dt=new b("",{providedIn:"platform",factory:()=>"unknown"});var E5=new b(""),Up=new b("",{providedIn:"root",factory:()=>Nu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ex=ce({__forward_ref__:ce});function tn(t){return t.__forward_ref__=tn,t.toString=function(){return ut(this())},t}function Ze(t){return HE(t)?t():t}function HE(t){return typeof t=="function"&&t.hasOwnProperty(Ex)&&t.__forward_ref__===tn}function qE(t){return t&&!!t.\u0275providers}function tr(t){return typeof t=="string"?t:t==null?"":String(t)}function Dx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():tr(t)}function Tx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function jp(t,e){throw new A(-201,!1)}var Of;function zE(){return Of}function At(t){let e=Of;return Of=t,e}function GE(t,e,n){let r=xu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&z.Optional)return null;if(e!==void 0)return e;jp(t,"Injector")}var Cx={},vo=Cx,kf="__NG_DI_FLAG__",du="ngTempTokenPath",bx="ngTokenPath",Ax=/\n/gm,Sx="\u0275",Sw="__source",Yi;function Rx(){return Yi}function er(t){let e=Yi;return Yi=t,e}function Mx(t,e=z.Default){if(Yi===void 0)throw new A(-203,!1);return Yi===null?GE(t,void 0,e):Yi.get(t,e&z.Optional?null:void 0,e)}function S(t,e=z.Default){return(zE()||Mx)(Ze(t),e)}function I(t,e=z.Default){return S(t,Pu(e))}function Pu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ff(t){let e=[];for(let n=0;n<t.length;n++){let r=Ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){let a=r[o],c=Nx(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function WE(t,e){return t[kf]=e,t.prototype[kf]=e,t}function Nx(t){return t[kf]}function xx(t,e,n,r){let i=t[du];throw e[Sw]&&i.unshift(e[Sw]),t.message=Px(`
`+t.message,i,n,r),t[bx]=i,t[du]=null,t}function Px(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Sx?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ax,`
  `)}`}function Ox(){let t=new Kr;return I(dt)==="browser"&&(t.store=kx(Nu(),I(Po))),t}var Kr=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=R({token:e,providedIn:"root",factory:Ox});let t=e;return t})();function kx(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var KE="h",QE="b",Lf=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Lf||{}),Fx="e",Lx="t",Bp="c",YE="x",hu="r",Vx="i",Ux="n",jx="d",Bx="__nghData__",JE=Bx,ff="ngh",$x="nghm",ZE=()=>null;function Hx(t,e,n=!1){let r=t.getAttribute(ff);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let l=e.get(Kr,null,{optional:!0});l!==null&&(c=l.get(JE,[])[Number(r)])}let u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,Ou(u,0,t.nextSibling)),a?t.setAttribute(ff,a):t.removeAttribute(ff),u}function qx(){ZE=Hx}function $p(t,e,n=!1){return ZE(t,e,n)}function zx(t){let e=t._lView;return e[k].type===2?null:(_E(e)&&(e=e[Be]),e)}function Gx(t){return t.textContent?.replace(/\s/gm,"")}function Wx(t){let e=Nu(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=Gx(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Ou(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Vf(t,e){return t.segmentHeads?.[e]??null}function Kx(t,e){let n=t.data,r=n[Fx]?.[e]??null;return r===null&&n[Bp]?.[e]&&(r=Hp(t,e)),r}function XE(t,e){return t.data[Bp]?.[e]??null}function Hp(t,e){let n=XE(t,e)??[],r=0;for(let i of n)r+=i[hu]*(i[YE]??1);return r}function ku(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[jx];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Wc="__parameters__";function Qx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function eD(t,e,n){return Ao(()=>{let r=Qx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Wc)?c[Wc]:Object.defineProperty(c,Wc,{value:[]})[Wc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var nt=WE(eD("Optional"),8);var tD=WE(eD("SkipSelf"),4);function ts(t,e){let n=t.hasOwnProperty(ou);return n?t[ou]:null}var $r=new b(""),nD=new b("",-1),rD=new b(""),fu=class{get(e,n=vo){if(n===vo){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}};function Oo(t){return{\u0275providers:t}}function Yx(...t){return{\u0275providers:iD(!0,t),\u0275fromNgModule:!0}}function iD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Lp(e,o=>{let a=o;Uf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sD(i,s),n}function sD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];qp(i,s=>{e(s,r)})}}function Uf(t,e,n,r){if(t=Ze(t),!t)return!1;let i=null,s=bw(t),o=!s&&rr(t);if(!s&&!o){let c=t.ngModule;if(s=bw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Uf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Lp(s.imports,l=>{Uf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&sD(u,e)}if(!a){let u=ts(i)||(()=>new i);e({provide:i,useFactory:u,deps:mt},i),e({provide:rD,useValue:i,multi:!0},i),e({provide:$r,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;qp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function qp(t,e){for(let n of t)qE(n)&&(n=n.\u0275providers),Array.isArray(n)?qp(n,e):e(n)}var Jx=ce({provide:String,useValue:ce});function oD(t){return t!==null&&typeof t=="object"&&Jx in t}function Zx(t){return!!(t&&t.useExisting)}function Xx(t){return!!(t&&t.useFactory)}function ns(t){return typeof t=="function"}function eP(t){return!!t.useClass}var Fu=new b(""),eu={},tP={},pf;function zp(){return pf===void 0&&(pf=new fu),pf}var _t=class{},_o=class extends _t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bf(e,o=>this.processProvider(o)),this.records.set(nD,Wi(void 0,this)),i.has("environment")&&this.records.set(_t,Wi(void 0,this));let s=this.records.get(Fu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rD,mt,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=er(this),r=At(void 0),i;try{return e()}finally{er(n),At(r)}}get(e,n=vo,r=z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_w))return e[_w](this);r=Pu(r);let i,s=er(this),o=At(void 0);try{if(!(r&z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=oP(e)&&xu(e);u&&this.injectableDefInScope(u)?c=Wi(jf(e),eu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&z.Self?zp():this.parent;return n=r&z.Optional&&n===vo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[du]=a[du]||[]).unshift(ut(e)),s)throw a;return xx(a,e,"R3InjectorError",this.source)}else throw a}finally{At(o),er(s)}}resolveInjectorInitializers(){let e=Z(null),n=er(this),r=At(void 0),i;try{let s=this.get($r,mt,z.Self);for(let o of s)o()}finally{er(n),At(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=Ze(e);let n=ns(e)?e:Ze(e&&e.provide),r=rP(e);if(!ns(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wi(void 0,eu,!0),i.factory=()=>Ff(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===eu&&(n.value=tP,n.value=n.factory()),typeof n.value=="object"&&n.value&&sP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jf(t){let e=xu(t),n=e!==null?e.factory:ts(t);if(n!==null)return n;if(t instanceof b)throw new A(204,!1);if(t instanceof Function)return nP(t);throw new A(204,!1)}function nP(t){if(t.length>0)throw new A(204,!1);let n=_x(t);return n!==null?()=>n.factory(t):()=>new t}function rP(t){if(oD(t))return Wi(void 0,t.useValue);{let e=aD(t);return Wi(e,eu)}}function aD(t,e,n){let r;if(ns(t)){let i=Ze(t);return ts(i)||jf(i)}else if(oD(t))r=()=>Ze(t.useValue);else if(Xx(t))r=()=>t.useFactory(...Ff(t.deps||[]));else if(Zx(t))r=()=>S(Ze(t.useExisting));else{let i=Ze(t&&(t.useClass||t.provide));if(iP(t))r=()=>new i(...Ff(t.deps));else return ts(i)||jf(i)}return r}function Wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iP(t){return!!t.deps}function sP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function oP(t){return typeof t=="function"||typeof t=="object"&&t instanceof b}function Bf(t,e){for(let n of t)Array.isArray(n)?Bf(n,e):n&&qE(n)?Bf(n.\u0275providers,e):e(n)}function Nn(t,e){t instanceof _o&&t.assertNotDestroyed();let n,r=er(t),i=At(void 0);try{return e()}finally{er(r),At(i)}}function aP(t){if(!zE()&&!Rx())throw new A(-203,!1)}function cP(t){let e=Xe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function uP(t){return typeof t=="function"}var $f=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function jt(){return uD}function uD(t){return t.type.prototype.ngOnChanges&&(t.setInput=dP),lP}jt.ngInherit=!0;function lP(){let t=dD(this),e=t?.current;if(e){let n=t.previous;if(n===Zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dP(t,e,n,r,i){let s=this.declaredInputs[r],o=dD(t)||hP(t,{previous:Zi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new $f(u&&u.currentValue,n,c===Zi),cD(t,e,i,n)}var lD="__ngSimpleChanges__";function dD(t){return t[lD]||null}function hP(t,e){return t[lD]=e}var Rw=null;var Qt=function(t,e,n){Rw?.(t,e,n)};function fP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=uD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Gp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function tu(t,e,n){hD(t,e,3,n)}function nu(t,e,n,r){(t[P]&3)===n&&hD(t,e,n,r)}function gf(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function hD(t,e,n,r){let i=r!==void 0?t[Gi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Gi]+=65536),(a<s||s==-1)&&(pP(t,n,e,c),t[Gi]=(t[Gi]&4294901760)+c+2),c++}function Mw(t,e){Qt(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),Qt(5,t,e)}}function pP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[Gi]>>16&&(t[P]&3)===e&&(t[P]+=16384,Mw(a,s)):Mw(a,s)}var Ji=-1,Hr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function gP(t){return t instanceof Hr}function mP(t){return(t.flags&8)!==0}function yP(t){return(t.flags&16)!==0}function fD(t){return t!==Ji}function pu(t){return t&32767}function vP(t){return t>>16}function gu(t,e){let n=vP(t),r=e;for(;n>0;)r=r[ss],n--;return r}var Hf=!0;function Nw(t){let e=Hf;return Hf=t,e}var _P=256,pD=_P-1,gD=5,IP=0,Yt={};function wP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(uo)&&(r=n[uo]),r==null&&(r=n[uo]=IP++);let i=r&pD,s=1<<i;e.data[t+(i>>gD)]|=s}function mu(t,e){let n=mD(t,e);if(n!==-1)return n;let r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,mf(r.data,t),mf(e,null),mf(r.blueprint,null));let i=Wp(t,e),s=t.injectorIndex;if(fD(i)){let o=pu(i),a=gu(i,e),c=a[k].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function mf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Wp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=wD(i),r===null)return Ji;if(n++,i=i[ss],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function qf(t,e,n){wP(t,e,n)}function EP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(oE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function yD(t,e,n){if(n&z.Optional||t!==void 0)return t;jp(e,"NodeInjector")}function vD(t,e,n,r){if(n&z.Optional&&r===void 0&&(r=null),!(n&(z.Self|z.Host))){let i=t[Xi],s=At(void 0);try{return i?i.get(e,r,n&z.Optional):GE(e,r,n&z.Optional)}finally{At(s)}}return yD(r,e,n)}function _D(t,e,n,r=z.Default,i){if(t!==null){if(e[P]&2048&&!(r&z.Self)){let o=bP(t,e,n,r,Yt);if(o!==Yt)return o}let s=ID(t,e,n,r,Yt);if(s!==Yt)return s}return vD(e,n,r,i)}function ID(t,e,n,r,i){let s=TP(n);if(typeof s=="function"){if(!RE(e,t,r))return r&z.Host?yD(i,n,r):vD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&z.Optional))jp(n);else return o}finally{PE()}}else if(typeof s=="number"){let o=null,a=mD(t,e),c=Ji,u=r&z.Host?e[vt][Ut]:null;for((a===-1||r&z.SkipSelf)&&(c=a===-1?Wp(t,e):e[a+8],c===Ji||!Pw(r,!1)?a=-1:(o=e[k],a=pu(c),e=gu(c,e)));a!==-1;){let l=e[k];if(xw(s,a,l.data)){let d=DP(a,e,n,o,r,u);if(d!==Yt)return d}c=e[a+8],c!==Ji&&Pw(r,e[k].data[a+8]===u)&&xw(s,a,e)?(o=l,a=pu(c),e=gu(c,e)):a=-1}}return i}function DP(t,e,n,r,i,s){let o=e[k],a=o.data[t+8],c=r==null?Ro(a)&&Hf:r!=o&&(a.type&3)!==0,u=i&z.Host&&s===a,l=ru(a,o,n,c,u);return l!==null?qr(e,o,l,a):Yt}function ru(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let g=o[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(i){let p=o[c];if(p&&ir(p)&&p.type===n)return c}return null}function qr(t,e,n,r){let i=t[n],s=e.data;if(gP(i)){let o=i;o.resolving&&Tx(Dx(s[n]));let a=Nw(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?At(o.injectImpl):null,l=RE(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&fP(n,s[n],e)}finally{u!==null&&At(u),Nw(a),o.resolving=!1,PE()}}return i}function TP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(uo)?t[uo]:void 0;return typeof e=="number"?e>=0?e&pD:CP:e}function xw(t,e,n){let r=1<<t;return!!(n[e+(t>>gD)]&r)}function Pw(t,e){return!(t&z.Self)&&!(t&z.Host&&e)}var Ur=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _D(this._tNode,this._lView,e,Pu(r),n)}};function CP(){return new Ur(tt(),te())}function ur(t){return Ao(()=>{let e=t.prototype.constructor,n=e[ou]||zf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ou]||zf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function zf(t){return HE(t)?()=>{let e=zf(Ze(t));return e&&e()}:ts(t)}function bP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=ID(s,o,n,r|z.Self,Yt);if(a!==Yt)return a;let c=s.parent;if(!c){let u=o[mE];if(u){let l=u.get(n,Yt,r);if(l!==Yt)return l}c=wD(o),o=o[ss]}s=c}return i}function wD(t){let e=t[k],n=e.type;return n===2?e.declTNode:n===1?t[Ut]:null}function Kp(t){return EP(tt(),t)}function Ow(t,e=null,n=null,r){let i=ED(t,e,n,r);return i.resolveInjectorInitializers(),i}function ED(t,e=null,n=null,r,i=new Set){let s=[n||mt,Yx(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new _o(s,e||zp(),r||null,i)}var Oe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Ow({name:""},i,r,"");{let s=r.name??"";return Ow({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=vo,e.NULL=new fu,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>S(nD)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),AP="ngOriginalError";function yf(t){return t[AP]}var Xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yf(e);for(;n&&yf(n);)n=yf(n);return n||null}},DD=new b("",{providedIn:"root",factory:()=>I(Xt).handleError.bind(void 0)}),Kc=new b(""),TD=!1,CD=new b("",{providedIn:"root",factory:()=>TD});var Qc;function SP(){if(Qc===void 0&&(Qc=null,Xe.trustedTypes))try{Qc=Xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qc}function kw(t){return SP()?.createScriptURL(t)||t}var yu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rE})`}};function ko(t){return t instanceof yu?t.changingThisBreaksApplicationSecurity:t}function Qp(t,e){let n=RP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${rE})`)}return n===e}function RP(t){return t instanceof yu&&t.getTypeName()||null}var MP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bD(t){return t=String(t),t.match(MP)?t:"unsafe:"+t}var Lu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lu||{});function NP(t){let e=SD();return e?e.sanitize(Lu.URL,t)||"":Qp(t,"URL")?ko(t):bD(tr(t))}function xP(t){let e=SD();if(e)return kw(e.sanitize(Lu.RESOURCE_URL,t)||"");if(Qp(t,"ResourceURL"))return kw(ko(t));throw new A(904,!1)}function PP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?xP:NP}function AD(t,e,n){return PP(e,n)(t)}function SD(){let t=te();return t&&t[Cn].sanitizer}var OP=/^>|^->|<!--|-->|--!>|<!-$/g,kP=/(<|>)/g,FP="\u200B$1\u200B";function LP(t){return t.replace(OP,e=>e.replace(kP,FP))}var RD=new Map,VP=0;function UP(){return VP++}function jP(t){RD.set(t[Mu],t)}function BP(t){RD.delete(t[Mu])}var Fw="__ngContext__";function zr(t,e){Tn(e)?(t[Fw]=e[Mu],jP(e)):t[Fw]=e}function D5(t){return t.ownerDocument.defaultView}function $P(t){return t.ownerDocument.body}function MD(t){return t instanceof Function?t():t}function co(t){return(t??I(Oe)).get(dt)==="browser"}var Sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sn||{}),HP;function Yp(t,e){return HP(t,e)}function Ki(t,e,n,r,i){if(r!=null){let s,o=!1;en(r)?s=r:Tn(r)&&(o=!0,r=r[yt]);let a=Vt(r);t===0&&n!==null?i==null?kD(e,n,a):vu(e,n,a,i||null,!0):t===1&&n!==null?vu(e,n,a,i||null,!0):t===2?LD(e,a,o):t===3&&e.destroyNode(a),s!=null&&oO(e,t,s,n,i)}}function ND(t,e){return t.createText(e)}function qP(t,e,n){t.setValue(e,n)}function xD(t,e){return t.createComment(LP(e))}function Jp(t,e,n){return t.createElement(e,n)}function zP(t,e){PD(t,e),e[yt]=null,e[Ut]=null}function GP(t,e,n,r,i,s){r[yt]=i,r[Ut]=e,Uu(t,r,n,1,i,s)}function PD(t,e){Uu(t,e,e[fe],2,null,null)}function WP(t){let e=t[po];if(!e)return vf(t[k],t);for(;e;){let n=null;if(Tn(e))n=e[po];else{let r=e[je];r&&(n=r)}if(!n){for(;e&&!e[Lt]&&e!==t;)Tn(e)&&vf(e[k],e),e=e[Pe];e===null&&(e=t),Tn(e)&&vf(e[k],e),n=e&&e[Lt]}e=n}}function KP(t,e,n,r){let i=je+r,s=n.length;r>0&&(n[i-1][Lt]=e),r<s-je?(e[Lt]=n[i],FE(n,je+r,e)):(n.push(e),e[Lt]=null),e[Pe]=n;let o=e[So];o!==null&&n!==o&&QP(o,e);let a=e[bn];a!==null&&a.insertView(t),Mf(e),e[P]|=128}function QP(t,e){let n=t[es],i=e[Pe][Pe][vt];e[vt]!==i&&(t[P]|=Ap.HasTransplantedViews),n===null?t[es]=[e]:n.push(e)}function OD(t,e){let n=t[es],r=n.indexOf(e);n.splice(r,1)}function Io(t,e){if(t.length<=je)return;let n=je+e,r=t[n];if(r){let i=r[So];i!==null&&i!==t&&OD(i,r),e>0&&(t[n-1][Lt]=r[Lt]);let s=uu(t,je+e);zP(r[k],r);let o=s[bn];o!==null&&o.detachView(s[k]),r[Pe]=null,r[Lt]=null,r[P]&=-129}return r}function Vu(t,e){if(!(e[P]&256)){let n=e[fe];n.destroyNode&&Uu(t,e,n,3,null,null),WP(e)}}function vf(t,e){if(e[P]&256)return;let n=Z(null);try{e[P]&=-129,e[P]|=256,e[jr]&&GI(e[jr]),JP(t,e),YP(t,e),e[k].type===1&&e[fe].destroy();let r=e[So];if(r!==null&&en(e[Pe])){r!==e[Pe]&&OD(r,e);let i=e[bn];i!==null&&i.detachView(t)}BP(e)}finally{Z(n)}}function YP(t,e){let n=t.cleanup,r=e[fo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[fo]=null);let i=e[nr];if(i!==null){e[nr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function JP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Hr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qt(4,a,c);try{c.call(a)}finally{Qt(5,a,c)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function ZP(t,e,n){return XP(t,e.parent,n)}function XP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[yt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return It(r,n)}}function vu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function kD(t,e,n){t.appendChild(e,n)}function Lw(t,e,n,r,i){r!==null?vu(t,e,n,r,i):kD(t,e,n)}function eO(t,e,n,r){t.removeChild(e,n,r)}function Zp(t,e){return t.parentNode(e)}function tO(t,e){return t.nextSibling(e)}function nO(t,e,n){return iO(t,e,n)}function rO(t,e,n){return t.type&40?It(t,n):null}var iO=rO,Vw;function Xp(t,e,n,r){let i=ZP(t,r,e),s=e[fe],o=r.parent||e[Ut],a=nO(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Lw(s,i,n[c],a,!1);else Lw(s,i,n,a,!1);Vw!==void 0&&Vw(s,r,e,n,i)}function iu(t,e){if(e!==null){let n=e.type;if(n&3)return It(e,t);if(n&4)return Gf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return iu(t,r);{let i=t[e.index];return en(i)?Gf(-1,i):Vt(i)}}else{if(n&32)return Yp(e,t)()||Vt(t[e.index]);{let r=FD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=yo(t[vt]);return iu(i,r)}else return iu(t,e.next)}}}return null}function FD(t,e){if(e!==null){let r=t[vt][Ut],i=e.projection;return r.projection[i]}return null}function Gf(t,e){let n=je+t+1;if(n<e.length){let r=e[n],i=r[k].firstChild;if(i!==null)return iu(r,i)}return e[An]}function LD(t,e,n){let r=Zp(t,e);r&&eO(t,r,e,n)}function VD(t){t.textContent=""}function eg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&zr(Vt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)eg(t,e,n.child,r,i,s,!1),Ki(e,t,i,a,s);else if(c&32){let u=Yp(n,r),l;for(;l=u();)Ki(e,t,i,l,s);Ki(e,t,i,a,s)}else c&16?sO(t,e,r,n,i,s):Ki(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Uu(t,e,n,r,i,s){eg(n,r,t.firstChild,e,i,s,!1)}function sO(t,e,n,r,i,s){let o=n[vt],c=o[Ut].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ki(e,t,i,l,s)}else{let u=c,l=o[Pe];lu(r)&&(u.flags|=128),eg(t,e,u,l,i,s,!0)}}function oO(t,e,n,r,i){let s=n[An],o=Vt(n);s!==o&&Ki(e,t,r,s,i);for(let a=je;a<n.length;a++){let c=n[a];Uu(c[k],c,t,e,r,s)}}function aO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Sn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Sn.Important),t.setStyle(n,r,i,s))}}function cO(t,e,n){t.setAttribute(e,"style",n)}function UD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Rf(t,e,r),i!==null&&UD(t,e,i),s!==null&&cO(t,e,s)}var xn={};function T5(t=1){BD(et(),te(),ar()+t,!1)}function BD(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&tu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&nu(e,s,0,n)}Br(n)}function U(t,e=z.Default){let n=te();if(n===null)return S(t,e);let r=tt();return _D(r,n,Ze(t),e)}function $D(){let t="invalid";throw new Error(t)}function HD(t,e,n,r,i,s){let o=Z(null);try{let a=null;i&Re.SignalBased&&(a=e[r][$h]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Re.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):cD(e,a,r,s)}finally{Z(o)}}function uO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Br(~i);else{let s=i,o=n[++r],a=n[++r];nx(o,s);let c=e[s];a(2,c)}}}finally{Br(-1)}}function ju(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[yt]=i,d[P]=r|4|128|8|64,(u!==null||t&&t[P]&2048)&&(d[P]|=2048),EE(d),d[Pe]=d[ss]=t,d[We]=n,d[Cn]=o||t&&t[Cn],d[fe]=a||t&&t[fe],d[Xi]=c||t&&t[Xi]||null,d[Ut]=s,d[Mu]=UP(),d[Zt]=l,d[mE]=u,d[vt]=e.type==2?t[vt]:d,d}function Bu(t,e,n,r,i){let s=t.data[e];if(s===null)s=lO(t,e,n,r,i),tx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=QN();s.injectorIndex=o===null?-1:o.injectorIndex}return No(s,!0),s}function lO(t,e,n,r,i){let s=CE(),o=bE(),a=o?s:s&&s.parent,c=t.data[e]=yO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function qD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function zD(t,e,n,r,i){let s=ar(),o=r&2;try{Br(-1),o&&e.length>Be&&BD(t,e,Be,!1),Qt(o?2:0,i),n(r,i)}finally{Br(s),Qt(o?3:1,i)}}function GD(t,e,n){if(vE(e)){let r=Z(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Z(r)}}}function WD(t,e,n){TE()&&(DO(t,e,n,It(n,e)),(n.flags&64)===64&&eT(t,e,n))}function KD(t,e,n=It){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function QD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function tg(t,e,n,r,i,s,o,a,c,u,l){let d=Be+r,h=d+i,p=dO(d,h),g=typeof u=="function"?u():u;return p[k]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function dO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:xn);return n}function hO(t,e,n,r){let s=r.get(CD,TD)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return fO(o),o}function fO(t){YD(t)}var YD=()=>null;function pO(t){VE(t)?VD(t):Wx(t)}function gO(){YD=pO}function mO(t,e,n,r){let i=rT(e);i.push(n),t.firstCreatePass&&iT(t).push(r,i.length-1)}function yO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Mo()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Uw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Re.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?jw(r,n,u,a,c):jw(r,n,u,a)}return r}function jw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function vO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,g=h?h.outputs:null;c=Uw(0,d.inputs,l,c,p),u=Uw(1,d.outputs,l,u,g);let _=c!==null&&o!==null&&!cE(e)?OO(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function _O(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function JD(t,e,n,r,i,s,o,a){let c=It(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(ng(t,n,l,r,i),Ro(e)&&IO(n,e.index)):e.type&3?(r=_O(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function IO(t,e){let n=or(e,t);n[P]&16||(n[P]|=64)}function ZD(t,e,n,r){if(TE()){let i=r===null?null:{"":-1},s=CO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&XD(t,e,n,o,i,a),i&&bO(n,r,i)}n.mergedAttrs=ho(n.mergedAttrs,n.attrs)}function XD(t,e,n,r,i,s){for(let u=0;u<r.length;u++)qf(mu(n,e),t,r[u].type);SO(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=qD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=ho(n.mergedAttrs,l.hostAttrs),RO(t,n,e,c,l),AO(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}vO(t,n,s)}function wO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;EO(o)!=a&&o.push(a),o.push(n,r,s)}}function EO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function DO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Ro(n)&&MO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||mu(n,e),zr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=qr(e,t,a,n);if(zr(u,e),o!==null&&PO(e,a-i,u,c,n,o),ir(c)){let l=or(n.index,e);l[We]=qr(e,t,a,n)}}}function eT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=rx();try{Br(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Nf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&TO(c,u)}}finally{Br(-1),Nf(o)}}function TO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function CO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(CN(e,o.selectors,!1))if(r||(r=[]),ir(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Wf(t,e,c)}else r.unshift(o),Wf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Wf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function AO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ir(e)&&(n[""]=t)}}function SO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function RO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ts(i.type,!0)),o=new Hr(s,ir(i),U);t.blueprint[r]=o,n[r]=o,wO(t,e,r,qD(t,n,i.hostVars,xn),i)}function MO(t,e,n){let r=It(e,t),i=QD(n),s=t[Cn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=$u(t,ju(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function NO(t,e,n,r,i,s){let o=It(t,e);xO(e[fe],o,s,t.value,n,r,i)}function xO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?tr(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function PO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];HD(r,n,c,u,l,d)}}function OO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function tT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function nT(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];xp(s),a.contentQueries(2,e[o],o)}}}finally{Z(r)}}}function $u(t,e){return t[po]?t[Tw][Lt]=e:t[po]=e,t[Tw]=e,e}function Kf(t,e,n){xp(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function rT(t){return t[fo]||(t[fo]=[])}function iT(t){return t.cleanup||(t.cleanup=[])}function sT(t,e){let n=t[Xi],r=n?n.get(Xt,null):null;r&&r.handleError(e)}function ng(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];HD(l,u,r,a,c,i)}}function oT(t,e,n){let r=wE(e,t);qP(t[fe],r,n)}function kO(t,e){let n=or(e,t),r=n[k];FO(r,n);let i=n[yt];i!==null&&n[Zt]===null&&(n[Zt]=$p(i,n[Xi])),rg(r,n,n[We])}function FO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rg(t,e,n){Pp(e);try{let r=t.viewQuery;r!==null&&Kf(1,r,n);let i=t.template;i!==null&&zD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[bn]?.finishViewCreation(t),t.staticContentQueries&&nT(t,e),t.staticViewQueries&&Kf(2,t.viewQuery,n);let s=t.components;s!==null&&LO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,Op()}}function LO(t,e){for(let n=0;n<e.length;n++)kO(t,e[n])}function Hu(t,e,n,r){let i=Z(null);try{let s=e.tView,a=t[P]&4096?4096:16,c=ju(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];c[So]=u;let l=t[bn];return l!==null&&(c[bn]=l.createEmbeddedView(s)),rg(s,c,n),c}finally{Z(i)}}function aT(t,e){let n=je+e;if(n<t.length)return t[n]}function wo(t,e){return!e||e.firstChild===null||lu(t)}function qu(t,e,n,r=!0){let i=e[k];if(KP(i,e,t,n),r){let o=Gf(n,t),a=e[fe],c=Zp(a,t[An]);c!==null&&GP(i,t[Ut],a,e,c,o)}let s=e[Zt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function cT(t,e){let n=Io(t,e);return n!==void 0&&Vu(n[k],n),n}function _u(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Vt(s)),en(s)&&VO(s,r);let o=n.type;if(o&8)_u(t,e,n.child,r);else if(o&32){let a=Yp(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=FD(e,n);if(Array.isArray(a))r.push(...a);else{let c=yo(e[vt]);_u(c[k],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function VO(t,e){for(let n=je;n<t.length;n++){let r=t[n],i=r[k].firstChild;i!==null&&_u(r[k],r,i,e)}t[An]!==t[yt]&&e.push(t[An])}var uT=[];function UO(t){return t[jr]??jO(t)}function jO(t){let e=uT.pop()??Object.create($O);return e.lView=t,e}function BO(t){t.lView[jr]!==t&&(t.lView=null,uT.push(t))}var $O=oe(D({},HI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mo(t.lView)},consumerOnSignalRead(){this.lView[jr]=this}});function lT(t){return hT(t[po])}function dT(t){return hT(t[Lt])}function hT(t){for(;t!==null&&!en(t);)t=t[Lt];return t}var fT=100;function pT(t,e=!0,n=0){let r=t[Cn],i=r.rendererFactory,s=!1;s||i.begin?.();try{HO(t,n)}catch(o){throw e&&sT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function HO(t,e){Qf(t,e);let n=0;for(;Np(t);){if(n===fT)throw new A(103,!1);n++,Qf(t,1)}}function qO(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1;!s&&e[Cn].inlineEffectRunner?.flush(),Pp(e);let o=null,a=null;!s&&zO(t)&&(a=UO(e),o=qI(a));try{EE(e),ex(t.bindingStartIndex),n!==null&&zD(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&tu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&nu(e,d,0,null),gf(e,0)}if(GO(e),gT(e,0),t.contentQueries!==null&&nT(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&tu(e,d)}else{let d=t.contentHooks;d!==null&&nu(e,d,1),gf(e,1)}uO(t,e);let u=t.components;u!==null&&yT(e,u,0);let l=t.viewQuery;if(l!==null&&Kf(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&tu(e,d)}else{let d=t.viewHooks;d!==null&&nu(e,d,2),gf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[df]){for(let d of e[df])d();e[df]=null}s||(e[P]&=-73)}catch(c){throw mo(e),c}finally{a!==null&&(zI(a,o),BO(a)),Op()}}function zO(t){return t.type!==2}function gT(t,e){for(let n=lT(t);n!==null;n=dT(n))for(let r=je;r<n.length;r++){let i=n[r];mT(i,e)}}function GO(t){for(let e=lT(t);e!==null;e=dT(e)){if(!(e[P]&Ap.HasTransplantedViews))continue;let n=e[es];for(let r=0;r<n.length;r++){let i=n[r],s=i[Pe];jN(i)}}}function WO(t,e,n){let r=or(e,t);mT(r,n)}function mT(t,e){Mp(t)&&Qf(t,e)}function Qf(t,e){let r=t[k],i=t[P],s=t[jr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Hh(s)),s&&(s.dirty=!1),t[P]&=-9217,o)qO(r,t,r.template,t[We]);else if(i&8192){gT(t,1);let a=r.components;a!==null&&yT(t,a,1)}}function yT(t,e,n){for(let r=0;r<e.length;r++)WO(t,e[r],n)}function ig(t){for(t[Cn].changeDetectionScheduler?.notify();t;){t[P]|=64;let e=yo(t);if(_E(t)&&!e)return t;t=e}return null}var Gr=class{get rootNodes(){let e=this._lView,n=e[k];return _u(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pe];if(en(e)){let n=e[au],r=n?n.indexOf(this):-1;r>-1&&(Io(e,r),uu(n,r))}this._attachedToViewContainer=!1}Vu(this._lView[k],this._lView)}onDestroy(e){DE(this._lView,e)}markForCheck(){ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[P]&=-129}reattach(){Mf(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,pT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,PD(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,Mf(this._lView)}},Eo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YO;let t=e;return t})(),KO=Eo,QO=class extends KO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Hu(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Gr(i)}};function YO(){return zu(tt(),te())}function zu(t,e){return t.type&4?new QO(e,t,as(t,e)):null}function vT(t){let e=t[go]??[],r=t[Pe][fe];for(let i of e)JO(i,r);t[go]=mt}function JO(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[hu];for(;n<i;){let s=r.nextSibling;LD(e,r,!1),r=s,n++}}}function _T(t){vT(t);for(let e=je;e<t.length;e++)Iu(t[e])}function Iu(t){let e=t[k];for(let n=Be;n<e.bindingStartIndex;n++)if(en(t[n])){let r=t[n];_T(r)}else Tn(t[n])&&Iu(t[n])}function ZO(t){let e=t._views;for(let n of e){let r=zx(n);if(r!==null&&r[yt]!==null)if(Tn(r))Iu(r);else{let i=r[yt];Iu(i),_T(r)}}}var XO=new RegExp(`^(\\d+)*(${QE}|${KE})*(.*)`);function ek(t){let e=t.match(XO),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[o,...a]}function tk(t){return!t.prev&&t.parent?.type===8}function _f(t){return t.index-Be}function Gu(t,e,n,r){let i=null,s=_f(r),o=t.data[Ux];if(o?.[s])i=rk(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(tk(r)){let u=_f(r.parent);i=Vf(t,u)}else{let u=It(c,n);if(a)i=u.firstChild;else{let l=_f(c),d=Vf(t,l);if(c.type===2&&d){let p=Hp(t,l)+1;i=Wu(p,d)}else i=u.nextSibling}}}return i}function Wu(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function nk(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Lf.FirstChild:n=n.firstChild;break;case Lf.NextSibling:n=n.nextSibling;break}}return n}function rk(t,e){let[n,...r]=ek(t),i;if(n===KE)i=e[vt][yt];else if(n===QE)i=$P(e[vt][yt]);else{let s=Number(n);i=Vt(e[s+Be])}return nk(i,r)}function ik(t,e){let n=[];for(let r of e)for(let i=0;i<(r[YE]??1);i++){let s={data:r,firstChild:null};r[hu]>0&&(s.firstChild=t,t=Wu(r[hu],t)),n.push(s)}return[t,n]}var IT=()=>null;function sk(t,e){let n=t[go];return!e||n===null||n.length===0?null:n[0].data[Vx]===e?n.shift():(vT(t),null)}function ok(){IT=sk}function Do(t,e){return IT(t,e)}var Yf=class{},Jf=class{},wu=class{};function ak(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[ck]=t,e}var ck="ngComponent";var Zf=class{resolveComponentFactory(e){throw ak(e)}},Ku=(()=>{let e=class e{};e.NULL=new Zf;let t=e;return t})(),To=class{},nn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>uk();let t=e;return t})();function uk(){let t=te(),e=tt(),n=or(e.index,t);return(Tn(n)?n:t)[fe]}var lk=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),If={},wT=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Xf=class extends wT{constructor(e){super(),this._lView=e}onDestroy(e){return DE(this._lView,e),()=>$N(this._lView,e)}};function dk(){return new Xf(te())}var Bw=new Set;function lr(t){Bw.has(t)||(Bw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $w(...t){}function hk(){let t=typeof Xe.requestAnimationFrame=="function",e=Xe[t?"requestAnimationFrame":"setTimeout"],n=Xe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Q=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new he(!1),this.onMicrotaskEmpty=new he(!1),this.onStable=new he(!1),this.onError=new he(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=hk().nativeRequestAnimationFrame,gk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,fk,$w,$w);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},fk={};function sg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ep(t),t.isCheckStableRunning=!0,sg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ep(t))}function gk(t){let e=()=>{pk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(mk(a))return n.invokeTask(i,s,o,a);try{return Hw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qw(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Hw(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),qw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ep(t),sg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ep(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qw(t){t._nesting--,sg(t)}var tp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new he,this.onMicrotaskEmpty=new he,this.onStable=new he,this.onError=new he}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function mk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function yk(t="zone.js",e){return t==="noop"?new tp:t==="zone.js"?new Q(e):t}var Qi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qi||{}),vk={destroy(){}};function og(t,e){!e&&aP(og);let n=e?.injector??I(Oe);if(!co(n))return vk;lr("NgAfterNextRender");let r=n.get(ag),i=r.handler??=new rp,s=e?.phase??Qi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(wT).onDestroy(o),c=new np(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var np=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Q),this.errorHandler=e.get(Xt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},rp=class{constructor(){this.executingCallbacks=!1,this.buckets={[Qi.EarlyRead]:new Set,[Qi.Write]:new Set,[Qi.MixedReadWrite]:new Set,[Qi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ag=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ip(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=vw(i,a);else if(s==2){let c=a,u=e[++o];r=vw(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Eu=class extends Ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=rr(e);return new rs(n,this.ngModule)}};function zw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function _k(t){let e=t.toLowerCase();return e==="svg"?IE:e==="math"?ON:null}var sp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pu(r);let i=this.injector.get(e,If,r);return i!==If||n===If?i:this.parentInjector.get(e,n,r)}},rs=class extends wu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=zw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=RN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Z(null);try{i=i||this.ngModule;let o=i instanceof _t?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new sp(e,o):e,c=a.get(To,null);if(c===null)throw new A(407,!1);let u=a.get(lk,null),l=a.get(ag,null),d=a.get(Yf,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?hO(p,r,this.componentDef.encapsulation,a):Jp(p,g,_k(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let T=null;_!==null&&(T=$p(_,a,!0));let G=tg(0,null,null,1,0,null,null,null,null,null,null),W=ju(null,G,null,v,null,null,h,p,a,null,T);Pp(W);let ue,Ne;try{let ne=this.componentDef,xe,Wt=null;ne.findHostDirectiveDefs?(xe=[],Wt=new Map,ne.findHostDirectiveDefs(ne,xe,Wt),xe.push(ne)):xe=[ne];let Or=Ik(W,_),xi=wk(Or,_,ne,xe,W,h,p);Ne=Rp(G,Be),_&&Tk(p,ne,_,r),n!==void 0&&Ck(Ne,this.ngContentSelectors,n),ue=Dk(xi,ne,xe,Wt,W,[bk]),rg(G,W,null)}finally{Op()}return new op(this.componentType,ue,as(Ne,W),W,Ne)}finally{Z(s)}}},op=class extends Jf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Gr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ng(s[k],s,i,e,n),this.previousInputValues.set(e,n);let o=or(this._tNode.index,s);ig(o)}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ik(t,e){let n=t[k],r=Be;return t[r]=e,Bu(n,r,2,"#host",null)}function wk(t,e,n,r,i,s,o){let a=i[k];Ek(r,t,e,o);let c=null;e!==null&&(c=$p(e,i[Xi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=ju(i,QD(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Wf(a,t,r.length-1),$u(i,d),i[t.index]=d}function Ek(t,e,n,r){for(let i of t)e.mergedAttrs=ho(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ip(e,e.mergedAttrs,!0),n!==null&&jD(r,n,e))}function Dk(t,e,n,r,i,s){let o=tt(),a=i[k],c=It(o,i);XD(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=qr(i,a,d,o);zr(h,i)}eT(a,i,o),c&&zr(c,i);let u=qr(i,a,o.directiveStart+o.componentOffset,o);if(t[We]=i[We]=u,s!==null)for(let l of s)l(u,e);return GD(a,o,i),u}function Tk(t,e,n,r){if(r)Rf(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:s}=MN(e.selectors[0]);i&&Rf(t,n,i),s&&s.length>0&&UD(t,n,s.join(" "))}}function Ck(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function bk(){let t=tt();Gp(te()[k],t)}var cs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ak;let t=e;return t})();function Ak(){let t=tt();return DT(t,te())}var Sk=cs,ET=class extends Sk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wp(this._hostTNode,this._hostLView);if(fD(e)){let n=gu(e,this._hostLView),r=pu(e),i=n[k].data[r+8];return new Ur(i,n)}else return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Gw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Do(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,wo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!uP(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new rs(rr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(_t,null);_&&(s=_)}let l=rr(c.componentType??{}),d=Do(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,wo(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(UN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pe],u=new ET(c,c[Ut],c[Pe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return qu(o,i,s,r),e.attachToViewContainerRef(),FE(wf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Gw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Io(this._lContainer,n);r&&(uu(wf(this._lContainer),n),Vu(r[k],r))}detach(e){let n=this._adjustIndex(e,-1),r=Io(this._lContainer,n);return r&&uu(wf(this._lContainer),n)!=null?new Gr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Gw(t){return t[au]}function wf(t){return t[au]||(t[au]=[])}function DT(t,e){let n,r=e[t.index];return en(r)?n=r:(n=tT(r,e,null,t),e[t.index]=n,$u(e,n)),TT(n,e,t,r),new ET(n,t,e)}function Rk(t,e){let n=t[fe],r=n.createComment(""),i=It(e,t),s=Zp(n,i);return vu(n,s,r,tO(n,i),!1),r}var TT=CT,cg=()=>!1;function Mk(t,e,n){return cg(t,e,n)}function CT(t,e,n,r){if(t[An])return;let i;n.type&8?i=Vt(r):i=Rk(e,n),t[An]=i}function Nk(t,e,n){if(t[An]&&t[go])return!0;let r=n[Zt],i=e.index-Be;if(!r||vx(e)||ku(r,i))return!1;let o=Vf(r,i),a=r.data[Bp]?.[i],[c,u]=ik(o,a);return t[An]=c,t[go]=u,!0}function xk(t,e,n,r){cg(t,n,e)||CT(t,e,n,r)}function Pk(){TT=xk,cg=Nk}var ap=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ug(e,n).matches!==null&&this.queries[n].setDirty()}},up=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Bk(e):this.predicate=e}},lp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},dp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,Ok(n,s)),this.matchTNodeWithReadOption(e,n,ru(n,e,s,!1,!1))}else r===Eo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ru(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===lt||i===cs||i===Eo&&n.type&4)this.addMatch(n.index,-2);else{let s=ru(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Ok(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function kk(t,e){return t.type&11?as(t,e):t.type&4?zu(t,e):null}function Fk(t,e,n,r){return n===-1?kk(e,t):n===-2?Lk(t,e,r):qr(t,t[k],n,e)}function Lk(t,e,n){if(n===lt)return as(e,t);if(n===Eo)return zu(e,t);if(n===cs)return DT(e,t)}function bT(t,e,n,r){let i=e[bn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(Fk(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function hp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=bT(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=je;d<l.length;d++){let h=l[d];h[So]===h[Pe]&&hp(h[k],h,u,r)}if(l[es]!==null){let d=l[es];for(let h=0;h<d.length;h++){let p=d[h];hp(p[k],p,u,r)}}}}}return r}function Vk(t,e){return t[bn].queries[e].queryList}function Uk(t,e,n){let r=new xf((n&4)===4);return mO(t,e,r,r.destroy),(e[bn]??=new cp).queries.push(new ap(r))-1}function jk(t,e,n,r){let i=et();if(i.firstCreatePass){let s=tt();$k(i,new up(e,n,r),s.index),Hk(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Uk(i,te(),n)}function Bk(t){return t.split(",").map(e=>e.trim())}function $k(t,e,n){t.queries===null&&(t.queries=new lp),t.queries.track(new dp(e,n))}function Hk(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ug(t,e){return t.queries.getByIndex(e)}function qk(t,e){let n=t[k],r=ug(n,e);return r.crossesNgTemplate?hp(n,t,e,[]):bT(n,t,r,e)}function zk(t){return typeof t=="function"&&t[$h]!==void 0}function AT(t){return zk(t)&&typeof t.set=="function"}function Gk(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(Yk))}return s}return Du.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(p=>{a[u+h]=p,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>Jk(s));e.push(c)}),Kk(),Promise.all(e).then(()=>{})}var Du=new Map,Wk=new Set;function Kk(){let t=Du;return Du=new Map,t}function Qk(){return Du.size===0}function Yk(t){return typeof t=="string"?t:t.text()}function Jk(t){Wk.delete(t)}function Zk(t){return Object.getPrototypeOf(t.prototype).constructor}function St(t){let e=Zk(t.type),n=!0,r=[t];for(;e;){let i;if(ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Yc(t.inputs),o.inputTransforms=Yc(t.inputTransforms),o.declaredInputs=Yc(t.declaredInputs),o.outputs=Yc(t.outputs);let a=i.hostBindings;a&&r1(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&t1(t,c),u&&n1(t,u),Xk(t,i),gN(t.outputs,i.outputs),ir(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===St&&(n=!1)}}e=Object.getPrototypeOf(e)}e1(r)}function Xk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function e1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ho(i.hostAttrs,n=ho(n,i.hostAttrs))}}function Yc(t){return t===Zi?{}:t===mt?[]:t}function t1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function n1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function r1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function lg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var sr=class{},Co=class{};var Tu=class extends sr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eu(this);let i=fE(e);this._bootstrapComponents=MD(i.bootstrap),this._r3Injector=ED(e,n,[{provide:sr,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cu=class extends Co{constructor(e){super(),this.moduleType=e}create(e){return new Tu(this.moduleType,e,[])}};function i1(t,e,n){return new Tu(t,e,n)}var fp=class extends sr{constructor(e){super(),this.componentFactoryResolver=new Eu(this),this.instance=null;let n=new _o([...e.providers,{provide:sr,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],e.parent||zp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qu(t,e,n=null){return new fp({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Fo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ue(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s1(t,e,n){return t[e]=n}function o1(t,e){return t[e]}function Rn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ww(t,e,n,r){let i=Rn(t,e,n);return Rn(t,e+1,r)||i}function a1(t,e,n,r,i,s){let o=Ww(t,e,n,r);return Ww(t,e+2,i,s)||o}function c1(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Bu(e,t,4,o||null,cu(u,a));ZD(e,n,l,cu(u,c)),Gp(e,l);let d=l.tView=tg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function pp(t,e,n,r,i,s,o,a){let c=te(),u=et(),l=t+Be,d=u.firstCreatePass?c1(l,u,c,e,n,r,i,s,o):u.data[l];No(d,!1);let h=ST(u,c,d,t);Fp()&&Xp(u,c,h,d),zr(h,c);let p=tT(h,c,h,d);return c[l]=p,$u(c,p),Mk(p,d,c),Sp(d)&&WD(u,c,d),o!=null&&KD(c,d,a),pp}var ST=RT;function RT(t,e,n,r){return cr(!0),e[fe].createComment("")}function u1(t,e,n,r){let i=e[Zt],s=!i||Mo()||ku(i,r);if(cr(s),s)return RT(t,e,n,r);let o=i.data[Lx]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Gu(i,t,e,n);Ou(i,r,a);let c=Hp(i,r);return Wu(c,a)}function l1(){ST=u1}function Lo(t,e,n,r){let i=te(),s=os();if(Rn(i,s,e)){let o=et(),a=kp();NO(a,i,t,e,n,r)}return Lo}function d1(t,e,n,r){return Rn(t,os(),n)?e+tr(n)+r:xn}function h1(t,e,n,r,i,s,o,a,c,u){let l=XN(),d=a1(t,l,n,i,o,c);return AE(4),d?e+tr(n)+r+tr(i)+s+tr(o)+a+tr(c)+u:xn}function Jc(t,e){return t<<17|e<<2}function Wr(t){return t>>17&32767}function f1(t){return(t&2)==2}function p1(t,e){return t&131071|e<<17}function gp(t){return t|2}function is(t){return(t&131068)>>2}function Ef(t,e){return t&-131069|e<<2}function g1(t){return(t&1)===1}function mp(t){return t|1}function m1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wr(o),c=is(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||xo(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Wr(t[a+1]);t[r+1]=Jc(h,a),h!==0&&(t[h+1]=Ef(t[h+1],r)),t[a+1]=p1(t[a+1],r)}else t[r+1]=Jc(a,0),a!==0&&(t[a+1]=Ef(t[a+1],r)),a=r;else t[r+1]=Jc(c,0),a===0?a=r:t[c+1]=Ef(t[c+1],r),c=r;u&&(t[r+1]=gp(t[r+1])),Kw(t,l,r,!0),Kw(t,l,r,!1),y1(e,l,t,r,s),o=Jc(a,c),s?e.classBindings=o:e.styleBindings=o}function y1(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&xo(s,e)>=0&&(n[r+1]=mp(n[r+1]))}function Kw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Wr(i):is(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];v1(c,e)&&(a=!0,t[o+1]=r?mp(u):gp(u)),o=r?Wr(u):is(u)}a&&(t[n+1]=r?gp(i):mp(i))}function v1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xo(t,e)>=0:!1}function _1(t,e,n){let r=te(),i=os();if(Rn(r,i,e)){let s=et(),o=kp();JD(s,o,r,t,e,r[fe],n,!1)}return _1}function Qw(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";ng(t,n,s[o],o,r)}function Yu(t,e){return I1(t,e,null,!0),Yu}function I1(t,e,n,r){let i=te(),s=et(),o=AE(2);if(s.firstUpdatePass&&E1(s,t,o,r),e!==xn&&Rn(i,o,e)){let a=s.data[ar()];A1(s,a,i,i[fe],t,i[o+1]=S1(e,n),r,o)}}function w1(t,e){return e>=t.expandoStartIndex}function E1(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ar()],o=w1(t,n);R1(s,r)&&e===null&&!o&&(e=!1),e=D1(i,s,e,r),m1(i,s,e,n,o,r)}}function D1(t,e,n,r){let i=ix(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Df(null,t,e,n,r),n=bo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Df(i,t,e,n,r),s===null){let c=T1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Df(null,t,e,c[1],r),c=bo(c,e.attrs,r),C1(t,e,r,c))}else s=b1(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function T1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(is(r)!==0)return t[Wr(r)]}function C1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Wr(i)]=r}function b1(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=bo(r,o,n)}return bo(r,e.attrs,n)}function Df(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=bo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function bo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fx(t,o,n?!0:e[++s]))}return t===void 0?null:t}function A1(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=g1(u)?Yw(c,e,n,i,is(u),o):void 0;if(!bu(l)){bu(s)||f1(u)&&(s=Yw(c,null,n,i,a,o));let d=wE(ar(),n);aO(r,o,d,i,s)}}function Yw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===xn&&(h=d?mt:void 0);let p=d?hf(h,r):l===r?h:void 0;if(u&&!bu(p)&&(p=hf(c,r)),bu(p)&&(a=p,o))return a;let g=t[i+1];i=o?Wr(g):is(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=hf(c,r))}return a}function bu(t){return t!==void 0}function S1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(ko(t)))),t}function R1(t,e){return(t.flags&(e?8:16))!==0}var yp=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Tf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function M1(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=Tf(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],p=Tf(o,d,a,h,n);if(p!==0){p<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),_=n(o,d),v=n(s,u);if(Object.is(v,_)){let T=n(a,h);Object.is(T,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Au,i??=Zw(t,s,o,n),vp(t,r,s,v))t.updateValue(s,u),s++,o++;else if(i.has(v))r.set(g,t.detach(s)),o--;else{let T=t.create(s,e[s]);t.attach(s,T),s++,o++}}for(;s<=a;)Jw(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=Tf(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Au,i??=Zw(t,s,o,n);let h=n(s,l);if(vp(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let p=n(s,u);r.set(p,t.detach(s)),o--}}}for(;!c.done;)Jw(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function vp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Jw(t,e,n,r,i){if(vp(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Zw(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Au=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function A5(t,e,n){lr("NgControlFlow");let r=te(),i=os(),s=Ep(r,Be+t),o=0;if(Rn(r,i,e)){let a=Z(null);try{if(cT(s,o),e!==-1){let c=Dp(r[k],Be+e),u=Do(s,c.tView.ssrId),l=Hu(r,c,n,{dehydratedView:u});qu(s,l,o,wo(c,u))}}finally{Z(a)}}else{let a=aT(s,o);a!==void 0&&(a[We]=n)}}var _p=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-je}};function S5(t,e){return e}var Ip=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function R5(t,e,n,r,i,s,o,a,c,u,l,d,h){lr("NgControlFlow");let p=c!==void 0,g=te(),_=a?o.bind(g[vt][We]):o,v=new Ip(p,_);g[Be+t]=v,pp(t+1,e,n,r,i,s),p&&pp(t+2,c,u,l,d,h)}var wp=class extends yp{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-je}at(e){return this.getLView(e)[We].$implicit}attach(e,n){let r=n[Zt];this.needsIndexUpdate||=e!==this.length,qu(this.lContainer,n,e,wo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,N1(this.lContainer,e)}create(e,n){let r=Do(this.lContainer,this.templateTNode.tView.ssrId);return Hu(this.hostLView,this.templateTNode,new _p(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Vu(e[k],e)}updateValue(e,n){this.getLView(e)[We].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[We].$index=e}getLView(e){return x1(this.lContainer,e)}};function M5(t){let e=Z(null),n=ar();try{let r=te(),i=r[k],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Ep(r,a),u=Dp(i,a);s.liveCollection=new wp(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(M1(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=os(),c=o.length===0;if(Rn(r,a,c)){let u=n+2,l=Ep(r,u);if(c){let d=Dp(i,u),h=Do(l,d.tView.ssrId),p=Hu(r,d,void 0,{dehydratedView:h});qu(l,p,0,wo(d,h))}else cT(l,0)}}}finally{Z(e)}}function Ep(t,e){return t[e]}function N1(t,e){return Io(t,e)}function x1(t,e){return aT(t,e)}function Dp(t,e){return Rp(t,e)}function P1(t,e,n,r,i,s){let o=e.consts,a=cu(o,i),c=Bu(e,t,2,r,a);return ZD(e,n,c,cu(o,s)),c.attrs!==null&&ip(c,c.attrs,!1),c.mergedAttrs!==null&&ip(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function MT(t,e,n,r){let i=te(),s=et(),o=Be+t,a=i[fe],c=s.firstCreatePass?P1(o,s,i,e,n,r):s.data[o],u=xT(s,i,c,a,e,t);i[o]=u;let l=Sp(c);return No(c,!0),jD(a,u,c),(c.flags&32)!==32&&Fp()&&Xp(s,i,u,c),HN()===0&&zr(u,i),qN(),l&&(WD(s,i,c),GD(s,c,i)),r!==null&&KD(i,c),MT}function NT(){let t=tt();bE()?YN():(t=t.parent,No(t,!1));let e=t;GN(e)&&KN(),zN();let n=et();return n.firstCreatePass&&(Gp(n,t),vE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&mP(e)&&Qw(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yP(e)&&Qw(n,e,te(),e.stylesWithoutHost,!1),NT}function dg(t,e,n,r){return MT(t,e,n,r),NT(),dg}var xT=(t,e,n,r,i,s)=>(cr(!0),Jp(r,i,OE()));function O1(t,e,n,r,i,s){let o=e[Zt],a=!o||Mo()||ku(o,s);if(cr(a),a)return Jp(r,i,OE());let c=Gu(o,t,e,n);return XE(o,s)&&Ou(o,s,c.nextSibling),o&&(LE(n)||VE(c))&&Ro(n)&&(WN(n),VD(c)),c}function k1(){xT=O1}var F1=(t,e,n,r)=>(cr(!0),xD(e[fe],""));function L1(t,e,n,r){let i,s=e[Zt],o=!s||Mo();if(cr(o),o)return xD(e[fe],"");let a=Gu(s,t,e,n),c=Kx(s,r);return Ou(s,r,a),i=Wu(c,a),i}function V1(){F1=L1}function N5(){return te()}var Su="en-US";var U1=Su;function j1(t){typeof t=="string"&&(U1=t.toLowerCase().replace(/_/g,"-"))}function dr(t,e,n,r){let i=te(),s=et(),o=tt();return PT(s,i,i[fe],o,t,e,r),dr}function B1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[fo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function PT(t,e,n,r,i,s,o){let a=Sp(r),u=t.firstCreatePass&&iT(t),l=e[We],d=rT(e),h=!0;if(r.type&3||o){let _=It(r,e),v=o?o(_):_,T=d.length,G=o?ue=>o(Vt(ue[r.index])):r.index,W=null;if(!o&&a&&(W=B1(t,e,i,r.index)),W!==null){let ue=W.__ngLastListenerFn__||W;ue.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,h=!1}else{s=eE(r,e,l,s,!1);let ue=n.listen(v,i,s);d.push(s,ue),u&&u.push(i,G,T,T+1)}}else s=eE(r,e,l,s,!1);let p=r.outputs,g;if(h&&p!==null&&(g=p[i])){let _=g.length;if(_)for(let v=0;v<_;v+=2){let T=g[v],G=g[v+1],Ne=e[T][G].subscribe(s),ne=d.length;if(d.push(s,Ne),u){let xe=typeof Ne=="function"?ne+1:-(ne+1);u.push(i,r.index,ne,xe)}}}}function Xw(t,e,n,r){let i=Z(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return sT(t,s),!1}finally{Qt(7,e,n),Z(i)}}function eE(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?or(t.index,e):e;ig(a);let c=Xw(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Xw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function x5(t=1){return ox(t)}function OT(t,e,n,r){jk(t,e,n,r)}function kT(t){let e=te(),n=et(),r=SE();xp(r+1);let i=ug(n,r);if(t.dirty&&VN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=qk(e,r);t.reset(s,ux),t.notifyOnChanges()}return!0}return!1}function FT(){return Vk(te(),SE())}function P5(t){let e=JN();return LN(e,Be+t)}function O5(t,e=""){let n=te(),r=et(),i=t+Be,s=r.firstCreatePass?Bu(r,i,1,e,null):r.data[i],o=LT(r,n,s,e,t);n[i]=o,Fp()&&Xp(r,n,o,s),No(s,!1)}var LT=(t,e,n,r,i)=>(cr(!0),ND(e[fe],r));function $1(t,e,n,r,i){let s=e[Zt],o=!s||Mo()||ku(s,i);return cr(o),o?ND(e[fe],r):Gu(s,t,e,n)}function H1(){LT=$1}function q1(t){return VT("",t,""),q1}function VT(t,e,n){let r=te(),i=d1(r,t,e,n);return i!==xn&&oT(r,ar(),i),VT}function z1(t,e,n,r,i,s,o,a,c){let u=te(),l=h1(u,t,e,n,r,i,s,o,a,c);return l!==xn&&oT(u,ar(),l),z1}function G1(t,e,n){AT(e)&&(e=e());let r=te(),i=os();if(Rn(r,i,e)){let s=et(),o=kp();JD(s,o,r,t,e,r[fe],n,!1)}return G1}function k5(t,e){let n=AT(t);return n&&t.set(e),n}function W1(t,e){let n=te(),r=et(),i=tt();return PT(r,n,n[fe],i,t,e),W1}function K1(t,e,n){let r=et();if(r.firstCreatePass){let i=ir(t);Tp(n,r.data,r.blueprint,i,!0),Tp(e,r.data,r.blueprint,i,!1)}}function Tp(t,e,n,r,i){if(t=Ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)Tp(t[s],e,n,r,i);else{let s=et(),o=te(),a=tt(),c=ns(t)?t:Ze(t.provide),u=aD(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ns(t)||!t.multi){let p=new Hr(u,i,U),g=bf(c,e,i?l:l+h,d);g===-1?(qf(mu(a,o),s,c),Cf(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[g]=p,o[g]=p)}else{let p=bf(c,e,l+h,d),g=bf(c,e,l,l+h),_=p>=0&&n[p],v=g>=0&&n[g];if(i&&!v||!i&&!_){qf(mu(a,o),s,c);let T=J1(i?Y1:Q1,n.length,i,r,u);!i&&v&&(n[g].providerFactory=T),Cf(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else{let T=UT(n[i?g:p],u,!i&&r);Cf(s,t,p>-1?p:g,T)}!i&&r&&v&&n[g].componentProviders++}}}function Cf(t,e,n,r){let i=ns(e),s=eP(e);if(i||s){let c=(s?Ze(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function UT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Q1(t,e,n,r){return Cp(this.multi,[])}function Y1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=qr(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),Cp(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Cp(i,s);return s}function Cp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function J1(t,e,n,r,i){let s=new Hr(t,n,U);return s.multi=[],s.index=e,s.componentProviders=0,UT(s,i,r&&!n),s}function hr(t,e=[]){return n=>{n.providersResolver=(r,i)=>K1(r,i?i(t):t,e)}}var Z1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=iD(!1,r.type),s=i.length>0?Qu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(S(_t))});let t=e;return t})();function jT(t){lr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Z1).getOrCreateStandaloneInjector(t)}function F5(t,e,n){let r=ZN()+t,i=te();return i[r]===xn?s1(i,r,n?e.call(n):e()):o1(i,r)}function L5(t,e){return zu(t,e)}var Zc=null;function X1(t){Zc!==null&&(t.defaultEncapsulation!==Zc.defaultEncapsulation||t.preserveWhitespaces!==Zc.preserveWhitespaces)||(Zc=t)}var Mn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},BT=new Mn("17.2.4"),Ju=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var hg=new b(""),Vo=new b(""),Zu=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,fg||(eF(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(S(Q),S(Xu),S(Vo))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Xu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return fg?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function eF(t){fg=t}var fg;function Qr(t){return!!t&&typeof t.then=="function"}function $T(t){return!!t&&typeof t.subscribe=="function"}var el=new b(""),HT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(el,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Qr(o))r.push(o);else if($T(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),us=new b("");function tF(){WI(()=>{throw new A(600,!1)})}function nF(t){return t.isBoundToModule}function rF(t,e,n){try{let r=n();return Qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function qT(t,e){return Array.isArray(e)?e.reduce(qT,t):D(D({},t),e)}var Pn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(DD),this.afterRenderEffectManager=I(ag),this.componentTypes=[],this.components=[],this.isStable=I(Fo).hasPendingTasks.pipe($(r=>!r)),this._injector=I(_t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof wu;if(!this._injector.get(HT).done){let p=!s&&hE(r),g=!1;throw new A(405,g)}let a;s?a=r:a=this._injector.get(Ku).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=nF(a)?void 0:this._injector.get(sr),u=i||a.selector,l=a.create(Oe.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(hg,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),su(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new A(101,!1);let r=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Z(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===fT)throw new A(103,!1);let s=r===0;for(let{_lView:o,notifyErrorHandler:a}of this._views)!s&&!Af(o)||this.detectChangesInView(o,a,s);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Af(o))&&(i.execute(),!this._views.some(({_lView:o})=>Af(o))))break}}detectChangesInView(r,i,s){let o;s?(o=0,r[P]|=1024):r[P]&64?o=0:o=1,pT(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;su(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(us,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>su(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function su(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Xc;function pg(t){Xc??=new WeakMap;let e=Xc.get(t);if(e)return e;let n=t.isStable.pipe(kt(r=>r)).toPromise().then(()=>{});return Xc.set(t,n),t.onDestroy(()=>Xc?.delete(t)),n}function Af(t){return Np(t)}var bp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tl=(()=>{let e=class e{compileModuleSync(r){return new Cu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=fE(r),o=MD(s.declarations).reduce((a,c)=>{let u=rr(c);return u&&a.push(new rs(u)),a},[]);return new bp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iF=new b("");function sF(t,e,n){let r=new Cu(n);return Promise.resolve(r)}function tE(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var oF=(()=>{let e=class e{constructor(){this.zone=I(Q),this.applicationRef=I(Pn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aF(t){return[{provide:Q,useFactory:t},{provide:$r,multi:!0,useFactory:()=>{let e=I(oF,{optional:!0});return()=>e.initialize()}},{provide:$r,multi:!0,useFactory:()=>{let e=I(lF);return()=>{e.initialize()}}},{provide:DD,useFactory:cF}]}function cF(){let t=I(Q),e=I(Xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function uF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lF=(()=>{let e=class e{constructor(){this.subscription=new we,this.initialized=!1,this.zone=I(Q),this.pendingTasks=I(Fo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Q.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dF(){return typeof $localize<"u"&&$localize.locale||Su}var gg=new b("",{providedIn:"root",factory:()=>I(gg,z.Optional|z.SkipSelf)||dF()});var zT=new b(""),GT=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=yk(i?.ngZone,uF({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=i1(r.moduleType,this.injector,aF(()=>s)),a=o.injector.get(Xt,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{su(this._modules,o),c.unsubscribe()})}),rF(a,s,()=>{let c=o.injector.get(HT);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(gg,Su);return j1(u||Su),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=qT({},i);return sF(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(Pn);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new A(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(zT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(S(Oe))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),lo=null,WT=new b("");function hF(t){if(lo&&!lo.get(WT,!1))throw new A(400,!1);tF(),lo=t;let e=t.get(GT);return gF(t),e}function mg(t,e,n=[]){let r=`Platform: ${e}`,i=new b(r);return(s=[])=>{let o=KT();if(!o||o.injector.get(WT,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):hF(fF(a,r))}return pF(i)}}function fF(t=[],e){return Oe.create({name:e,providers:[{provide:Fu,useValue:"platform"},{provide:zT,useValue:new Set([()=>lo=null])},...t]})}function pF(t){let e=KT();if(!e)throw new A(401,!1);return e}function KT(){return lo?.get(GT)??null}function gF(t){t.get(Vp,null)?.forEach(n=>n())}var fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mF;let t=e;return t})();function mF(t){return yF(tt(),te(),(t&16)===16)}function yF(t,e,n){if(Ro(t)&&!n){let r=or(t.index,e);return new Gr(r,r)}else if(t.type&47){let r=e[vt];return new Gr(r,e)}return null}var QT=mg(null,"core",[]),YT=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(S(Pn))},e.\u0275mod=$e({type:e}),e.\u0275inj=He({});let t=e;return t})();var nE=!1;function vF(){nE||(nE=!0,qx(),k1(),H1(),V1(),l1(),Pk(),ok(),gO())}function _F(t,e){return pg(t)}function JT(){return Oo([{provide:Kc,useFactory:()=>{let t=!0;return co()&&(t=!!I(Kr,{optional:!0})?.get(JE,null)),t&&lr("NgHydration"),t}},{provide:$r,useValue:()=>{co()&&I(Kc)&&(IF(),vF())},multi:!0},{provide:CD,useFactory:()=>co()&&I(Kc)},{provide:us,useFactory:()=>{if(co()&&I(Kc)){let t=I(Pn),e=I(Oe);return()=>{_F(t,e).then(()=>{Q.assertInAngularZone(),ZO(t)})}}return()=>{}},multi:!0}])}function IF(){let t=Nu(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===$x){e=n;break}if(!e)throw new A(-507,!1)}function Yr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ZT(t){let e=rr(t);if(!e)return null;let n=new rs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tC=null;function rn(){return tC}function nC(t){tC??=t}var nl=class{};var ht=new b(""),_g=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(wF),providedIn:"platform"});let t=e;return t})(),rC=new b(""),wF=(()=>{let e=class e extends _g{constructor(){super(),this._doc=I(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rn().getBaseHref(this._doc)}onPopState(r){let i=rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ig(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function XT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kn(t){return t&&t[0]!=="?"?"?"+t:t}var Fn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(wg),providedIn:"root"});let t=e;return t})(),iC=new b(""),wg=(()=>{let e=class e extends Fn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ig(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+kn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(_g),S(iC,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sC=(()=>{let e=class e extends Fn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ig(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+kn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(_g),S(iC,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),ls=(()=>{let e=class e{constructor(r){this._subject=new he,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=TF(XT(eC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+kn(i))}normalize(r){return e.stripTrailingSlash(DF(this._basePath,eC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=kn,e.joinWithSlash=Ig,e.stripTrailingSlash=XT,e.\u0275fac=function(i){return new(i||e)(S(Fn))},e.\u0275prov=R({token:e,factory:()=>EF(),providedIn:"root"});let t=e;return t})();function EF(){return new ls(S(Fn))}function DF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function eC(t){return t.replace(/\/index.html$/,"")}function TF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function oC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var aC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=He({});let t=e;return t})(),Eg="browser",CF="server";function ds(t){return t===Eg}function Dg(t){return t===CF}var cC=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>ds(I(dt))?new yg(I(ht),window):new vg});let t=e;return t})(),yg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=bF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function bF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var vg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},rl=class{};var sl=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var gC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(gC||{}),Tg=class{constructor(e,n=mC.Ok,r="OK"){this.headers=e.headers||new sl,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var ol=class t extends Tg{constructor(e={}){super(e),this.type=gC.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var mC=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(mC||{});var RF=new b("");var uC="b",lC="h",dC="s",hC="st",fC="u",pC="rt",il=new b(""),MF=["GET","HEAD"];function NF(t,e){let l=I(il),{isCacheActive:n}=l,r=BI(l,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!MF.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=I(Kr),a=PF(t),c=o.get(a,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){let{[uC]:d,[pC]:h,[lC]:p,[dC]:g,[hC]:_,[fC]:v}=c,T=d;switch(h){case"arraybuffer":T=new TextEncoder().encode(d).buffer;break;case"blob":T=new Blob([d]);break}let G=new sl(p);return N(new ol({body:T,headers:G,status:g,statusText:_,url:v}))}return e(t).pipe(ge(d=>{d instanceof ol&&o.set(a,{[uC]:d.body,[lC]:xF(d.headers,u),[dC]:d.status,[hC]:d.statusText,[fC]:d.url||"",[pC]:t.responseType})}))}function xF(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function PF(t){let{params:e,method:n,responseType:r,url:i,body:s}=t,o=e.keys().sort().map(l=>`${l}=${e.getAll(l)}`).join("&"),c=[n,r,i,typeof s=="string"?s:"",o].join("|"),u=OF(c);return u}function OF(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function yC(t){return[{provide:il,useFactory:()=>(lr("NgHttpTransferCache"),D({isCacheActive:!0},t))},{provide:RF,useValue:NF,multi:!0,deps:[Kr,il]},{provide:us,multi:!0,useFactory:()=>{let e=I(Pn),n=I(il);return()=>{pg(e).then(()=>{n.isCacheActive=!1})}}}]}var Ag=class extends nl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sg=class t extends Ag{static makeCurrent(){nC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=kF();return n==null?null:FF(n)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oC(document.cookie,e)}},Uo=null;function kF(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}function FF(t){return new URL(t,document.baseURI).pathname}var Rg=class{addToWindow(e){Xe.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new A(5103,!1);return s},Xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xe.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Xe.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Xe.frameworkStabilizers||(Xe.frameworkStabilizers=[]),Xe.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?rn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},LF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Mg=new b(""),wC=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(Mg),S(Q))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),al=class{constructor(e){this._doc=e}},Cg="ng-app-id",EC=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Cg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Cg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Cg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(ht),S(Po),S(Up,8),S(dt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),bg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pg=/%COMP%/g,DC="%COMP%",VF=`_nghost-${DC}`,UF=`_ngcontent-${DC}`,jF=!0,BF=new b("",{providedIn:"root",factory:()=>jF});function $F(t){return UF.replace(Pg,t)}function HF(t){return VF.replace(Pg,t)}function TC(t,e){return e.map(n=>n.replace(Pg,t))}var vC=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Dg(c),this.defaultRenderer=new jo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=oe(D({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof cl?s.applyToHost(r):s instanceof Bo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new cl(u,l,i,this.appId,d,a,c,h);break;case Jt.ShadowDom:return new Ng(u,l,r,i,a,c,this.nonce,h);default:o=new Bo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(wC),S(EC),S(Po),S(BF),S(ht),S(dt),S(Q),S(Up))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),jo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(bg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_C(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_C(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=bg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=bg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(n,r,i&Sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function _C(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ng=class extends jo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=TC(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bo=class extends jo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?TC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cl=class extends Bo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=$F(u),this.hostAttr=HF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qF=(()=>{let e=class e extends al{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(ht))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),IC=["alt","control","meta","shift"],zF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},WF=(()=>{let e=class e extends al{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),IC.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=zF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),IC.forEach(a=>{if(a!==s){let c=GF[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(ht))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function KF(){Sg.makeCurrent()}function QF(){return new Xt}function YF(){return UE(document),document}var JF=[{provide:dt,useValue:Eg},{provide:Vp,useValue:KF,multi:!0},{provide:ht,useFactory:YF,deps:[]}],L8=mg(QT,"browser",JF),ZF=new b(""),XF=[{provide:Vo,useClass:Rg,deps:[]},{provide:hg,useClass:Zu,deps:[Q,Xu,Vo]},{provide:Zu,useClass:Zu,deps:[Q,Xu,Vo]}],eL=[{provide:Fu,useValue:"root"},{provide:Xt,useFactory:QF,deps:[]},{provide:Mg,useClass:qF,multi:!0,deps:[ht,Q,dt]},{provide:Mg,useClass:WF,multi:!0,deps:[ht]},vC,EC,wC,{provide:To,useExisting:vC},{provide:rl,useClass:LF,deps:[]},[]],V8=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Po,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(S(ZF,12))},e.\u0275mod=$e({type:e}),e.\u0275inj=He({providers:[...eL,...XF],imports:[aC,YT]});let t=e;return t})();var CC=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(ht))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xg=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(xg||{});function U8(...t){let e=[],n=new Set,r=n.has(xg.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Oo([[],JT(),n.has(xg.NoHttpTransferCache)||r?[]:yC({}),e])}var FC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(U(nn),U(lt))},e.\u0275dir=Ee({type:e});let t=e;return t})(),Vg=(()=>{let e=class e extends FC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=Ee({type:e,features:[St]});let t=e;return t})(),zo=new b("");var nL={provide:zo,useExisting:tn(()=>LC),multi:!0};function rL(){let t=rn()?rn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var iL=new b(""),LC=(()=>{let e=class e extends FC{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(U(nn),U(lt),U(iL,8))},e.\u0275dir=Ee({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&dr("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[hr([nL]),St]});let t=e;return t})();function pr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function VC(t){return t!=null&&typeof t.length=="number"}var yl=new b(""),Ug=new b(""),sL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bC=class{static min(e){return oL(e)}static max(e){return aL(e)}static required(e){return cL(e)}static requiredTrue(e){return uL(e)}static email(e){return lL(e)}static minLength(e){return dL(e)}static maxLength(e){return UC(e)}static pattern(e){return hL(e)}static nullValidator(e){return ll(e)}static compose(e){return zC(e)}static composeAsync(e){return WC(e)}};function oL(t){return e=>{if(pr(e.value)||pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function aL(t){return e=>{if(pr(e.value)||pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function cL(t){return pr(t.value)?{required:!0}:null}function uL(t){return t.value===!0?null:{required:!0}}function lL(t){return pr(t.value)||sL.test(t.value)?null:{email:!0}}function dL(t){return e=>pr(e.value)||!VC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function UC(t){return e=>VC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function hL(t){if(!t)return ll;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(pr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ll(t){return null}function jC(t){return t!=null}function BC(t){return Qr(t)?re(t):t}function $C(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function HC(t,e){return e.map(n=>n(t))}function fL(t){return!t.validate}function qC(t){return t.map(e=>fL(e)?e:n=>e.validate(n))}function zC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){return $C(HC(n,e))}}function GC(t){return t!=null?zC(qC(t)):null}function WC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){let r=HC(n,e).map(BC);return of(r).pipe($($C))}}function KC(t){return t!=null?WC(qC(t)):null}function AC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QC(t){return t._rawValidators}function YC(t){return t._rawAsyncValidators}function Og(t){return t?Array.isArray(t)?t:[t]:[]}function dl(t,e){return Array.isArray(t)?t.includes(e):t===e}function SC(t,e){let n=Og(e);return Og(t).forEach(i=>{dl(n,i)||n.push(i)}),n}function RC(t,e){return Og(e).filter(n=>!dl(t,n))}var hl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Jr=class extends hl{get formDirective(){return null}get path(){return null}},Zr=class extends hl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},fl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},pL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nK=oe(D({},pL),{"[class.ng-submitted]":"isSubmitted"}),rK=(()=>{let e=class e extends fl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(Zr,2))},e.\u0275dir=Ee({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Yu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[St]});let t=e;return t})(),iK=(()=>{let e=class e extends fl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(Jr,10))},e.\u0275dir=Ee({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Yu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[St]});let t=e;return t})();var $o="VALID",ul="INVALID",hs="PENDING",Ho="DISABLED";function jg(t){return(vl(t)?t.validators:t)||null}function gL(t){return Array.isArray(t)?GC(t):t||null}function Bg(t,e){return(vl(e)?e.asyncValidators:t)||null}function mL(t){return Array.isArray(t)?KC(t):t||null}function vl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function JC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function ZC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}var fs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$o}get invalid(){return this.status===ul}get pending(){return this.status==hs}get disabled(){return this.status===Ho}get enabled(){return this.status!==Ho}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RC(e,this._rawAsyncValidators))}hasValidator(e){return dl(this._rawValidators,e)}hasAsyncValidator(e){return dl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ho,this.errors=null,this._forEachChild(r=>{r.disable(oe(D({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$o,this._forEachChild(r=>{r.enable(oe(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$o||this.status===hs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ho:$o}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hs,this._hasOwnPendingAsyncValidator=!0;let n=BC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?Ho:this.errors?ul:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hs)?hs:this._anyControlsHaveStatus(ul)?ul:$o}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mL(this._rawAsyncValidators)}},pl=class extends fs{constructor(e,n,r){super(jg(n),Bg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ZC(this,!0,e),Object.keys(e).forEach(r=>{JC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kg=class extends pl{};var _l=new b("CallSetDisabledState",{providedIn:"root",factory:()=>Il}),Il="always";function XC(t,e){return[...e.path,t]}function Fg(t,e,n=Il){$g(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),vL(t,e),IL(t,e),_L(t,e),yL(t,e)}function MC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ml(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function gl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function yL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $g(t,e){let n=QC(t);e.validator!==null?t.setValidators(AC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=YC(t);e.asyncValidator!==null?t.setAsyncValidators(AC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();gl(e._rawValidators,i),gl(e._rawAsyncValidators,i)}function ml(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=QC(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=YC(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return gl(e._rawValidators,r),gl(e._rawAsyncValidators,r),n}function vL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eb(t,e)})}function _L(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function IL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function wL(t,e){t==null,$g(t,e)}function EL(t,e){return ml(t,e)}function tb(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function DL(t){return Object.getPrototypeOf(t.constructor)===Vg}function TL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nb(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===LC?n=s:DL(s)?r=s:i=s}),i||r||n||null}function CL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var qo=class extends fs{constructor(e=null,n,r){super(jg(n),Bg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bL=t=>t instanceof qo;var AL={provide:Zr,useExisting:tn(()=>SL)},PC=Promise.resolve(),SL=(()=>{let e=class e extends Zr{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new qo,this._registered=!1,this.name="",this.update=new he,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=nb(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),tb(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){PC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Yr(i);PC.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?XC(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(U(Jr,9),U(yl,10),U(Ug,10),U(zo,10),U(fr,8),U(_l,8))},e.\u0275dir=Ee({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Re.None,"disabled","isDisabled"],model:[Re.None,"ngModel","model"],options:[Re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hr([AL]),St,jt]});let t=e;return t})(),oK=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ee({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var rb=new b("");var RL={provide:Jr,useExisting:tn(()=>ML)},ML=(()=>{let e=class e extends Jr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new he,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ml(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Fg(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){MC(r.control||null,r,!1),CL(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,TL(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(MC(i||null,r),bL(s)&&(Fg(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);wL(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&EL(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$g(this.form,this),this._oldForm&&ml(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(U(yl,10),U(Ug,10),U(_l,8))},e.\u0275dir=Ee({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&dr("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Re.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hr([RL]),St,jt]});let t=e;return t})();var NL={provide:Zr,useExisting:tn(()=>xL)},xL=(()=>{let e=class e extends Zr{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new he,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=nb(this,o)}ngOnChanges(r){this._added||this._setUpControl(),tb(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return XC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(U(Jr,13),U(yl,10),U(Ug,10),U(zo,10),U(rb,8))},e.\u0275dir=Ee({type:e,selectors:[["","formControlName",""]],inputs:{name:[Re.None,"formControlName","name"],isDisabled:[Re.None,"disabled","isDisabled"],model:[Re.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[hr([NL]),St,jt]});let t=e;return t})(),PL={provide:zo,useExisting:tn(()=>sb),multi:!0};function ib(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function OL(t){return t.split(":")[0]}var sb=(()=>{let e=class e extends Vg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=ib(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=OL(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&dr("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([PL]),St]});let t=e;return t})(),aK=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(ib(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(lt),U(nn),U(sb,9))},e.\u0275dir=Ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),kL={provide:zo,useExisting:tn(()=>ob),multi:!0};function OC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function FL(t){return t.split(":")[0]}var ob=(()=>{let e=class e extends Vg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);s.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=FL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&dr("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([kL]),St]});let t=e;return t})(),cK=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(OC(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(OC(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(lt),U(nn),U(ob,9))},e.\u0275dir=Ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function LL(t){return typeof t=="number"?t:parseInt(t,10)}var VL=(()=>{let e=class e{constructor(){this._validator=ll}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ll,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ee({type:e,features:[jt]});let t=e;return t})();var UL={provide:yl,useExisting:tn(()=>jL),multi:!0},jL=(()=>{let e=class e extends VL{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=r=>LL(r),this.createValidator=r=>UC(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&Lo("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[hr([UL]),St]});let t=e;return t})();var ab=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=He({});let t=e;return t})(),Lg=class extends fs{constructor(e,n,r){super(jg(n),Bg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ZC(this,!1,e),e.forEach((r,i)=>{JC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function kC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var uK=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return kC(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new pl(s,o)}record(r,i=null){let s=this._reduceControls(r);return new kg(s,i)}control(r,i,s){let o={};return this.useNonNullable?(kC(i)?o=i:(o.validators=i,o.asyncValidators=s),new qo(r,oe(D({},o),{nonNullable:!0}))):new qo(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Lg(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof qo)return r;if(r instanceof fs)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lK=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:_l,useValue:r.callSetDisabledState??Il}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=He({imports:[ab]});let t=e;return t})(),dK=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:rb,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:_l,useValue:r.callSetDisabledState??Il}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=He({imports:[ab]});let t=e;return t})();var H="primary",oa=Symbol("RouteTitle"),Wg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vs(t){return new Wg(t)}function BL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $L(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sn(t[n],e[n]))return!1;return!0}function sn(t,e){let n=t?Kg(t):void 0,r=e?Kg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!yb(t[i],e[i]))return!1;return!0}function Kg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function yb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function vb(t){return t.length>0?t[t.length-1]:null}function vr(t){return sf(t)?t:Qr(t)?re(Promise.resolve(t)):N(t)}var HL={exact:Ib,subset:wb},_b={exact:qL,subset:zL,ignored:()=>!0};function cb(t,e,n){return HL[n.paths](t.root,e.root,n.matrixParams)&&_b[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function qL(t,e){return sn(t,e)}function Ib(t,e,n){if(!ei(t.segments,e.segments)||!Dl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ib(t.children[r],e.children[r],n))return!1;return!0}function zL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>yb(t[n],e[n]))}function wb(t,e,n){return Eb(t,e,e.segments,n)}function Eb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ei(i,n)||e.hasChildren()||!Dl(i,n,r))}else if(t.segments.length===n.length){if(!ei(t.segments,n)||!Dl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!wb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ei(t.segments,i)||!Dl(t.segments,i,r)||!t.children[H]?!1:Eb(t.children[H],e,s,r)}}function Dl(t,e,n){return e.every((r,i)=>_b[n](t[i].parameters,r.parameters))}var gr=class{constructor(e=new se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return KL.serialize(this)}},se=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tl(this)}},Xr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return Tb(this)}};function GL(t,e){return ei(t,e)&&t.every((n,r)=>sn(n.parameters,e[r].parameters))}function ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function WL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var aa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new Zo,providedIn:"root"});let t=e;return t})(),Zo=class{parse(e){let n=new Yg(e);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Go(e.root,!0)}`,r=JL(e.queryParams),i=typeof e.fragment=="string"?`#${QL(e.fragment)}`:"";return`${n}${r}${i}`}},KL=new Zo;function Tl(t){return t.segments.map(e=>Tb(e)).join("/")}function Go(t,e){if(!t.hasChildren())return Tl(t);if(e){let n=t.children[H]?Go(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${Go(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=WL(t,(r,i)=>i===H?[Go(t.children[H],!1)]:[`${i}:${Go(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Tl(t)}/${n[0]}`:`${Tl(t)}/(${n.join("//")})`}}function Db(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wl(t){return Db(t).replace(/%3B/gi,";")}function QL(t){return encodeURI(t)}function Qg(t){return Db(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(t){return decodeURIComponent(t)}function ub(t){return Cl(t.replace(/\+/g,"%20"))}function Tb(t){return`${Qg(t.path)}${YL(t.parameters)}`}function YL(t){return Object.entries(t).map(([e,n])=>`;${Qg(e)}=${Qg(n)}`).join("")}function JL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wl(n)}=${wl(i)}`).join("&"):`${wl(n)}=${wl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ZL=/^[^\/()?;#]+/;function Hg(t){let e=t.match(ZL);return e?e[0]:""}var XL=/^[^\/()?;=#]+/;function eV(t){let e=t.match(XL);return e?e[0]:""}var tV=/^[^=?&#]+/;function nV(t){let e=t.match(tV);return e?e[0]:""}var rV=/^[^&#]+/;function iV(t){let e=t.match(rV);return e?e[0]:""}var Yg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new se(e,n)),r}parseSegment(){let e=Hg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Xr(Cl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=eV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Hg(this.remaining);i&&(r=i,this.capture(r))}e[Cl(n)]=Cl(r)}parseQueryParam(e){let n=nV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=iV(this.remaining);o&&(r=o,this.capture(r))}let i=ub(n),s=ub(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function Cb(t){return t.segments.length>0?new se([],{[H]:t}):t}function bb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=bb(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new se(t.segments,e);return sV(n)}function sV(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new se(t.segments.concat(e.segments),e.children)}return t}function _s(t){return t instanceof gr}function oV(t,e,n=null,r=null){let i=Ab(t);return Sb(i,e,n,r)}function Ab(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new se(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Cb(r);return e??i}function Sb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return qg(i,i,i,n,r);let s=aV(e);if(s.toRoot())return qg(i,i,new se([],{}),n,r);let o=cV(s,i,t),a=o.processChildren?Qo(o.segmentGroup,o.index,s.commands):Mb(o.segmentGroup,o.index,s.commands);return qg(i,o.segmentGroup,a,n,r)}function bl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xo(t){return typeof t=="object"&&t!=null&&t.outlets}function qg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Rb(t,e,n);let a=Cb(bb(o));return new gr(a,s,i)}function Rb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Rb(s,e,n)}),new se(t.segments,r)}var Al=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bl(r[0]))throw new A(4003,!1);let i=r.find(Xo);if(i&&i!==vb(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Al(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Al(n,e,r)}var ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function cV(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=bl(t.commands[0])?0:1,i=n.segments.length-1+r;return uV(n,i,t.numberOfDoubleDots)}function uV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new ms(r,!1,i-s)}function lV(t){return Xo(t[0])?t[0].outlets:{[H]:t}}function Mb(t,e,n){if(t??=new se([],{}),t.segments.length===0&&t.hasChildren())return Qo(t,e,n);let r=dV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new se(t.segments.slice(r.pathIndex),t.children),Qo(s,0,i)}else return r.match&&i.length===0?new se(t.segments,{}):r.match&&!t.hasChildren()?Jg(t,e,n):r.match?Qo(t,0,i):Jg(t,e,n)}function Qo(t,e,n){if(n.length===0)return new se(t.segments,{});{let r=lV(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=Qo(t.children[H],e,n);return new se(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Mb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new se(t.segments,i)}}function dV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Xo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!db(c,u,o))return s;r+=2}else{if(!db(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Jg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Xo(s)){let c=hV(s.outlets);return new se(r,c)}if(i===0&&bl(n[0])){let c=t.segments[e];r.push(new Xr(c.path,lb(n[0]))),i++;continue}let o=Xo(s)?s.outlets[H]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&bl(a)?(r.push(new Xr(o,lb(a))),i+=2):(r.push(new Xr(o,{})),i++)}return new se(r,{})}function hV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Jg(new se([],{}),0,r))}),e}function lb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function db(t,e,n){return t==n.path&&sn(e,n.parameters)}var Yo="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),Mt=class{constructor(e,n){this.id=e,this.url=n}},Is=class extends Mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bt=class extends Mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Rt||{}),Sl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sl||{}),mr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ke.NavigationSkipped}},ea=class extends Mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rl=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zg=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xg=class extends Mt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},em=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tm=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nm=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rm=class{constructor(e){this.route=e,this.type=ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},im=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sm=class{constructor(e){this.snapshot=e,this.type=ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},om=class{constructor(e){this.snapshot=e,this.type=ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},am=class{constructor(e){this.snapshot=e,this.type=ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ml=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ta=class{},na=class{constructor(e){this.url=e}};var cm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ca,this.attachRef=null}},ca=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=um(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=um(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=lm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lm(e,this._root).map(n=>n.value)}};function um(t,e){if(t===e.value)return e;for(let n of e.children){let r=um(t,n);if(r)return r}return null}function lm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=lm(t,n);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xl=class extends Nl{constructor(e,n){super(e),this.snapshot=n,Im(this,e)}toString(){return this.snapshot.toString()}};function Nb(t){let e=fV(t),n=new Ue([new Xr("",{})]),r=new Ue({}),i=new Ue({}),s=new Ue({}),o=new Ue(""),a=new ti(n,r,s,o,i,H,t,e.root);return a.snapshot=e.root,new xl(new wt(a,[]),e)}function fV(t){let e={},n={},r={},i="",s=new ra([],e,r,i,n,H,t,null,{});return new Pl("",new wt(s,[]))}var ti=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[oa]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _m(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&Pb(i)&&(r.resolve[oa]=i.title),r}var ra=class{get title(){return this.data?.[oa]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Pl=class extends Nl{constructor(e,n){super(n),this.url=e,Im(this,n)}toString(){return xb(this._root)}};function Im(t,e){e.value._routerState=t,e.children.forEach(n=>Im(t,n))}function xb(t){let e=t.children.length>0?` { ${t.children.map(xb).join(", ")} } `:"";return`${t.value}${e}`}function zg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sn(e.params,n.params)||t.paramsSubject.next(n.params),$L(e.url,n.url)||t.urlSubject.next(n.url),sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function dm(t,e){let n=sn(t.params,e.params)&&GL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||dm(t.parent,e.parent))}function Pb(t){return typeof t.title=="string"||t.title===null}var pV=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new he,this.deactivateEvents=new he,this.attachEvents=new he,this.detachEvents=new he,this.parentContexts=I(ca),this.location=I(cs),this.changeDetector=I(fr),this.environmentInjector=I(_t),this.inputBinder=I(Vl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new hm(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ee({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jt]});let t=e;return t})(),hm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ti?this.route:e===ca?this.childContexts:this.parent.get(e,n)}},Vl=new b(""),hb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ao([i.queryParams,i.params,i.data]).pipe(gt(([o,a,c],u)=>(c=D(D(D({},o),a),c),u===0?N(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=ZT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function gV(t,e,n){let r=ia(t,e._root,n?n._root:void 0);return new xl(r,e)}function ia(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mV(t,e,n);return new wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ia(t,a)),o}}let r=yV(e.value),i=e.children.map(s=>ia(t,s));return new wt(r,i)}}function mV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ia(t,r,i);return ia(t,r)})}function yV(t){return new ti(new Ue(t.url),new Ue(t.params),new Ue(t.queryParams),new Ue(t.fragment),new Ue(t.data),t.outlet,t.component,t)}var Ob="ngNavigationCancelingError";function kb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=_s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Fb(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Fb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ob]=!0,n.cancellationCode=e,n}function vV(t){return Lb(t)&&_s(t.url)}function Lb(t){return!!t&&t[Ob]}var _V=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=uE({type:e,selectors:[["ng-component"]],standalone:!0,features:[jT],decls:1,vars:0,template:function(i,s){i&1&&dg(0,"router-outlet")},dependencies:[pV],encapsulation:2});let t=e;return t})();function IV(t,e){return t.providers&&!t._injector&&(t._injector=Qu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function wm(t){let e=t.children&&t.children.map(wm),n=e?oe(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=_V),n}function on(t){return t.outlet||H}function wV(t,e){let n=t.filter(r=>on(r)===e);return n.push(...t.filter(r=>on(r)!==e)),n}function ua(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var EV=(t,e,n,r)=>$(i=>(new fm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new am(s.value.snapshot))}),e.children.length&&this.forwardEvent(new sm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(zg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ua(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Ol=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ys=class{constructor(e,n){this.component=e,this.route=n}};function DV(t,e,n){let r=t._root,i=e?e._root:null;return Wo(r,i,n,[r.value])}function TV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!jE(t)?t:e.get(t):r}function Wo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=gs(e);return t.children.forEach(o=>{CV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Jo(a,n.getContext(o),i)),i}function CV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=bV(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ol(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Wo(t,e,a?a.children:null,r,i):Wo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ys(a.outlet.component,o))}else o&&Jo(e,a,i),i.canActivateChecks.push(new Ol(r)),s.component?Wo(t,null,a?a.children:null,r,i):Wo(t,null,n,r,i);return i}function bV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ei(t.url,e.url)||!sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dm(t,e)||!sn(t.queryParams,e.queryParams);case"paramsChange":default:return!dm(t,e)}}function Jo(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Jo(o,e.children.getContext(s),n):Jo(o,null,n):Jo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ys(e.outlet.component,i)):n.canDeactivateChecks.push(new ys(null,i)):n.canDeactivateChecks.push(new ys(null,i))}function la(t){return typeof t=="function"}function AV(t){return typeof t=="boolean"}function SV(t){return t&&la(t.canLoad)}function RV(t){return t&&la(t.canActivate)}function MV(t){return t&&la(t.canActivateChild)}function NV(t){return t&&la(t.canDeactivate)}function xV(t){return t&&la(t.canMatch)}function Vb(t){return t instanceof En||t?.name==="EmptyError"}var El=Symbol("INITIAL_VALUE");function ws(){return gt(t=>ao(t.map(e=>e.pipe(Dn(1),Gc(El)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===El)return El;if(n===!1||n instanceof gr)return n}return!0}),ct(e=>e!==El),Dn(1)))}function PV(t,e){return Ce(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(oe(D({},n),{guardsResult:!0})):OV(o,r,i,t).pipe(Ce(a=>a&&AV(a)?kV(r,s,t,e):N(a)),$(a=>oe(D({},n),{guardsResult:a})))})}function OV(t,e,n,r){return re(t).pipe(Ce(i=>jV(i.component,i.route,n,e,r)),kt(i=>i!==!0,!0))}function kV(t,e,n,r){return re(e).pipe(Zn(i=>Hi(LV(i.route.parent,r),FV(i.route,r),UV(t,i.path,n),VV(t,i.route,n))),kt(i=>i!==!0,!0))}function FV(t,e){return t!==null&&e&&e(new om(t)),N(!0)}function LV(t,e){return t!==null&&e&&e(new im(t)),N(!0)}function VV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Hc(()=>{let o=ua(e)??n,a=Es(s,o),c=RV(a)?a.canActivate(e,t):Nn(o,()=>a(e,t));return vr(c).pipe(kt())}));return N(i).pipe(ws())}function UV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>TV(o)).filter(o=>o!==null).map(o=>Hc(()=>{let a=o.guards.map(c=>{let u=ua(o.node)??n,l=Es(c,u),d=MV(l)?l.canActivateChild(r,t):Nn(u,()=>l(r,t));return vr(d).pipe(kt())});return N(a).pipe(ws())}));return N(s).pipe(ws())}function jV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=ua(e)??i,u=Es(a,c),l=NV(u)?u.canDeactivate(t,e,n,r):Nn(c,()=>u(t,e,n,r));return vr(l).pipe(kt())});return N(o).pipe(ws())}function BV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=Es(o,t),c=SV(a)?a.canLoad(e,n):Nn(t,()=>a(e,n));return vr(c)});return N(s).pipe(ws(),Ub(r))}function Ub(t){return Tc(ge(e=>{if(_s(e))throw kb(t,e)}),$(e=>e===!0))}function $V(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=Es(o,t),c=xV(a)?a.canMatch(e,n):Nn(t,()=>a(e,n));return vr(c)});return N(s).pipe(ws(),Ub(r))}var sa=class{constructor(e){this.segmentGroup=e||null}},kl=class extends Error{constructor(e){super(),this.urlTree=e}};function ps(t){return Kt(new sa(t))}function HV(t){return Kt(new A(4e3,!1))}function qV(t){return Kt(Fb(!1,Rt.GuardRejected))}var pm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[H])return HV(e.redirectTo);i=i.children[H]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new kl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new gr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zV(t,e,n,r,i){let s=Em(t,e,n);return s.matched?(r=IV(e,r),$V(r,e,n,i).pipe($(o=>o===!0?s:D({},gm)))):N(s)}function Em(t,e,n){if(e.path==="**")return GV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},gm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||BL)(n,t,e);if(!i)return D({},gm);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?D(D({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function GV(t){return{matched:!0,parameters:t.length>0?vb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function fb(t,e,n,r){return n.length>0&&QV(t,n,r)?{segmentGroup:new se(e,KV(r,new se(n,t.children))),slicedSegments:[]}:n.length===0&&YV(t,n,r)?{segmentGroup:new se(t.segments,WV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new se(t.segments,t.children),slicedSegments:n}}function WV(t,e,n,r){let i={};for(let s of n)if(Ul(t,e,s)&&!r[on(s)]){let o=new se([],{});i[on(s)]=o}return D(D({},r),i)}function KV(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&on(r)!==H){let i=new se([],{});n[on(r)]=i}return n}function QV(t,e,n){return n.some(r=>Ul(t,e,r)&&on(r)!==H)}function YV(t,e,n){return n.some(r=>Ul(t,e,r))}function Ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JV(t,e,n,r){return on(t)!==r&&(r===H||!Ul(e,n,t))?!1:Em(e,t,n).matched}function ZV(t,e,n){return e.length===0&&!t.children[n]}var mm=class{};function XV(t,e,n,r,i,s,o="emptyOnly"){return new ym(t,e,n,r,i,o,s).recognize()}var eU=31,ym=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new pm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=fb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new ra([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),i=new wt(r,n),s=new Pl("",i),o=oV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,H).pipe(pt(r=>{if(r instanceof kl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=_m(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(s=>s instanceof wt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return re(i).pipe(Zn(s=>{let o=r.children[s],a=wV(n,s);return this.processSegmentGroup(e,a,o,s)}),zc((s,o)=>(s.push(...o),s)),Xn(null),cf(),Ce(s=>{if(s===null)return ps(r);let o=jb(s);return tU(o),N(o)}))}processSegment(e,n,r,i,s,o){return re(n).pipe(Zn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(pt(c=>{if(c instanceof sa)return N(null);throw c}))),kt(a=>!!a),pt(a=>{if(Vb(a))return ZV(r,i,s)?N(new mm):ps(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return JV(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ps(i):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Em(n,i,s);if(!a)return ps(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eU&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ce(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=zV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(gt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(gt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new ra(l,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,rU(r),on(r),r.component??r._loadedComponent??null,r,iU(r)),{segmentGroup:g,slicedSegments:_}=fb(n,l,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe($(T=>T===null?null:new wt(p,T)));if(c.length===0&&_.length===0)return N(new wt(p,[]));let v=on(r)===s;return this.processSegment(u,c,g,_,v?H:s,!0).pipe($(T=>new wt(p,T instanceof wt?[T]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):BV(e,n,r,this.urlSerializer).pipe(Ce(i=>i?this.configLoader.loadChildren(e,n).pipe(ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):qV(n))):N({routes:[],injector:e})}};function tU(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function nU(t){let e=t.value.routeConfig;return e&&e.path===""}function jb(t){let e=[],n=new Set;for(let r of t){if(!nU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=jb(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!n.has(r))}function rU(t){return t.data||{}}function iU(t){return t.resolve||{}}function sU(t,e,n,r,i,s){return Ce(o=>XV(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:c})=>oe(D({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function oU(t,e){return Ce(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Bb(c))o.add(u);let a=0;return re(o).pipe(Zn(c=>s.has(c)?aU(c,r,t,e):(c.data=_m(c,c.parent,t).resolve,N(void 0))),ge(()=>a++),zi(1),Ce(c=>a===o.size?N(n):bt))})}function Bb(t){let e=t.children.map(n=>Bb(n)).flat();return[t,...e]}function aU(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Pb(i)&&(s[oa]=i.title),cU(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=_m(t,t.parent,n).resolve,null)))}function cU(t,e,n,r){let i=Kg(t);if(i.length===0)return N({});let s={};return re(i).pipe(Ce(o=>uU(t[o],e,n,r).pipe(kt(),ge(a=>{s[o]=a}))),zi(1),af(s),pt(o=>Vb(o)?bt:Kt(o)))}function uU(t,e,n,r){let i=ua(e)??r,s=Es(t,i),o=s.resolve?s.resolve(e,n):Nn(i,()=>s(e,n));return vr(o)}function Gg(t){return gt(e=>{let n=t(e);return n?re(n).pipe($(()=>e)):N(e)})}var $b=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[oa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(lU),providedIn:"root"});let t=e;return t})(),lU=(()=>{let e=class e extends $b{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(CC))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),da=new b("",{providedIn:"root",factory:()=>({})}),Fl=new b(""),Dm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(tl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vr(r.loadComponent()).pipe($(Hb),ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qi(()=>{this.componentLoaders.delete(r)})),s=new Ui(i,()=>new ot).pipe(Vi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=dU(i,this.compiler,r,this.onLoadEndListener).pipe(qi(()=>{this.childrenLoaders.delete(i)})),a=new Ui(o,()=>new ot).pipe(Vi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dU(t,e,n,r){return vr(t.loadChildren()).pipe($(Hb),Ce(i=>i instanceof Co||Array.isArray(i)?N(i):re(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Fl,[],{optional:!0,self:!0}).flat()),{routes:o.map(wm),injector:s}}))}function hU(t){return t&&typeof t=="object"&&"default"in t}function Hb(t){return hU(t)?t.default:t}var Tm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(fU),providedIn:"root"});let t=e;return t})(),fU=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qb=new b(""),zb=new b("");function pU(t,e,n){let r=t.get(zb),i=t.get(ht);return t.get(Q).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),gU(t))),{onViewTransitionCreated:c}=r;return c&&Nn(t,()=>c({transition:a,from:e,to:n})),o})}function gU(t){return new Promise(e=>{og(e,{injector:t})})}var Cm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=I(Dm),this.environmentInjector=I(_t),this.urlSerializer=I(aa),this.rootContexts=I(ca),this.location=I(ls),this.inputBindingEnabled=I(Vl,{optional:!0})!==null,this.titleStrategy=I($b),this.options=I(da,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Tm),this.createViewTransition=I(qb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new nm(s)),i=s=>this.events.next(new rm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(oe(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ue({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ct(o=>o.id!==0),$(o=>oe(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gt(o=>{this.currentTransition=o;let a=!1,c=!1;return N(o).pipe(ge(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?oe(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new yr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Sl.IgnoredSameUrlNavigation)),u.resolve(null),bt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return N(u).pipe(gt(h=>{let p=this.transitions?.getValue();return this.events.next(new Is(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?bt:Promise.resolve(h)}),sU(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ge(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=oe(D({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Rl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:_,extras:v}=u,T=new Is(h,this.urlSerializer.serialize(p),g,_);this.events.next(T);let G=Nb(this.rootComponentType).snapshot;return this.currentTransition=o=oe(D({},u),{targetSnapshot:G,urlAfterRedirects:p,extras:oe(D({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,N(o)}else{let h="";return this.events.next(new yr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Sl.IgnoredByUrlHandlingStrategy)),u.resolve(null),bt}}),ge(u=>{let l=new Zg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$(u=>(this.currentTransition=o=oe(D({},u),{guards:DV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),PV(this.environmentInjector,u=>this.events.next(u)),ge(u=>{if(o.guardsResult=u.guardsResult,_s(u.guardsResult))throw kb(this.urlSerializer,u.guardsResult);let l=new Xg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Rt.GuardRejected),!1)),Gg(u=>{if(u.guards.canActivateChecks.length)return N(u).pipe(ge(l=>{let d=new em(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),gt(l=>{let d=!1;return N(l).pipe(oU(this.paramsInheritanceStrategy,this.environmentInjector),ge({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Rt.NoDataFromResolver)}}))}),ge(l=>{let d=new tm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Gg(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ge(p=>{d.component=p}),$(()=>{})));for(let p of d.children)h.push(...l(p));return h};return ao(l(u.targetSnapshot.root)).pipe(Xn(null),Dn(1))}),Gg(()=>this.afterPreactivation()),gt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?re(d).pipe($(()=>o)):N(o)}),$(u=>{let l=gV(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=oe(D({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ge(()=>{this.events.next(new ta)}),EV(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dn(1),ge({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),uf(this.transitionAbortSubject.pipe(ge(u=>{throw u}))),qi(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),pt(u=>{if(c=!0,Lb(u))this.events.next(new mr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),vV(u)?this.events.next(new na(u.url)):o.resolve(!1);else{this.events.next(new ea(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return bt}))}))}cancelNavigationTransition(r,i,s){let o=new mr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mU(t){return t!==Yo}var yU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(vU),providedIn:"root"});let t=e;return t})(),vm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},vU=(()=>{let e=class e extends vm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(_U),providedIn:"root"});let t=e;return t})(),_U=(()=>{let e=class e extends Gb{constructor(){super(...arguments),this.location=I(ls),this.urlSerializer=I(aa),this.options=I(da,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Tm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Nb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Is)this.stateMemento=this.createStateMemento();else if(r instanceof yr)this.rawUrlTree=i.initialUrl;else if(r instanceof Rl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ta?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof mr&&(r.code===Rt.GuardRejected||r.code===Rt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ea?this.restoreHistory(i,!0):r instanceof Bt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ur(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ko=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ko||{});function Wb(t,e){t.events.pipe(ct(n=>n instanceof Bt||n instanceof mr||n instanceof ea||n instanceof yr),$(n=>n instanceof Bt||n instanceof yr?Ko.COMPLETE:(n instanceof mr?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?Ko.REDIRECTING:Ko.FAILED),ct(n=>n!==Ko.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function IU(t){throw t}var wU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$t=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Ju),this.stateManager=I(Gb),this.options=I(da,{optional:!0})||{},this.pendingTasks=I(Fo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Cm),this.urlSerializer=I(aa),this.location=I(ls),this.urlHandlingStrategy=I(Tm),this._events=new ot,this.errorHandler=this.options.errorHandler||IU,this.navigated=!1,this.routeReuseStrategy=I(yU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Fl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Vl,{optional:!0}),this.eventsSubscription=new we,this.isNgZoneEnabled=I(Q)instanceof Q&&Q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof mr&&i.code!==Rt.Redirect&&i.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bt)this.navigated=!0;else if(i instanceof na){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||mU(s.source)};this.scheduleNavigation(a,Yo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}TU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=D({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(wm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=Ab(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Sb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=_s(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Yo,null,i)}navigate(r,i={skipLocationChange:!1}){return DU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=D({},wU):i===!1?s=D({},EU):s=i,_s(r))return cb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return cb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return Wb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function TU(t){return!(t instanceof ta)&&!(t instanceof na)}var pb=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:AD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(U($t),U(ti),Kp("tabindex"),U(nn),U(lt),U(Fn))},e.\u0275dir=Ee({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&dr("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Lo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Re.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yr],skipLocationChange:[Re.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yr],replaceUrl:[Re.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yr],routerLink:"routerLink"},standalone:!0,features:[lg,jt]});let t=e;return t})(),MK=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new he,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof Bt&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(Jn()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=re(r).pipe(Jn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=CU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(U($t),U(lt),U(nn),U(fr),U(pb,8))},e.\u0275dir=Ee({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&OT(o,pb,5),i&2){let a;kT(a=FT())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[jt]});let t=e;return t})();function CU(t){return!!t.paths}var Ll=class{};var bU=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ct(r=>r instanceof Bt),Zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Qu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return re(s).pipe(Jn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=N(null);let o=s.pipe(Ce(a=>a===null?N(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return re([o,a]).pipe(Jn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(S($t),S(tl),S(_t),S(Ll),S(Dm))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kb=new b(""),AU=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Is?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Bt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof yr&&r.code===Sl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ml&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ml(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){$D()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function SU(t){return t.routerState.root}function ha(t,e){return{\u0275kind:t,\u0275providers:e}}function RU(){let t=I(Oe);return e=>{let n=t.get(Pn);if(e!==n.components[0])return;let r=t.get($t),i=t.get(Qb);t.get(bm)===1&&r.initialNavigation(),t.get(Yb,null,z.Optional)?.setUpPreloading(),t.get(Kb,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Qb=new b("",{factory:()=>new ot}),bm=new b("",{providedIn:"root",factory:()=>1});function MU(){return ha(2,[{provide:bm,useValue:0},{provide:el,multi:!0,deps:[Oe],useFactory:e=>{let n=e.get(rC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get($t),s=e.get(Qb);Wb(i,()=>{r(!0)}),e.get(Cm).afterPreactivation=()=>(r(!0),s.closed?N(void 0):s),i.initialNavigation()}))}}])}function NU(){return ha(3,[{provide:el,multi:!0,useFactory:()=>{let e=I($t);return()=>{e.setUpLocationChangeListener()}}},{provide:bm,useValue:2}])}var Yb=new b("");function xU(t){return ha(0,[{provide:Yb,useExisting:bU},{provide:Ll,useExisting:t}])}function PU(){return ha(8,[hb,{provide:Vl,useExisting:hb}])}function OU(t){let e=[{provide:qb,useValue:pU},{provide:zb,useValue:D({skipNextTransition:!!t?.skipInitialTransition},t)}];return ha(9,e)}var gb=new b("ROUTER_FORROOT_GUARD"),kU=[ls,{provide:aa,useClass:Zo},$t,ca,{provide:ti,useFactory:SU,deps:[$t]},Dm,[]],NK=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[kU,[],{provide:Fl,multi:!0,useValue:r},{provide:gb,useFactory:UU,deps:[[$t,new nt,new tD]]},{provide:da,useValue:i||{}},i?.useHash?LU():VU(),FU(),i?.preloadingStrategy?xU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?jU(i):[],i?.bindToComponentInputs?PU().\u0275providers:[],i?.enableViewTransitions?OU().\u0275providers:[],BU()]}}static forChild(r){return{ngModule:e,providers:[{provide:Fl,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(gb,8))},e.\u0275mod=$e({type:e}),e.\u0275inj=He({});let t=e;return t})();function FU(){return{provide:Kb,useFactory:()=>{let t=I(cC),e=I(Q),n=I(da),r=I(Cm),i=I(aa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new AU(i,r,t,e,n)}}}function LU(){return{provide:Fn,useClass:sC}}function VU(){return{provide:Fn,useClass:wg}}function UU(t){return"guarded"}function jU(t){return[t.initialNavigation==="disabled"?NU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?MU().\u0275providers:[]]}var mb=new b("");function BU(){return[{provide:mb,useFactory:RU},{provide:us,multi:!0,useExisting:mb}]}var Zb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Sm;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Sm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qU=function(t){let e=Zb(t);return Xb.encodeByteArray(e,!0)},fa=function(t){return qU(t).replace(/\./g,"")},Mm=function(t){try{return Xb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GU=()=>zU().__FIREBASE_DEFAULTS__,WU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Mm(t[1]);return e&&JSON.parse(e)},Bl=()=>{try{return GU()||WU()||KU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nm=t=>{var e,n;return(n=(e=Bl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e0=t=>{let e=Nm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xm=()=>{var t;return(t=Bl())===null||t===void 0?void 0:t.config},Pm=t=>{var e;return(e=Bl())===null||e===void 0?void 0:e[`_${t}`]};var jl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function t0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fa(JSON.stringify(n)),fa(JSON.stringify(o)),""].join(".")}function me(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function QU(){var t;let e=(t=Bl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function i0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s0(){let t=me();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function o0(){return!QU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $l(){try{return typeof indexedDB=="object"}catch{return!1}}function a0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var YU="FirebaseError",Et=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Et(i,a,r)}};function JU(t,e){return t.replace(ZU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZU=/\{\$([^}]+)}/g;function c0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ni(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Jb(s)&&Jb(o)){if(!ni(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Jb(t){return t!==null&&typeof t=="object"}function pa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ds(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ts(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u0(t,e){let n=new Rm(t,e);return n.subscribe.bind(n)}var Rm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Am),i.error===void 0&&(i.error=Am),i.complete===void 0&&(i.complete=Am);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Am(){}var PK=4*60*60*1e3;function ye(t){return t&&t._delegate?t._delegate:t}var Nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ri="[DEFAULT]";var Om=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new jl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tj(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ej(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ej(t){return t===ri?void 0:t}function tj(t){return t.instantiationMode==="EAGER"}var Hl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Om(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var nj=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),rj={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ij=Y.INFO,sj={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},oj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=sj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_r=class{constructor(e){this.name=e,this._logLevel=ij,this._logHandler=oj,this._userLogHandler=null,nj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var aj=(t,e)=>e.some(n=>t instanceof n),l0,d0;function cj(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uj(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var h0=new WeakMap,Fm=new WeakMap,f0=new WeakMap,km=new WeakMap,Vm=new WeakMap;function lj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(an(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&h0.set(n,t)}).catch(()=>{}),Vm.set(e,t),e}function dj(t){if(Fm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fm.set(t,e)}var Lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||f0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p0(t){Lm=t(Lm)}function hj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ql(this),e,...n);return f0.set(r,e.sort?e.sort():[e]),an(r)}:uj().includes(t)?function(...e){return t.apply(ql(this),e),an(h0.get(this))}:function(...e){return an(t.apply(ql(this),e))}}function fj(t){return typeof t=="function"?hj(t):(t instanceof IDBTransaction&&dj(t),aj(t,cj())?new Proxy(t,Lm):t)}function an(t){if(t instanceof IDBRequest)return lj(t);if(km.has(t))return km.get(t);let e=fj(t);return e!==t&&(km.set(t,e),Vm.set(e,t)),e}var ql=t=>Vm.get(t);function m0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=an(o);return r&&o.addEventListener("upgradeneeded",c=>{r(an(o.result),c.oldVersion,c.newVersion,an(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var pj=["get","getKey","getAll","getAllKeys","count"],gj=["put","add","delete","clear"],Um=new Map;function g0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=gj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pj.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Um.set(e,s),s}p0(t=>oe(D({},t),{get:(e,n,r)=>g0(e,n)||t.get(e,n,r),has:(e,n)=>!!g0(e,n)||t.has(e,n)}));var Bm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function mj(t){let e=t.getComponent();return e?.type==="VERSION"}var $m="@firebase/app",y0="0.9.28";var ii=new _r("@firebase/app"),yj="@firebase/app-compat",vj="@firebase/analytics-compat",_j="@firebase/analytics",Ij="@firebase/app-check-compat",wj="@firebase/app-check",Ej="@firebase/auth",Dj="@firebase/auth-compat",Tj="@firebase/database",Cj="@firebase/database-compat",bj="@firebase/functions",Aj="@firebase/functions-compat",Sj="@firebase/installations",Rj="@firebase/installations-compat",Mj="@firebase/messaging",Nj="@firebase/messaging-compat",xj="@firebase/performance",Pj="@firebase/performance-compat",Oj="@firebase/remote-config",kj="@firebase/remote-config-compat",Fj="@firebase/storage",Lj="@firebase/storage-compat",Vj="@firebase/firestore",Uj="@firebase/firestore-compat",jj="firebase",Bj="10.8.1";var Hm="[DEFAULT]",$j={[$m]:"fire-core",[yj]:"fire-core-compat",[_j]:"fire-analytics",[vj]:"fire-analytics-compat",[wj]:"fire-app-check",[Ij]:"fire-app-check-compat",[Ej]:"fire-auth",[Dj]:"fire-auth-compat",[Tj]:"fire-rtdb",[Cj]:"fire-rtdb-compat",[bj]:"fire-fn",[Aj]:"fire-fn-compat",[Sj]:"fire-iid",[Rj]:"fire-iid-compat",[Mj]:"fire-fcm",[Nj]:"fire-fcm-compat",[xj]:"fire-perf",[Pj]:"fire-perf-compat",[Oj]:"fire-rc",[kj]:"fire-rc-compat",[Fj]:"fire-gcs",[Lj]:"fire-gcs-compat",[Vj]:"fire-fst",[Uj]:"fire-fst-compat","fire-js":"fire-js",[jj]:"fire-js-all"};var ga=new Map,qm=new Map;function Hj(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wr(t){let e=t.name;if(qm.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(let n of ga.values())Hj(n,t);return!0}function ya(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var qj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ir=new Ln("app","Firebase",qj);var zm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var Er=Bj;function Km(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=xm()),!n)throw Ir.create("no-options");let s=ga.get(i);if(s){if(ni(n,s.options)&&ni(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}let o=new Hl(i);for(let c of qm.values())o.addComponent(c);let a=new zm(n,r,o);return ga.set(i,a),a}function Cs(t=Hm){let e=ga.get(t);if(!e&&t===Hm&&xm())return Km();if(!e)throw Ir.create("no-app",{appName:t});return e}function zl(){return Array.from(ga.values())}function Me(t,e,n){var r;let i=(r=$j[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}wr(new Nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zj="firebase-heartbeat-database",Gj=1,ma="firebase-heartbeat-store",jm=null;function w0(){return jm||(jm=m0(zj,Gj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ma)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),jm}function Wj(t){return f(this,null,function*(){try{let n=(yield w0()).transaction(ma),r=yield n.objectStore(ma).get(E0(t));return yield n.done,r}catch(e){if(e instanceof Et)ii.warn(e.message);else{let n=Ir.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}})}function v0(t,e){return f(this,null,function*(){try{let r=(yield w0()).transaction(ma,"readwrite");yield r.objectStore(ma).put(e,E0(t)),yield r.done}catch(n){if(n instanceof Et)ii.warn(n.message);else{let r=Ir.create("idb-set",{originalErrorMessage:n?.message});ii.warn(r.message)}}})}function E0(t){return`${t.name}!${t.options.appId}`}var Kj=1024,Qj=30*24*60*60*1e3,Gm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Qj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=_0(),{heartbeatsToSend:r,unsentEntries:i}=Yj(this._heartbeatsCache.heartbeats),s=fa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function _0(){return new Date().toISOString().substring(0,10)}function Yj(t,e=Kj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),I0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return $l()?a0().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Wj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function I0(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}function Jj(t){wr(new Nt("platform-logger",e=>new Bm(e),"PRIVATE")),wr(new Nt("heartbeat",e=>new Gm(e),"PRIVATE")),Me($m,y0,t),Me($m,y0,"esm2017"),Me("fire-js","")}Jj("");var Zj="firebase",Xj="10.8.1";Me(Zj,Xj,"app");var oi=new Mn("ANGULARFIRE2_VERSION");function Wl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var va=(t,e)=>{let n=e?[e]:zl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},As=class{constructor(){return va(e2)}},e2="app-check";function bs(){}var Gl=class{zone;delegate;constructor(e,n=nf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Qm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs)),n.pipe(ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ss=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Gl(Zone.current)),this.insideAngular=n.run(()=>new Gl(Zone.current,tf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(Q))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function t2(t){return Kl().ngZone.runOutsideAngular(()=>t())}function si(t){return Kl().ngZone.run(()=>t())}function n2(t){return r2(Kl())(t)}function r2(t){return function(n){return n=n.lift(new Qm(t.ngZone)),n.pipe(Yn(t.outsideAngular),Qn(t.insideAngular))}}var i2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),si(()=>t.apply(void 0,r))},De=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=si(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs))),r[s]=i2(r[s],n));let i=t2(()=>t.apply(this,r));if(!e)if(i instanceof q){let s=Kl();return i.pipe(Yn(s.outsideAngular),Qn(s.insideAngular))}else return si(()=>i);return i instanceof q?i.pipe(n2):i instanceof Promise?si(()=>new Promise((s,o)=>i.then(a=>si(()=>s(a)),a=>si(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:si(()=>i)};var Vn=class{constructor(e){return e}},ai=class{constructor(){return zl()}};function s2(t){return t&&t.length===1?t[0]:new Vn(Cs())}var Ym=new b("angularfire2._apps"),o2={provide:Vn,useFactory:s2,deps:[[new nt,Ym]]},a2={provide:ai,deps:[[new nt,Ym]]};function c2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vn(r)}}var u2=(()=>{class t{constructor(n){Me("angularfire",oi.full,"core"),Me("angularfire",oi.full,"app"),Me("angular",BT.full,n.toString())}static \u0275fac=function(r){return new(r||t)(S(dt))};static \u0275mod=$e({type:t});static \u0275inj=He({providers:[o2,a2]})}return t})();function m7(t,...e){return{ngModule:u2,providers:[{provide:Ym,useFactory:c2(t),multi:!0,deps:[Q,Oe,Ss,...e]}]}}var y7=De(Km,!0);function V0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var U0=V0,j0=new Ln("auth","Firebase",V0());var ed=new _r("@firebase/auth");function l2(t,...e){ed.logLevel<=Y.WARN&&ed.warn(`Auth (${Er}): ${t}`,...e)}function Yl(t,...e){ed.logLevel<=Y.ERROR&&ed.error(`Auth (${Er}): ${t}`,...e)}function un(t,...e){throw vy(t,...e)}function ci(t,...e){return vy(t,...e)}function d2(t,e,n){let r=Object.assign(Object.assign({},U0()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function vy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return j0.create(t,...e)}function x(t,e,...n){if(!t)throw vy(e,...n)}function Un(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yl(e),new Error(e)}function Tr(t,e){t||Un(e)}function ey(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h2(){return D0()==="http:"||D0()==="https:"}function D0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||r0()||"connection"in navigator)?navigator.onLine:!0}function p2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=n0()||i0()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _y(t,e){Tr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var td=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var g2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var m2=new ui(3e4,6e4);function Bn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ln(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return B0(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=pa(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),td.fetch()($0(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function B0(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},g2),e);try{let i=new ty(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ql(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ql(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ql(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw d2(t,l,u);un(t,l)}}catch(i){if(i instanceof Et)throw i;un(t,"network-request-failed",{message:String(i)})}})}function Ta(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield ln(t,e,n,r,i);return"mfaPendingCredential"in u&&un(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function $0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?_y(t.config,i):`${t.config.apiScheme}://${i}`}function y2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ty=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),m2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ql(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ci(t,e,r);return i.customData._tokenResponse=n,i}function T0(t){return t!==void 0&&t.enterprise!==void 0}var ny=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function v2(t,e){return f(this,null,function*(){return ln(t,"GET","/v2/recaptchaConfig",Bn(t,e))})}function _2(t,e){return f(this,null,function*(){return ln(t,"POST","/v1/accounts:delete",e)})}function I2(t,e){return f(this,null,function*(){return ln(t,"POST","/v1/accounts:lookup",e)})}function _a(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Iy(t,e=!1){return f(this,null,function*(){let n=ye(t),r=yield n.getIdToken(e),i=wy(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_a(Jm(i.auth_time)),issuedAtTime:_a(Jm(i.iat)),expirationTime:_a(Jm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Jm(t){return Number(t)*1e3}function wy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mm(n);return i?JSON.parse(i):(Yl("Failed to decode base64 JWT payload"),null)}catch(i){return Yl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function w2(t){let e=wy(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Rs(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Et&&E2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function E2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ry=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function rd(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Rs(t,I2(n,{idToken:r}));x(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?T2(s.providerUserInfo):[],a=D2(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nd(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Ey(t){return f(this,null,function*(){let e=ye(t);yield rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function D2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T2(t){return t.map(e=>{var{providerId:n}=e,r=rf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function C2(t,e){return f(this,null,function*(){let n=yield B0(t,{},()=>f(this,null,function*(){let r=pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",td.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function b2(t,e){return f(this,null,function*(){return ln(t,"POST","/v2/accounts:revokeToken",Bn(t,e))})}var id=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return f(this,null,function*(){return x(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield C2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(x(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(x(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(x(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Un("not implemented")}};function Dr(t,e){x(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ia=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ry(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield Rs(this,this.stsTokenManager.getToken(this.auth,e));return x(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Iy(this,e)}reload(){return Ey(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){let e=yield this.getIdToken();return yield Rs(this,_2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,G=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:W,emailVerified:ue,isAnonymous:Ne,providerData:ne,stsTokenManager:xe}=n;x(W&&xe,e,"internal-error");let Wt=id.fromJSON(this.name,xe);x(typeof W=="string",e,"internal-error"),Dr(d,e.name),Dr(h,e.name),x(typeof ue=="boolean",e,"internal-error"),x(typeof Ne=="boolean",e,"internal-error"),Dr(p,e.name),Dr(g,e.name),Dr(_,e.name),Dr(v,e.name),Dr(T,e.name),Dr(G,e.name);let Or=new t({uid:W,auth:e,email:h,emailVerified:ue,displayName:d,isAnonymous:Ne,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:Wt,createdAt:T,lastLoginAt:G});return ne&&Array.isArray(ne)&&(Or.providerData=ne.map(xi=>Object.assign({},xi))),v&&(Or._redirectEventId=v),Or}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new id;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rd(s),s})}};var C0=new Map;function jn(t){Tr(t instanceof Function,"Expected a class definition");let e=C0.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C0.set(t,e),e)}var A2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),iy=A2;function Jl(t,e,n){return`firebase:${t}:${e}:${n}`}var sd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Jl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ia._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(jn(iy),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||jn(iy),o=Jl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Ia._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function b0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W0(e))return"Blackberry";if(K0(e))return"Webos";if(Dy(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if(G0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function H0(t=me()){return/firefox\//i.test(t)}function Dy(t=me()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(t=me()){return/crios\//i.test(t)}function z0(t=me()){return/iemobile/i.test(t)}function G0(t=me()){return/android/i.test(t)}function W0(t=me()){return/blackberry/i.test(t)}function K0(t=me()){return/webos/i.test(t)}function pd(t=me()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S2(t=me()){var e;return pd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R2(){return s0()&&document.documentMode===10}function Q0(t=me()){return pd(t)||G0(t)||K0(t)||W0(t)||/windows phone/i.test(t)||z0(t)}function M2(){try{return!!(window&&window!==window.top)}catch{return!1}}function Y0(t,e=[]){let n;switch(t){case"Browser":n=b0(me());break;case"Worker":n=`${b0(me())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Er}/${r}`}var sy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function N2(n){return f(this,arguments,function*(t,e={}){return ln(t,"GET","/v2/passwordPolicy",Bn(t,e))})}var x2=6,oy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ay=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new od(this),this.idTokenSubscription=new od(this),this.beforeStateQueue=new sy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield sd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=p2()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){let n=e?ye(e):null;return n&&x(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&x(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(jn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield N2(this),n=new oy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield b2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&jn(e)||this._popupRedirectResolver;x(n,this,"argument-error"),this.redirectPersistenceManager=yield sd.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&l2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Cr(t){return ye(t)}var od=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=u0(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var gd={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P2(t){gd=t}function J0(t){return gd.loadJS(t)}function O2(){return gd.recaptchaEnterpriseScript}function k2(){return gd.gapiScript}function Z0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var F2="recaptcha-enterprise",L2="NO_RECAPTCHA",cy=class{constructor(e){this.type=F2,this.auth=Cr(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){v2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new ny(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;T0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(L2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&T0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=O2();c.length!==0&&(c+=a),J0(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function A0(t,e,n,r=!1){return f(this,null,function*(){let i=new cy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function ad(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield A0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield A0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Ty(t,e){let n=ya(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ni(s,e??{}))return i;un(i,"already-initialized")}return n.initialize({options:e})}function V2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Cy(t,e,n){let r=Cr(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=X0(e),{host:o,port:a}=U2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||j2()}function X0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U2(t){let e=X0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:S0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:S0(o)}}}function S0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function j2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var wa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};function B2(t,e){return f(this,null,function*(){return ln(t,"POST","/v1/accounts:signUp",e)})}function $2(t,e){return f(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithPassword",Bn(t,e))})}function H2(t,e){return f(this,null,function*(){return ln(t,"POST","/v1/accounts:sendOobCode",Bn(t,e))})}function q2(t,e){return f(this,null,function*(){return H2(t,e)})}function z2(t,e){return f(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",Bn(t,e))})}function G2(t,e){return f(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",Bn(t,e))})}var Ea=class t extends wa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ad(e,n,"signInWithPassword",$2);case"emailLink":return z2(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ad(e,r,"signUpPassword",B2);case"emailLink":return G2(e,{idToken:n,email:this._email,oobCode:this._password});default:un(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Zm(t,e){return f(this,null,function*(){return Ta(t,"POST","/v1/accounts:signInWithIdp",Bn(t,e))})}function W2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K2(t){let e=Ds(Ts(t)).link,n=e?Ds(Ts(e)).deep_link_id:null,r=Ds(Ts(t)).deep_link_id;return(r?Ds(Ts(r)).link:null)||r||n||e||t}var cd=class t{constructor(e){var n,r,i,s,o,a;let c=Ds(Ts(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=W2((i=c.mode)!==null&&i!==void 0?i:null);x(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=K2(e);try{return new t(n)}catch{return null}}};var eA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ea._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=cd.parseLink(r);return x(i,"argument-error"),Ea._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ud=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var uy=class extends ud{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Q2(t,e){return f(this,null,function*(){return Ta(t,"POST","/v1/accounts:signUp",Bn(t,e))})}var Ms=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield Ia._fromIdTokenResponse(e,r,i),o=R0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=R0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function R0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ly=class t extends Et{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function tA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ly._fromErrorAndOperation(t,s,e,r):s})}function Y2(t,e,n=!1){return f(this,null,function*(){let r=yield Rs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ms._forOperation(t,"link",r)})}function J2(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Rs(t,tA(r,i,e,t),n);x(s.idToken,r,"internal-error");let o=wy(s.idToken);x(o,r,"internal-error");let{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Ms._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&un(r,"user-mismatch"),s}})}function nA(t,e,n=!1){return f(this,null,function*(){let r="signIn",i=yield tA(t,r,e),s=yield Ms._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function by(t,e){return f(this,null,function*(){return nA(Cr(t),e)})}function Z2(t,e,n){var r;x(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),x(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(x(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(x(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function rA(t){return f(this,null,function*(){let e=Cr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ay(t,e,n){return f(this,null,function*(){let r=Cr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Z2(r,i,n),yield ad(r,i,"getOobCode",q2)})}function Sy(t,e,n){return f(this,null,function*(){let r=Cr(t),o=yield ad(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q2).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rA(t),c}),a=yield Ms._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ry(t,e,n){return by(ye(t),eA.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&rA(t),r}))}function X2(t,e){return f(this,null,function*(){return ln(t,"POST","/v1/accounts:update",e)})}function My(r,i){return f(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let s=ye(t),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield Rs(s,X2(s.auth,a));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;let u=s.providerData.find(({providerId:l})=>l==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),yield s._updateTokensIfNecessary(c)})}function md(t,e,n,r){return ye(t).onIdTokenChanged(e,n,r)}function Ny(t,e,n){return ye(t).beforeAuthStateChanged(e,n)}function yd(t,e,n,r){return ye(t).onAuthStateChanged(e,n,r)}function xy(t){return ye(t).signOut()}var ld="__sak";var dd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function eB(){let t=me();return Dy(t)||pd(t)}var tB=1e3,nB=10,rB=(()=>{class t extends dd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eB()&&M2(),this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);R2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,nB):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},tB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Wn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Wn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Wn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),iA=rB;var iB=(()=>{class t extends dd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Py=iB;function sB(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var oB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield sB(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function sA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var dy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=sA("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function cn(){return window}function aB(t){cn().location.href=t}function oA(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}function cB(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function uB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lB(){return oA()?self:null}var aA="firebaseLocalStorageDb",dB=1,hd="firebaseLocalStorage",cA="fbase_key",li=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function vd(t,e){return t.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function hB(){let t=indexedDB.deleteDatabase(aA);return new li(t).toPromise()}function hy(){let t=indexedDB.open(aA,dB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(hd,{keyPath:cA})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),yield hB(),e(yield hy()))}))})}function M0(t,e,n){return f(this,null,function*(){let r=vd(t,!0).put({[cA]:e,value:n});return new li(r).toPromise()})}function fB(t,e){return f(this,null,function*(){let n=vd(t,!1).get(e),r=yield new li(n).toPromise();return r===void 0?null:r.value})}function N0(t,e){let n=vd(t,!0).delete(e);return new li(n).toPromise()}var pB=800,gB=3,mB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield hy(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>gB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return oA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=oB._getInstance(lB()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield cB(),!this.activeServiceWorker)return;this.sender=new dy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||uB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield hy();return yield M0(n,ld,"1"),yield N0(n,ld),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>M0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>fB(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>N0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=vd(s,!1).getAll();return new li(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),pB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),uA=mB;var C7=Z0("rcb"),b7=new ui(3e4,6e4);function yB(t,e){return e?jn(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Da=class extends wa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function vB(t){return nA(t.auth,new Da(t),t.bypassAuthState)}function _B(t){let{auth:e,user:n}=t;return x(n,e,"internal-error"),J2(n,new Da(t),t.bypassAuthState)}function IB(t){return f(this,null,function*(){let{auth:e,user:n}=t;return x(n,e,"internal-error"),Y2(n,new Da(t),t.bypassAuthState)})}var fy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vB;case"linkViaPopup":case"linkViaRedirect":return IB;case"reauthViaPopup":case"reauthViaRedirect":return _B;default:un(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var A7=new ui(2e3,1e4);var wB="pendingRedirect",Zl=new Map,py=class t extends fy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Zl.get(this.auth._key());if(!e){try{let r=(yield EB(this.resolver,this.auth))?yield Wn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zl.set(this.auth._key(),e)}return this.bypassAuthState||Zl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Wn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Wn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function EB(t,e){return f(this,null,function*(){let n=CB(e),r=TB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function DB(t,e){Zl.set(t._key(),e)}function TB(t){return jn(t._redirectPersistence)}function CB(t){return Jl(wB,t.config.apiKey,t.name)}function bB(t,e,n=!1){return f(this,null,function*(){let r=Cr(t),i=yB(r,e),o=yield new py(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var AB=10*60*1e3,gy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AB&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}};function x0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function SB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(t);default:return!1}}function RB(n){return f(this,arguments,function*(t,e={}){return ln(t,"GET","/v1/projects",e)})}var MB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NB=/^https?/;function xB(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield RB(t);for(let n of e)try{if(PB(n))return}catch{}un(t,"unauthorized-domain")})}function PB(t){let e=ey(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NB.test(n))return!1;if(MB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var OB=new ui(3e4,6e4);function P0(){let t=cn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kB(t){return new Promise((e,n)=>{var r,i,s;function o(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),n(ci(t,"network-request-failed"))},timeout:OB.get()})}if(!((i=(r=cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cn().gapi)===null||s===void 0)&&s.load)o();else{let a=Z0("iframefcb");return cn()[a]=()=>{gapi.load?o():n(ci(t,"network-request-failed"))},J0(`${k2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Xl=null,e})}var Xl=null;function FB(t){return Xl=Xl||kB(t),Xl}var LB=new ui(5e3,15e3),VB="__/auth/iframe",UB="emulator/auth/iframe",jB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $B(t){let e=t.config;x(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?_y(e,UB):`https://${t.config.authDomain}/${VB}`,r={apiKey:e.apiKey,appName:t.name,v:Er},i=BB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pa(r).slice(1)}`}function HB(t){return f(this,null,function*(){let e=yield FB(t),n=cn().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:$B(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jB,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ci(t,"network-request-failed"),a=cn().setTimeout(()=>{s(o)},LB.get());function c(){cn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var qB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zB=500,GB=600,WB="_blank",KB="http://localhost",fd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function QB(t,e,n,r=zB,i=GB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},qB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=me().toLowerCase();n&&(a=q0(u)?WB:n),H0(u)&&(e=e||KB,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(S2(u)&&a!=="_self")return YB(e||"",a),new fd(null);let d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new fd(d)}function YB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var JB="__/auth/handler",ZB="emulator/auth/handler",XB=encodeURIComponent("fac");function O0(t,e,n,r,i,s){return f(this,null,function*(){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Er,eventId:i};if(e instanceof ud){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof uy){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${XB}=${encodeURIComponent(c)}`:"";return`${e$(t)}?${pa(a).slice(1)}${u}`})}function e$({config:t}){return t.emulator?_y(t,ZB):`https://${t.authDomain}/${JB}`}var Xm="webStorageSupport",my=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Py,this._completeRedirectFn=bB,this._overrideRedirectResult=DB}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Tr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield O0(e,n,r,ey(),i);return QB(e,o,sA())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield O0(e,n,r,ey(),i);return aB(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield HB(e),r=new gy(e);return n.register("authEvent",i=>(x(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Xm];o!==void 0&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q0()||Dy()||pd()}},dA=my;var k0="@firebase/auth",F0="1.6.1";var yy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function t$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n$(t){wr(new Nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(t)},u=new ay(r,i,s,c);return V2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wr(new Nt("auth-internal",e=>{let n=Cr(e.getProvider("auth").getImmediate());return(r=>new yy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(k0,F0,t$(t)),Me(k0,F0,"esm2017")}var r$=5*60,i$=Pm("authIdTokenMaxAge")||r$,L0=null,s$=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i$)return;let i=n?.token;L0!==i&&(L0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Oy(t=Cs()){let e=ya(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ty(t,{popupRedirectResolver:dA,persistence:[uA,iA,Py]}),r=Pm("authTokenSyncURL");if(r){let s=s$(r);Ny(n,s,()=>s(n.currentUser)),md(n,o=>s(o))}let i=Nm("auth");return i&&Cy(n,`http://${i}`),n}function o$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}P2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n$("Browser");function fA(t){return new q(function(e){var n=yd(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var pA="auth",di=class{constructor(e){return e}},Ca=class{constructor(){return va(pA)}};var ky=new b("angularfire2.auth-instances");function G$(t,e){let n=Wl(pA,t,e);return n&&new di(n)}function W$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new di(r)}}var K$={provide:Ca,deps:[[new nt,ky]]},Q$={provide:di,useFactory:G$,deps:[[new nt,ky],Vn]},Y$=(()=>{class t{constructor(){Me("angularfire",oi.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=He({providers:[Q$,K$]})}return t})();function mQ(t,...e){return{ngModule:Y$,providers:[{provide:ky,useFactory:W$(t),multi:!0,deps:[Q,Oe,Ss,ai,[new nt,As],...e]}]}}var gA=De(fA,!0);var mA=De(Sy,!0);var yQ=De(Oy,!0);var yA=De(Ay,!0);var vA=De(Ry,!0);var _A=De(xy,!0);var vQ=De(My,!0);var Z$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qt={},w,rv=rv||{},F=Z$||self;function xd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ua(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function X$(t){return Object.prototype.hasOwnProperty.call(t,Fy)&&t[Fy]||(t[Fy]=++eH)}var Fy="closure_uid_"+(1e9*Math.random()>>>0),eH=0;function tH(t,e,n){return t.call.apply(t.bind,arguments)}function nH(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=tH:Ke=nH,Ke.apply(null,arguments)}function _d(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Le(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function br(){this.s=this.s,this.o=this.o}var rH=0;br.prototype.s=!1;br.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),rH!=0)&&X$(this)};br.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function iv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function IA(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(xd(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var iH=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};F.addEventListener("test",n,e),F.removeEventListener("test",n,e)}catch{}return t}();function Na(t){return/^[\s\xa0]*$/.test(t)}function Pd(){var t=F.navigator;return t&&(t=t.userAgent)?t:""}function dn(t){return Pd().indexOf(t)!=-1}function sv(t){return sv[" "](t),t}sv[" "]=function(){};function sH(t,e){var n=WH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var oH=dn("Opera"),Os=dn("Trident")||dn("MSIE"),PA=dn("Edge"),By=PA||Os,OA=dn("Gecko")&&!(Pd().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge"))&&!(dn("Trident")||dn("MSIE"))&&!dn("Edge"),aH=Pd().toLowerCase().indexOf("webkit")!=-1&&!dn("Edge");function kA(){var t=F.document;return t?t.documentMode:void 0}var $y;e:{if(Id="",wd=function(){var t=Pd();if(OA)return/rv:([^\);]+)(\)|;)/.exec(t);if(PA)return/Edge\/([\d\.]+)/.exec(t);if(Os)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(aH)return/WebKit\/(\S+)/.exec(t);if(oH)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),wd&&(Id=wd?wd[1]:""),Os&&(Ed=kA(),Ed!=null&&Ed>parseFloat(Id))){$y=String(Ed);break e}$y=Id}var Id,wd,Ed,Hy;F.document&&Os?(Ly=kA(),Hy=Ly||parseInt($y,10)||void 0):Hy=void 0;var Ly,cH=Hy;function xa(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OA){e:{try{sv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xa.$.h.call(this)}}Le(xa,Qe);var uH={2:"touch",3:"pen",4:"mouse"};xa.prototype.h=function(){xa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ja="closure_listenable_"+(1e6*Math.random()|0),lH=0;function dH(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lH,this.fa=this.ia=!1}function Od(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ov(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function hH(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function FA(t){let e={};for(let n in t)e[n]=t[n];return e}var wA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<wA.length;s++)n=wA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kd(t){this.src=t,this.g={},this.h=0}kd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new dH(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function qy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=xA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Od(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var av="closure_lm_"+(1e6*Math.random()|0),Vy={};function VA(t,e,n,r,i){if(r&&r.once)return jA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VA(t,e[s],n,r,i);return null}return n=lv(n),t&&t[ja]?t.O(e,n,Ua(r)?!!r.capture:!!r,i):UA(t,e,n,!1,r,i)}function UA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ua(i)?!!i.capture:!!i,a=uv(t);if(a||(t[av]=a=new kd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=fH(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iH||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($A(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function fH(){function t(n){return e.call(t.src,t.listener,n)}let e=pH;return t}function jA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)jA(t,e[s],n,r,i);return null}return n=lv(n),t&&t[ja]?t.P(e,n,Ua(r)?!!r.capture:!!r,i):UA(t,e,n,!0,r,i)}function BA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)BA(t,e[s],n,r,i);else r=Ua(r)?!!r.capture:!!r,n=lv(n),t&&t[ja]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zy(s,n,r,i),-1<n&&(Od(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=uv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zy(e,n,r,i)),(n=-1<t?e[t]:null)&&cv(n))}function cv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ja])qy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($A(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uv(e))?(qy(n,t),n.h==0&&(n.src=null,e[av]=null)):Od(t)}}}function $A(t){return t in Vy?Vy[t]:Vy[t]="on"+t}function pH(t,e){if(t.fa)t=!0;else{e=new xa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cv(t),t=n.call(r,e)}return t}function uv(t){return t=t[av],t instanceof kd?t:null}var Uy="__closure_events_fn_"+(1e9*Math.random()>>>0);function lv(t){return typeof t=="function"?t:(t[Uy]||(t[Uy]=function(e){return t.handleEvent(e)}),t[Uy])}function Fe(){br.call(this),this.i=new kd(this),this.S=this,this.J=null}Le(Fe,br);Fe.prototype[ja]=!0;Fe.prototype.removeEventListener=function(t,e,n,r){BA(this,t,e,n,r)};function ze(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var i=e;e=new Qe(r,t),LA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Dd(o,r,!0,e)&&i}if(o=e.g=t,i=Dd(o,r,!0,e)&&i,i=Dd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Dd(o,r,!1,e)&&i}Fe.prototype.N=function(){if(Fe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Od(n[r]);delete t.g[e],t.h--}}this.J=null};Fe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Fe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Dd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&qy(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var dv=F.JSON.stringify,Gy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function gH(){var t=hv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Wy=class{constructor(){this.h=this.g=null}add(e,n){let r=HA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},HA=new Gy(()=>new Ky,t=>t.reset()),Ky=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function mH(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yH(t){F.setTimeout(()=>{throw t},0)}var Pa,Oa=!1,hv=new Wy,qA=()=>{let t=F.Promise.resolve(void 0);Pa=()=>{t.then(vH)}},vH=()=>{for(var t;t=gH();){try{t.h.call(t.g)}catch(n){yH(n)}var e=HA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Oa=!1};function Fd(t,e){Fe.call(this),this.h=t||1,this.g=e||F,this.j=Ke(this.qb,this),this.l=Date.now()}Le(Fd,Fe);w=Fd.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ze(this,"tick"),this.ga&&(fv(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){Fd.$.N.call(this),fv(this),delete this.g};function pv(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function zA(t){t.g=pv(()=>{t.g=null,t.i&&(t.i=!1,zA(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Qy=class extends br{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zA(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ka(t){br.call(this),this.h=t,this.g={}}Le(ka,br);var EA=[];function GA(t,e,n,r){Array.isArray(n)||(n&&(EA[0]=n.toString()),n=EA);for(var i=0;i<n.length;i++){var s=VA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function WA(t){ov(t.g,function(e,n){this.g.hasOwnProperty(n)&&cv(e)},t),t.g={}}ka.prototype.N=function(){ka.$.N.call(this),WA(this)};ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ld(){this.g=!0}Ld.prototype.Ea=function(){this.g=!1};function _H(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function IH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function xs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+EH(t,n)+(r?" "+r:"")})}function wH(t,e){t.info(function(){return"TIMEOUT: "+e})}Ld.prototype.info=function(){};function EH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return dv(n)}catch{return e}}var gi={},DA=null;function Vd(){return DA=DA||new Fe}gi.Ta="serverreachability";function KA(t){Qe.call(this,gi.Ta,t)}Le(KA,Qe);function Fa(t){let e=Vd();ze(e,new KA(e))}gi.STAT_EVENT="statevent";function QA(t,e){Qe.call(this,gi.STAT_EVENT,t),this.stat=e}Le(QA,Qe);function rt(t){let e=Vd();ze(e,new QA(e,t))}gi.Ua="timingevent";function YA(t,e){Qe.call(this,gi.Ua,t),this.size=e}Le(YA,Qe);function Ba(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var Ud={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gv(){}gv.prototype.h=null;function TA(t){return t.h||(t.h=t.i())}function ZA(){}var $a={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mv(){Qe.call(this,"d")}Le(mv,Qe);function yv(){Qe.call(this,"c")}Le(yv,Qe);var Yy;function jd(){}Le(jd,gv);jd.prototype.g=function(){return new XMLHttpRequest};jd.prototype.i=function(){return{}};Yy=new jd;function Ha(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ka(this),this.P=DH,t=By?125:void 0,this.V=new Fd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XA}function XA(){this.i=null,this.g="",this.h=!1}var DH=45e3,eS={},Jy={};w=Ha.prototype;w.setTimeout=function(t){this.P=t};function Zy(t,e,n){t.L=1,t.A=$d(Hn(e)),t.u=n,t.S=!0,tS(t,null)}function tS(t,e){t.G=Date.now(),qa(t),t.B=Hn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new XA,t.g=MS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Qy(Ke(t.Pa,t,t.g),t.O)),GA(t.U,t.g,"readystatechange",t.nb),e=t.I?FA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Fa(),_H(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&hn(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=hn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||By||this.g&&(this.h.h||this.g.ja()||SA(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Fa(3):Fa(2)),Bd(this);var n=this.g.da();this.ca=n;t:if(nS(this)){var r=SA(this.g);t="";var i=r.length,s=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),Ma(this);var o="";break t}this.h.i=new F.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,IH(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Na(a)){var u=a;break t}}u=null}if(n=u)xs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xy(this,n);else{this.i=!1,this.s=3,rt(12),hi(this),Ma(this);break e}}this.S?(rS(this,l,o),By&&this.i&&l==3&&(GA(this.U,this.V,"tick",this.mb),this.V.start())):(xs(this.j,this.m,o,null),Xy(this,o)),l==4&&hi(this),this.i&&!this.J&&(l==4?bS(this.l,this):(this.i=!1,qa(this)))}else qH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),hi(this),Ma(this)}}}catch{}finally{}};function nS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function rS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=TH(t,n),i==Jy){e==4&&(t.s=4,rt(14),r=!1),xs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==eS){t.s=4,rt(15),xs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xs(t.j,t.m,i,null),Xy(t,i);nS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,rt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dv(e),e.M=!0,rt(11))):(xs(t.j,t.m,n,"[Invalid Chunked Response]"),hi(t),Ma(t))}w.mb=function(){if(this.g){var t=hn(this.g),e=this.g.ja();this.o<e.length&&(Bd(this),rS(this,t,e),this.i&&t!=4&&qa(this))}};function TH(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Jy:(n=Number(e.substring(n,r)),isNaN(n)?eS:(r+=1,r+n>e.length?Jy:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,hi(this)};function qa(t){t.Y=Date.now()+t.P,iS(t,t.P)}function iS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ba(Ke(t.lb,t),e)}function Bd(t){t.C&&(F.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(wH(this.j,this.B),this.L!=2&&(Fa(),rt(17)),hi(this),this.s=2,Ma(this)):iS(this,this.Y-t)};function Ma(t){t.l.H==0||t.J||bS(t.l,t)}function hi(t){Bd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,fv(t.V),WA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Xy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ev(n.i,t))){if(!t.K&&ev(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Sd(n),zd(n);else break e;Ev(n),rt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ba(Ke(n.ib,n),6e3));if(1>=hS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fi(n,11)}else if((t.K||n.g==t)&&Sd(n),!Na(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(vv(s,s.h),s.h=null))}if(r.F){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,de(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=RS(r,r.J?r.pa:null,r.Y),o.K){fS(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Bd(a),qa(a)),r.g=o}else TS(r);0<n.j.length&&Gd(n)}else u[0]!="stop"&&u[0]!="close"||fi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fi(n,7):wv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Fa(4)}catch{}}function CH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function bH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function sS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=bH(t),r=CH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var oS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function pi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pi){this.h=t.h,bd(this,t.j),this.s=t.s,this.g=t.g,Ad(this,t.m),this.l=t.l;var e=t.i,n=new La;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),CA(this,n),this.o=t.o}else t&&(e=String(t).match(oS))?(this.h=!1,bd(this,e[1]||"",!0),this.s=Sa(e[2]||""),this.g=Sa(e[3]||"",!0),Ad(this,e[4]),this.l=Sa(e[5]||"",!0),CA(this,e[6]||"",!0),this.o=Sa(e[7]||"")):(this.h=!1,this.i=new La(null,this.h))}pi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ra(e,bA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ra(e,bA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ra(n,n.charAt(0)=="/"?MH:RH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ra(n,xH)),t.join("")};function Hn(t){return new pi(t)}function bd(t,e,n){t.j=n?Sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ad(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CA(t,e,n){e instanceof La?(t.i=e,PH(t.i,t.h)):(n||(e=Ra(e,NH)),t.i=new La(e,t.h))}function de(t,e,n){t.i.set(e,n)}function $d(t){return de(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ra(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var bA=/[#\/\?@]/g,RH=/[#\?:]/g,MH=/[#\?]/g,NH=/[#\?@]/g,xH=/#/g;function La(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ar(t){t.g||(t.g=new Map,t.h=0,t.i&&AH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=La.prototype;w.add=function(t,e){Ar(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aS(t,e){Ar(t),e=ks(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cS(t,e){return Ar(t),e=ks(t,e),t.g.has(e)}w.forEach=function(t,e){Ar(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){Ar(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){Ar(this);let e=[];if(typeof t=="string")cS(this,t)&&(e=e.concat(this.g.get(ks(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return Ar(this),this.i=null,t=ks(this,t),cS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uS(t,e,n){aS(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),iv(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function PH(t,e){e&&!t.j&&(Ar(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aS(this,r),uS(this,i,n))},t)),t.j=e}var OH=class{constructor(t,e){this.g=t,this.map=e}};function lS(t){this.l=t||kH,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kH=10;function dS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hS(t){return t.h?1:t.g?t.g.size:0}function ev(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vv(t,e){t.g?t.g.add(e):t.h=e}function fS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lS.prototype.cancel=function(){if(this.i=pS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function pS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return iv(t.i)}var FH=class{stringify(t){return F.JSON.stringify(t,void 0)}parse(t){return F.JSON.parse(t,void 0)}};function LH(){this.g=new FH}function VH(t,e,n){let r=n||"";try{sS(t,function(i,s){let o=i;Ua(i)&&(o=dv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function UH(t,e){let n=new Ld;if(F.Image){let r=new Image;r.onload=_d(Td,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_d(Td,n,r,"TestLoadImage: error",!1,e),r.onabort=_d(Td,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_d(Td,n,r,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Td(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function za(t){this.l=t.ec||null,this.j=t.ob||!1}Le(za,gv);za.prototype.g=function(){return new Hd(this.l,this.j)};za.prototype.i=function(t){return function(){return t}}({});function Hd(t,e){Fe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Le(Hd,Fe);var _v=0;w=Hd.prototype;w.open=function(t,e){if(this.readyState!=_v)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Va(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||F).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=_v};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function gS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ga(this):Va(this),this.readyState==3&&gS(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,Ga(this))};w.Ya=function(t){this.g&&(this.response=t,Ga(this))};w.ka=function(){this.g&&Ga(this)};function Ga(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Va(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Va(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jH=F.JSON.parse;function ve(t){Fe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mS,this.L=this.M=!1}Le(ve,Fe);var mS="",BH=/^https?$/i,$H=["POST","PUT"];w=ve.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yy.g(),this.C=this.u?TA(this.u):TA(Yy),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){AA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=F.FormData&&t instanceof F.FormData,!(0<=xA($H,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_S(this),0<this.B&&((this.L=HH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=pv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){AA(this,s)}};function HH(t){return Os&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof rv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ze(this,"timeout"),this.abort(8))};function AA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yS(t),qd(t)}function yS(t){t.F||(t.F=!0,ze(t,"complete"),ze(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ze(this,"complete"),ze(this,"abort"),qd(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qd(this,!0)),ve.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?vS(this):this.kb())};w.kb=function(){vS(this)};function vS(t){if(t.h&&typeof rv<"u"&&(!t.C[1]||hn(t)!=4||t.da()!=2)){if(t.v&&hn(t)==4)pv(t.La,0,t);else if(ze(t,"readystatechange"),hn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(oS)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!BH.test(i?i.toLowerCase():"")}n=r}if(n)ze(t,"complete"),ze(t,"success");else{t.m=6;try{var s=2<hn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",yS(t)}}finally{qd(t)}}}}function qd(t,e){if(t.g){_S(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ze(t,"ready");try{n.onreadystatechange=r}catch{}}}function _S(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function hn(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jH(e)}};function SA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qH(t){let e={};t=(t.g&&2<=hn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Na(t[r]))continue;var n=mH(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}hH(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function IS(t){let e="";return ov(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Iv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):de(t,e,n))}function ba(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wS(t){this.Ga=0,this.j=[],this.l=new Ld,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ba("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ba("baseRetryDelayMs",5e3,t),this.hb=ba("retryDelaySeedMs",1e4,t),this.eb=ba("forwardChannelMaxRetries",2,t),this.xa=ba("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lS(t&&t.concurrentRequestLimit),this.Ja=new LH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=wS.prototype;w.ra=8;w.H=1;function wv(t){if(ES(t),t.H==3){var e=t.W++,n=Hn(t.I);if(de(n,"SID",t.K),de(n,"RID",e),de(n,"TYPE","terminate"),Wa(t,n),e=new Ha(t,t.l,e),e.L=2,e.A=$d(Hn(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&F.Image&&(new Image().src=e.A,n=!0),n||(e.g=MS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),qa(e)}SS(t)}function zd(t){t.g&&(Dv(t),t.g.cancel(),t.g=null)}function ES(t){zd(t),t.u&&(F.clearTimeout(t.u),t.u=null),Sd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function Gd(t){if(!dS(t.i)&&!t.m){t.m=!0;var e=t.Na;Pa||qA(),Oa||(Pa(),Oa=!0),hv.add(e,t),t.C=0}}function zH(t,e){return hS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ba(Ke(t.Na,t,e),AS(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ha(this,this.l,t),s=this.s;if(this.U&&(s?(s=FA(s),LA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=DS(this,i,e),n=Hn(this.I),de(n,"RID",t),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),Wa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(IS(s)))+"&"+e:this.o&&Iv(n,this.o,s)),vv(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",e),de(n,"SID","null"),i.aa=!0,Zy(i,n,null)):Zy(i,n,e),this.H=2}}else this.H==3&&(t?RA(this,t):this.j.length==0||dS(this.i)||RA(this))};function RA(t,e){var n;e?n=e.m:n=t.W++;let r=Hn(t.I);de(r,"SID",t.K),de(r,"RID",n),de(r,"AID",t.V),Wa(t,r),t.o&&t.s&&Iv(r,t.o,t.s),n=new Ha(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=DS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vv(t.i,n),Zy(n,r,e)}function Wa(t,e){t.na&&ov(t.na,function(n,r){de(e,r,n)}),t.h&&sS({},function(n,r){de(e,r,n)})}function DS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{VH(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function TS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pa||qA(),Oa||(Pa(),Oa=!0),hv.add(e,t),t.A=0}}function Ev(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ba(Ke(t.Ma,t),AS(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,CS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ba(Ke(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rt(10),zd(this),CS(this))};function Dv(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function CS(t){t.g=new Ha(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Hn(t.wa);de(e,"RID","rpc"),de(e,"SID",t.K),de(e,"AID",t.V),de(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&de(e,"TO",t.qa),de(e,"TYPE","xmlhttp"),Wa(t,e),t.o&&t.s&&Iv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=$d(Hn(e)),n.u=null,n.S=!0,tS(n,t)}w.ib=function(){this.v!=null&&(this.v=null,zd(this),Ev(this),rt(19))};function Sd(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function bS(t,e){var n=null;if(t.g==e){Sd(t),Dv(t),t.g=null;var r=2}else if(ev(t.i,e))n=e.F,fS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Vd(),ze(r,new YA(r,n)),Gd(t)}else TS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&zH(t,e)||r==2&&Ev(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:fi(t,5);break;case 4:fi(t,10);break;case 3:fi(t,6);break;default:fi(t,2)}}}function AS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new pi("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||bd(n,"https"),$d(n)),UH(n.toString(),r)}else rt(2);t.H=0,t.h&&t.h.za(e),SS(t),ES(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rt(2)):(this.l.info("Failed to ping google.com"),rt(1))};function SS(t){if(t.H=0,t.ma=[],t.h){let e=pS(t.i);(e.length!=0||t.j.length!=0)&&(IA(t.ma,e),IA(t.ma,t.j),t.i.i.length=0,iv(t.j),t.j.length=0),t.h.ya()}}function RS(t,e,n){var r=n instanceof pi?Hn(n):new pi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ad(r,r.m);else{var i=F.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new pi(null);r&&bd(s,r),e&&(s.g=e),i&&Ad(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&de(r,n,e),de(r,"VER",t.ra),Wa(t,r),r}function MS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ve(new za({ob:n})):new ve(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function NS(){}w=NS.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function Rd(){if(Os&&!(10<=Number(cH)))throw Error("Environmental error: no available transport.")}Rd.prototype.g=function(t,e){return new Dt(t,e)};function Dt(t,e){Fe.call(this),this.g=new wS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Na(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Na(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fs(this)}Le(Dt,Fe);Dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=RS(t,null,t.Y),Gd(t)};Dt.prototype.close=function(){wv(this.g)};Dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dv(t),t=n);e.j.push(new OH(e.fb++,t)),e.H==3&&Gd(e)};Dt.prototype.N=function(){this.g.h=null,delete this.j,wv(this.g),delete this.g,Dt.$.N.call(this)};function xS(t){mv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Le(xS,mv);function PS(){yv.call(this),this.status=1}Le(PS,yv);function Fs(t){this.g=t}Le(Fs,NS);Fs.prototype.Ba=function(){ze(this.g,"a")};Fs.prototype.Aa=function(t){ze(this.g,new xS(t))};Fs.prototype.za=function(t){ze(this.g,new PS)};Fs.prototype.ya=function(){ze(this.g,"b")};function GH(){this.blockSize=-1}function Ht(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Le(Ht,GH);Ht.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ht.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)jy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jy(this,r),i=0;break}}this.h=i,this.i+=e};Ht.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var WH={};function Tv(t){return-128<=t&&128>t?sH(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function fn(t){if(isNaN(t)||!isFinite(t))return Ps;if(0>t)return qe(fn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tv;return new ae(e,0)}function OS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return qe(OS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fn(Math.pow(e,8)),r=Ps,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fn(Math.pow(e,s)),r=r.R(s).add(fn(o))):(r=r.R(n),r=r.add(fn(o)))}return r}var tv=4294967296,Ps=Tv(0),nv=Tv(1),MA=Tv(16777216);w=ae.prototype;w.ea=function(){if(xt(this))return-qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tv+r)*e,e*=tv}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($n(this))return"0";if(xt(this))return"-"+qe(this).toString(t);for(var e=fn(Math.pow(t,6)),n=this,r="";;){var i=Nd(n,e).g;n=Md(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,$n(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $n(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function xt(t){return t.h==-1}w.X=function(t){return t=Md(this,t),xt(t)?-1:$n(t)?0:1};function qe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(nv)}w.abs=function(){return xt(this)?qe(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function Md(t,e){return t.add(qe(e))}w.R=function(t){if($n(this)||$n(t))return Ps;if(xt(this))return xt(t)?qe(this).R(qe(t)):qe(qe(this).R(t));if(xt(t))return qe(this.R(qe(t)));if(0>this.X(MA)&&0>t.X(MA))return fn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Cd(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Cd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function Cd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Aa(t,e){this.g=t,this.h=e}function Nd(t,e){if($n(e))throw Error("division by zero");if($n(t))return new Aa(Ps,Ps);if(xt(t))return e=Nd(qe(t),e),new Aa(qe(e.g),qe(e.h));if(xt(e))return e=Nd(t,qe(e)),new Aa(qe(e.g),e.h);if(30<t.g.length){if(xt(t)||xt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nv,r=e;0>=r.X(t);)n=NA(n),r=NA(r);var i=Ns(n,1),s=Ns(r,1);for(r=Ns(r,2),n=Ns(n,2);!$n(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ns(r,1),n=Ns(n,1)}return e=Md(t,i.R(e)),new Aa(i,e)}for(i=Ps;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=fn(n),o=s.R(e);xt(o)||0<o.X(t);)n-=r,s=fn(n),o=s.R(e);$n(s)&&(s=nv),i=i.add(s),t=Md(t,o)}return new Aa(i,t)}w.gb=function(t){return Nd(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function NA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function Ns(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ae(i,t.h)}Rd.prototype.createWebChannel=Rd.prototype.g;Dt.prototype.send=Dt.prototype.u;Dt.prototype.open=Dt.prototype.m;Dt.prototype.close=Dt.prototype.close;Ud.NO_ERROR=0;Ud.TIMEOUT=8;Ud.HTTP_ERROR=6;JA.COMPLETE="complete";ZA.EventType=$a;$a.OPEN="a";$a.CLOSE="b";$a.ERROR="c";$a.MESSAGE="d";Fe.prototype.listen=Fe.prototype.O;ve.prototype.listenOnce=ve.prototype.P;ve.prototype.getLastError=ve.prototype.Sa;ve.prototype.getLastErrorCode=ve.prototype.Ia;ve.prototype.getStatus=ve.prototype.da;ve.prototype.getResponseJson=ve.prototype.Wa;ve.prototype.getResponseText=ve.prototype.ja;ve.prototype.send=ve.prototype.ha;ve.prototype.setWithCredentials=ve.prototype.Oa;Ht.prototype.digest=Ht.prototype.l;Ht.prototype.reset=Ht.prototype.reset;Ht.prototype.update=Ht.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=fn;ae.fromString=OS;var kS=qt.createWebChannelTransport=function(){return new Rd},FS=qt.getStatEventTarget=function(){return Vd()},Wd=qt.ErrorCode=Ud,LS=qt.EventType=JA,VS=qt.Event=gi,Cv=qt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IQ=qt.FetchXmlHttpFactory=za,Ka=qt.WebChannel=ZA,US=qt.XhrIo=ve,jS=qt.Md5=Ht,mi=qt.Integer=ae;var BS="@firebase/firestore";var Ve=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");var ro="10.8.1";var Ei=new _r("@firebase/firestore");function Qa(){return Ei.logLevel}function E(t,...e){if(Ei.logLevel<=Y.DEBUG){let n=e.map(fI);Ei.debug(`Firestore (${ro}): ${t}`,...n)}}function _n(t,...e){if(Ei.logLevel<=Y.ERROR){let n=e.map(fI);Ei.error(`Firestore (${ro}): ${t}`,...n)}}function Hs(t,...e){if(Ei.logLevel<=Y.WARN){let n=e.map(fI);Ei.warn(`Firestore (${ro}): ${t}`,...n)}}function fI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function O(t="Unexpected state"){let e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+t;throw _n(e),new Error(e)}function le(t,e){t||O()}function B(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends Et{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Zd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Mv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ve.UNAUTHENTICATED))}shutdown(){}},Nv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},xv=class{constructor(e){this.t=e,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new gn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new Zd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new Ve(e)}},Pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ov=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}},kv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.R=n.token,new kv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function KH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=KH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ge=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var j=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ge(0,0))}static max(){return new t(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var eh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&O(),r===void 0?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},pe=class t extends eh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},QH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends eh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return QH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var M=class t{constructor(e){this.path=e}static fromPath(e){return new t(pe.fromString(e))}static fromName(e){return new t(pe.fromString(e).popFirst(5))}static empty(){return new t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new pe(e.slice()))}};var Lv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Lv.UNKNOWN_ID=-1;function YH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Di(i,M.empty(),e)}function JH(t){return new Di(t.readTime,t.key,-1)}var Di=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(j.min(),M.empty(),-1)}static max(){return new t(j.max(),M.empty(),-1)}};function ZH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var XH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hc(t){return f(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==XH)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Uv=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new gn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new wi(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=pI(r.target.error);this.V.reject(new wi(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new wi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Bv(n)}},th=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(me())===12.2&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),yi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$l())return!1;if(t.C())return!0;let e=me(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return f(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new wi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new wi(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return f(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Uv.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},jv=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yi(this.k.delete())}},wi=class extends C{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function fc(t){return t.name==="IndexedDbTransactionError"}var Bv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yi(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),yi(this.store.add(e))}get(e){return yi(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),yi(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),yi(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=pI(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new jv(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function yi(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=pI(r.target.error);n(i)}})}var $S=!1;function pI(t){let e=th.S(me());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $S||($S=!0,setTimeout(()=>{throw r},0)),r}}return t}var IR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Nh(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function eq(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MQ=[...tq,"documentOverlays"],nq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rq=nq,NQ=[...rq,"indexConfiguration","indexState","indexEntries"];function HS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ri(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ie=class t{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();let e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}};mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class t{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nh(this.data.getIterator())}getIteratorFrom(e){return new nh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},nh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pt=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new Je(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var rh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(t){if(le(!!t),typeof t=="string"){let e=0,n=iq.exec(t);if(le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_e(t.seconds),nanos:_e(t.nanos)}}function _e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function gI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mI(t){let e=t.mapValue.fields.__previous_value__;return gI(e)?mI(e):e}function nc(t){let e=Rr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}var $v=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},ih=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gI(t)?4:ER(t)?9007199254740991:10:O()}function In(t,e){if(t===e)return!0;let n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Rr(i.timestampValue),a=Rr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mr(i.bytesValue).isEqual(Mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _e(i.geoPointValue.latitude)===_e(s.geoPointValue.latitude)&&_e(i.geoPointValue.longitude)===_e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _e(i.integerValue)===_e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=_e(i.doubleValue),a=_e(s.doubleValue);return o===a?tc(o)===tc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HS(o)!==HS(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!In(o[c],a[c])))return!1;return!0}(t,e);default:return O()}}function rc(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function zs(t,e){if(t===e)return 0;let n=Ti(t),r=Ti(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=_e(s.integerValue||s.doubleValue),c=_e(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return qS(t.timestampValue,e.timestampValue);case 4:return qS(nc(t),nc(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Mr(s),c=Mr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ie(a[u],c[u]);if(l!==0)return l}return ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ie(_e(s.latitude),_e(o.latitude));return a!==0?a:ie(_e(s.longitude),_e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=zs(a[u],c[u]);if(l)return l}return ie(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Kd.mapValue&&o===Kd.mapValue)return 0;if(s===Kd.mapValue)return 1;if(o===Kd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ie(c[d],l[d]);if(h!==0)return h;let p=zs(a[c[d]],u[l[d]]);if(p!==0)return p}return ie(c.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function qS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=Rr(t),r=Rr(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Gs(t){return Hv(t)}function Hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Hv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Hv(n.fields[o])}`;return i+"}"}(t.mapValue):O()}function zS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qv(t){return!!t&&"integerValue"in t}function yI(t){return!!t&&"arrayValue"in t}function GS(t){return!!t&&"nullValue"in t}function WS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yd(t){return!!t&&"mapValue"in t}function Ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ja(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ER(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Tt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ja(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ri(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ja(this.value))}};function DR(t){let e=[];return Ri(t.fields,(n,r)=>{let i=new Ct([n]);if(Yd(r)){let s=DR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Pt(e)}var zt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,j.min(),j.min(),j.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,j.min(),j.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,j.min(),j.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ws=class{constructor(e,n){this.position=e,this.inclusive=n}};function KS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=zs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var Ks=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function sq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var sh=class{},Se=class t extends sh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gv(e,n,r):n==="array-contains"?new Qv(e,r):n==="in"?new Yv(e,r):n==="not-in"?new Jv(e,r):n==="array-contains-any"?new Zv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wv(e,r):new Kv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zs(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gt=class t extends sh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return TR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function TR(t){return t.op==="and"}function CR(t){return oq(t)&&TR(t)}function oq(t){for(let e of t.filters)if(e instanceof Gt)return!1;return!0}function zv(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+Gs(t.value);if(CR(t))return t.filters.map(e=>zv(e)).join(",");{let e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function bR(t,e){return t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&bR(o,i.filters[a]),!0):!1}(t,e):void O()}function AR(t){return t instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(t):t instanceof Gt?function(n){return n.op.toString()+" {"+n.getFilters().map(AR).join(" ,")+"}"}(t):"Filter"}var Gv=class extends Se{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){let n=M.comparator(e.key,this.key);return this.matchesComparison(n)}},Wv=class extends Se{constructor(e,n){super(e,"in",n),this.keys=SR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Kv=class extends Se{constructor(e,n){super(e,"not-in",n),this.keys=SR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}var Qv=class extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return yI(n)&&rc(n.arrayValue,this.value)}},Yv=class extends Se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}},Jv=class extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}},Zv=class extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!yI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}};var Xv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function YS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xv(t,e,n,r,i,s,o)}function vI(t){let e=B(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gs(r)).join(",")),e.ce=n}return e.ce}function _I(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QS(t.startAt,e.startAt)&&QS(t.endAt,e.endAt)}function e_(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ci=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function aq(t,e,n,r,i,s,o,a){return new Ci(t,e,n,r,i,s,o,a)}function II(t){return new Ci(t)}function JS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RR(t){return t.collectionGroup!==null}function Za(t){let e=B(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(Ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ks(s,r))}),n.has(Ct.keyField().canonicalString())||e.le.push(new Ks(Ct.keyField(),r))}return e.le}function yn(t){let e=B(t);return e.he||(e.he=cq(e,Za(t))),e.he}function cq(t,e){if(t.limitType==="F")return YS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ks(i.field,s)});let n=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;return YS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t_(t,e){let n=t.filters.concat([e]);return new Ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function n_(t,e,n){return new Ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xh(t,e){return _I(yn(t),yn(e))&&t.limitType===e.limitType}function MR(t){return`${vI(yn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AR(i)).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`}(yn(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=KS(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Za(r),i)||r.endAt&&!function(o,a,c){let u=KS(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Za(r),i))}(t,e)}function uq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NR(t){return(e,n)=>{let r=!1;for(let i of Za(t)){let s=lq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lq(t,e,n){let r=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?zs(c,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}var Nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return wR(this.inner)}size(){return this.innerSize}};var dq=new Ie(M.comparator);function Gn(){return dq}var xR=new Ie(M.comparator);function Ya(...t){let e=xR;for(let n of t)e=e.insert(n.key,n);return e}function PR(t){let e=xR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Xa()}function OR(){return Xa()}function Xa(){return new Nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var hq=new Ie(M.comparator),fq=new Je(M.comparator);function J(...t){let e=fq;for(let n of t)e=e.add(n);return e}var pq=new Je(ie);function gq(){return pq}function kR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function FR(t){return{integerValue:""+t}}function mq(t,e){return eq(e)?FR(e):kR(t,e)}var Qs=class{constructor(){this._=void 0}};function yq(t,e,n){return t instanceof Ys?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gI(s)&&(s=mI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bi?VR(t,e):t instanceof Ai?UR(t,e):function(i,s){let o=LR(i,s),a=ZS(o)+ZS(i.Ie);return qv(o)&&qv(i.Ie)?FR(a):kR(i.serializer,a)}(t,e)}function vq(t,e,n){return t instanceof bi?VR(t,e):t instanceof Ai?UR(t,e):n}function LR(t,e){return t instanceof Js?function(r){return qv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ys=class extends Qs{},bi=class extends Qs{constructor(e){super(),this.elements=e}};function VR(t,e){let n=jR(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ai=class extends Qs{constructor(e){super(),this.elements=e}};function UR(t,e){let n=jR(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var Js=class extends Qs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function ZS(t){return _e(t.integerValue||t.doubleValue)}function jR(t){return yI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _q(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bi&&i instanceof bi||r instanceof Ai&&i instanceof Ai?qs(r.elements,i.elements,In):r instanceof Js&&i instanceof Js?In(r.Ie,i.Ie):r instanceof Ys&&i instanceof Ys}(t.transform,e.transform)}var r_=class{constructor(e,n){this.version=e,this.transformResults=n}},qn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Zs=class{};function BR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oh(t.key,qn.none()):new Si(t.key,t.data,qn.none());{let n=t.data,r=Tt.empty(),i=new Je(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wn(t.key,r,new Pt(i.toArray()),qn.none())}}function Iq(t,e,n){t instanceof Si?function(i,s,o){let a=i.value.clone(),c=eR(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wn?function(i,s,o){if(!Jd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=eR(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll($R(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,r){return t instanceof Si?function(s,o,a,c){if(!Jd(s.precondition,o))return a;let u=s.value.clone(),l=tR(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wn?function(s,o,a,c){if(!Jd(s.precondition,o))return a;let u=tR(s.fieldTransforms,c,o),l=o.data;return l.setAll($R(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Jd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function wq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=LR(r.transform,i||null);s!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,s))}return n||null}function XS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(s,o)=>_q(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Si=class extends Zs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wn=class extends Zs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function $R(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eR(t,e,n){let r=new Map;le(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vq(o,a,n[i]))}return r}function tR(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,yq(s,o,e))}return r}var oh=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},i_=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var s_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Iq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=OR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=BR(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>XS(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>XS(n,r))}},o_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length);let i=function(){return hq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var a_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var c_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var be,ee;function Eq(t){switch(t){default:return O();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function HR(t){if(t===void 0)return _n("GRPC error has no .code"),m.UNKNOWN;switch(t){case be.OK:return m.OK;case be.CANCELLED:return m.CANCELLED;case be.UNKNOWN:return m.UNKNOWN;case be.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case be.INTERNAL:return m.INTERNAL;case be.UNAVAILABLE:return m.UNAVAILABLE;case be.UNAUTHENTICATED:return m.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case be.NOT_FOUND:return m.NOT_FOUND;case be.ALREADY_EXISTS:return m.ALREADY_EXISTS;case be.PERMISSION_DENIED:return m.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case be.ABORTED:return m.ABORTED;case be.OUT_OF_RANGE:return m.OUT_OF_RANGE;case be.UNIMPLEMENTED:return m.UNIMPLEMENTED;case be.DATA_LOSS:return m.DATA_LOSS;default:return O()}}(ee=be||(be={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";var nR=null;function Dq(){return new TextEncoder}var Tq=new mi([4294967295,4294967295],0);function rR(t){let e=Dq().encode(t),n=new jS;return n.update(e),new Uint8Array(n.digest())}function iR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mi([n,r],0),new mi([i,s],0)]}var u_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _i(`Invalid padding: ${n}`);if(r<0)throw new _i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _i(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _i(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=mi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(mi.fromNumber(r)));return i.compare(Tq)===1&&(i=new mi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=rR(e),[r,i]=iR(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=rR(e),[r,i]=iR(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_i=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ah=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(j.min(),i,new Ie(ie),Gn(),J())}},ic=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,J(),J(),J())}};var Bs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},ch=class{constructor(e,n){this.targetId=e,this.fe=n}},uh=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},lh=class{constructor(){this.ge=0,this.pe=oR(),this.ye=st.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J(),n=J(),r=J();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new ic(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=oR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,le(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},l_=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Gn(),this.Qe=sR(),this.Ke=new Ie(ie)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(e_(s))if(r===0){let o=new M(s.path);this.We(n,o,zt.newNoDocument(o,j.min()))}else le(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}nR?.tt(function(l,d,h,p,g){var _,v,T,G,W,ue;let Ne={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ne=d.unchangedNames;return ne&&(Ne.bloomFilter={applied:g===0,hashCount:(_=ne?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(G=(T=(v=ne?.bits)===null||v===void 0?void 0:v.bitmap)===null||T===void 0?void 0:T.length)!==null&&G!==void 0?G:0,padding:(ue=(W=ne?.bits)===null||W===void 0?void 0:W.padding)!==null&&ue!==void 0?ue:0,mightContain:xe=>{var Wt;return(Wt=p?.mightContain(xe))!==null&&Wt!==void 0&&Wt}}),Ne}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Mr(r).toUint8Array()}catch(c){if(c instanceof rh)return Hs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new u_(o,i,s)}catch(c){return Hs(c instanceof _i?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&e_(a.target)){let c=new M(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,zt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=J();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new ah(e,n,this.Ke,this.qe,r);return this.qe=Gn(),this.Qe=sR(),this.Ke=new Ie(ie),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new lh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Je(ie),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new lh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function sR(){return new Ie(M.comparator)}function oR(){return new Ie(M.comparator)}var Cq={asc:"ASCENDING",desc:"DESCENDING"},bq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aq={and:"AND",or:"OR"},d_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function h_(t,e){return t.useProto3Json||Nh(e)?e:{value:e}}function dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sq(t,e){return dh(t,e.toTimestamp())}function vn(t){return le(!!t),j.fromTimestamp(function(n){let r=Rr(n);return new Ge(r.seconds,r.nanos)}(t))}function wI(t,e){return f_(t,e).canonicalString()}function f_(t,e){let n=function(i){return new pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zR(t){let e=pe.fromString(t);return le(YR(e)),e}function p_(t,e){return wI(t.databaseId,e.path)}function bv(t,e){let n=zR(e);if(n.get(1)!==t.databaseId.projectId)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(WR(n))}function GR(t,e){return wI(t.databaseId,e)}function Rq(t){let e=zR(t);return e.length===4?pe.emptyPath():WR(e)}function g_(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WR(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aR(t,e,n){return{name:p_(t,e),fields:n.value.mapValue.fields}}function Mq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(le(l===void 0||typeof l=="string"),st.fromBase64String(l||"")):(le(l===void 0||l instanceof Uint8Array),st.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:HR(u.code);return new C(l,u.message||"")}(o);n=new uh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=bv(t,r.document.name),s=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):j.min(),a=new Tt({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Bs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=bv(t,r.document),s=r.readTime?vn(r.readTime):j.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=bv(t,r.document),s=r.removedTargetIds||[];n=new Bs([],s,i,null)}else{if(!("filter"in e))return O();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new c_(i,s),a=r.targetId;n=new ch(a,o)}}return n}function Nq(t,e){let n;if(e instanceof Si)n={update:aR(t,e.key,e.value)};else if(e instanceof oh)n={delete:p_(t,e.key)};else if(e instanceof wn)n={update:aR(t,e.key,e.data),updateMask:jq(e.fieldMask)};else{if(!(e instanceof i_))return O();n={verify:p_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ys)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Js)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Sq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:O()}(t,e.precondition)),n}function xq(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vn(i.updateTime):vn(s);return o.isEqual(j.min())&&(o=vn(s)),new r_(o,i.transformResults||[])}(n,e))):[]}function Pq(t,e){return{documents:[GR(t,e.path)]}}function Oq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GR(t,i);let s=function(u){if(u.length!==0)return QR(Gt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Vs(h.field),direction:Lq(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=h_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function kq(t){let e=Rq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){le(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=KR(d);return h instanceof Gt&&CR(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Ks(Us(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Nh(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new Ws(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new Ws(p,h)}(n.endAt)),aq(e,i,o,s,a,"F",c,u)}function Fq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Us(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Us(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Us(n.unaryFilter.field);return Se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Us(n.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(n){return Se.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gt.create(n.compositeFilter.filters.map(r=>KR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O()}function Lq(t){return Cq[t]}function Vq(t){return bq[t]}function Uq(t){return Aq[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function Us(t){return Ct.fromServerFormat(t.fieldPath)}function QR(t){return t instanceof Se?function(n){if(n.op==="=="){if(WS(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(GS(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WS(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(GS(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:Vq(n.op),value:n.value}}}(t):t instanceof Gt?function(n){let r=n.getFilters().map(i=>QR(i));return r.length===1?r[0]:{compositeFilter:{op:Uq(n.op),filters:r}}}(t):O()}function jq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var sc=class t{constructor(e,n,r,i,s=j.min(),o=j.min(),a=st.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var m_=class{constructor(e){this.ct=e}};function Bq(t){let e=kq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n_(e,e.limit,"L"):e}var hh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(_e(e.integerValue));else if("doubleValue"in e){let r=_e(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),tc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Mr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?ER(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):O()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),M.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};hh.bt=new hh;var y_=class{constructor(){this._n=new v_}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Di.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},v_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(pe.comparator)).toArray()}};var PQ=new Uint8Array(0);var pn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);var oc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var __=class{constructor(){this.changes=new Nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var I_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var w_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ec(r.mutation,i,Pt.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){let i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ya();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gn(),o=Xa(),a=function(){return Xa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof wn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ec(l.mutation,u,l.mutation.getFieldMask(),Ge.now())):o.set(u.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new I_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Xa(),i=new Ie((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Pt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||J()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=OR();l.forEach(h=>{if(!s.has(h)){let p=BR(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(vi()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,J())).next(l=>({batchId:a,changes:PR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ya();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new Ci(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,zt.newInvalidDocument(l)))});let a=Ya();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ec(l.mutation,u,Pt.empty(),Ge.now()),Ph(n,u)&&(a=a.insert(c,u))}),a})}};var E_=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Bq(i.bundledQuery),readTime:vn(i.readTime)}}(n)),y.resolve()}};var D_=class{constructor(){this.overlays=new Ie(M.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vi();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=vi(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ie((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=vi(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=vi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a_(n,r));let s=this.hr.get(n);s===void 0&&(s=J(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var ac=class{constructor(){this.Pr=new Je(Ae.Ir),this.Tr=new Je(Ae.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ae(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ae(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new M(new pe([])),r=new Ae(n,e),i=new Ae(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new M(new pe([])),r=new Ae(n,e),i=new Ae(n,e+1),s=J();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ae(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ae=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return M.comparator(e.key,n.key)||ie(e.pr,n.pr)}static Er(e,n){return ie(e.pr,n.pr)||M.comparator(e.key,n.key)}};var T_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Je(Ae.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new s_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ae(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ae(n,0),i=new Ae(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ie);return n.forEach(i=>{let s=new Ae(i,0),o=new Ae(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;M.isDocumentKey(s)||(s=s.child(""));let o=new Ae(new M(s),0),a=new Je(ie);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new Ae(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ae(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var C_=class{constructor(e){this.vr=e,this.docs=function(){return new Ie(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gn(),o=n.path,a=new M(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ZH(JH(l),r)<=0||(i.has(l.key)||Ph(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b_(this)}getSize(e){return y.resolve(this.size)}},b_=class extends __{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var A_=class{constructor(e){this.persistence=e,this.Mr=new Nr(n=>vI(n),_I),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ac,this.targetCount=0,this.Br=oc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new oc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var S_=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new IR(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new A_(this),this.indexManager=new y_,this.remoteDocumentCache=function(i){return new C_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new m_(n),this.$r=new E_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new T_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new R_(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},R_=class extends Vv{constructor(e){super(),this.currentSequenceNumber=e}},M_=class t{constructor(e){this.persistence=e,this.zr=new ac,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw O()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=M.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var N_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=J(),i=J();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var x_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var P_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return o0()?8:th.v(me())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new x_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Qa()<=Y.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(Qa()<=Y.DEBUG&&E("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qa()<=Y.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):y.resolve())}ji(e,n){if(JS(n))return y.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=n_(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=J(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,n_(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return JS(n)||i.isEqual(j.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(Qa()<=Y.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.es(e,o,n,YH(i,-1)).next(a=>a))})}Zi(e,n){let r=new Je(NR(e));return n.forEach((i,s)=>{Ph(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Qa()<=Y.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.zi.getDocumentsMatchingQuery(e,n,Di.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var O_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ie(ie),this.rs=new Nr(s=>vI(s),_I),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function $q(t,e,n,r){return new O_(t,e,n,r)}function JR(t,e){return f(this,null,function*(){let n=B(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=J();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function Hq(t,e){let n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(g=>{p=p.next(()=>l.getEntry(c,g)).next(_=>{let v=u.docVersions.get(g);le(v!==null),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=J();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZR(t){let e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function qq(t,e){let n=B(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(st.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(_,v,T){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(s,p))});let c=Gn(),u=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(zq(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(j.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function zq(t,e,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(j.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function Gq(t,e){let n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wq(t,e){let n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new sc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function k_(t,e,n){return f(this,null,function*(){let r=B(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!fc(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function cR(t,e,n){let r=B(t),i=j.min(),s=J();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=B(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:J())).next(a=>(Kq(r,uq(e),a),{documents:a,hs:s})))}function Kq(t,e,n){let r=t.ss.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var fh=class{constructor(){this.activeTargetIds=gq()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var F_=class{constructor(){this.no=new fh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new fh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var L_=class{io(e){}shutdown(){}};var ph=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qd=null;function Av(){return Qd===null?Qd=function(){return 268435456+Math.round(2147483648*Math.random())}():Qd++,"0x"+Qd.toString(16)}var Qq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var V_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ye="WebChannelConnection",U_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Av(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Hs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Qq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Av();return new Promise((o,a)=>{let c=new US;c.setWithCredentials(!0),c.listenOnce(LS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Wd.NO_ERROR:let l=c.getResponseJson();E(Ye,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Wd.TIMEOUT:E(Ye,`RPC '${e}' ${s} timed out`),a(new C(m.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:let d=c.getStatus();if(E(Ye,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let g=function(v){let T=v.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(T)>=0?T:m.UNKNOWN}(p.status);a(new C(g,p.message))}else a(new C(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(m.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{E(Ye,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Ye,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Av(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kS(),a=FS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Ye,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,g=new V_({lo:v=>{p?E(Ye,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(E(Ye,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(Ye,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},ho:()=>d.close()}),_=(v,T,G)=>{v.listen(T,W=>{try{G(W)}catch(ue){setTimeout(()=>{throw ue},0)}})};return _(d,Ka.EventType.OPEN,()=>{p||E(Ye,`RPC '${e}' stream ${i} transport opened.`)}),_(d,Ka.EventType.CLOSE,()=>{p||(p=!0,E(Ye,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),_(d,Ka.EventType.ERROR,v=>{p||(p=!0,Hs(Ye,`RPC '${e}' stream ${i} transport errored:`,v),g.Vo(new C(m.UNAVAILABLE,"The operation could not be completed")))}),_(d,Ka.EventType.MESSAGE,v=>{var T;if(!p){let G=v.data[0];le(!!G);let W=G,ue=W.error||((T=W[0])===null||T===void 0?void 0:T.error);if(ue){E(Ye,`RPC '${e}' stream ${i} received error:`,ue);let Ne=ue.status,ne=function(Or){let xi=be[Or];if(xi!==void 0)return HR(xi)}(Ne),xe=ue.message;ne===void 0&&(ne=m.INTERNAL,xe="Unknown error status: "+Ne+" with message "+ue.message),p=!0,g.Vo(new C(ne,xe)),d.close()}else E(Ye,`RPC '${e}' stream ${i} received:`,G),g.mo(G)}}),_(a,VS.STAT_EVENT,v=>{v.stat===Cv.PROXY?E(Ye,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Cv.NOPROXY&&E(Ye,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function Sv(){return typeof document<"u"?document:null}function Oh(t){return new d_(t,!0)}var gh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var mh=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new gh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return f(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return f(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return f(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(_n(n.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>f(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},j_=class extends mh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=Mq(this.serializer,e),r=function(s){if(!("targetChange"in s))return j.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?vn(o.readTime):j.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=g_(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=e_(c)?{documents:Pq(s,c)}:{query:Oq(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qR(s,o.resumeToken);let u=h_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(j.min())>0){a.readTime=dh(s,o.snapshotVersion.toTimestamp());let u=h_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=Fq(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=g_(this.serializer),n.removeTarget=e,this.t_(n)}},B_=class extends mh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=xq(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.T_(r,n)}return le(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=g_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Nq(this.serializer,r))};this.t_(n)}};var $_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,f_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(m.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,f_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var H_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(_n(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var q_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>f(this,null,function*(){Mi(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=B(c);u.v_.add(4),yield pc(u),u.x_.set("Unknown"),u.v_.delete(4),yield kh(u)})}(this))}))}),this.x_=new H_(r,i)}};function kh(t){return f(this,null,function*(){if(Mi(t))for(let e of t.F_)yield e(!0)})}function pc(t){return f(this,null,function*(){for(let e of t.F_)yield e(!1)})}function XR(t,e){let n=B(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),TI(n)?DI(n):io(n).Jo()&&EI(n,e))}function eM(t,e){let n=B(t),r=io(n);n.C_.delete(e),r.Jo()&&tM(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Mi(n)&&n.x_.set("Unknown"))}function EI(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(t).c_(e)}function tM(t,e){t.O_.Oe(e),io(t).l_(e)}function DI(t){t.O_=new l_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),io(t).start(),t.x_.p_()}function TI(t){return Mi(t)&&!io(t).Ho()&&t.C_.size>0}function Mi(t){return B(t).v_.size===0}function nM(t){t.O_=void 0}function Yq(t){return f(this,null,function*(){t.C_.forEach((e,n)=>{EI(t,e)})})}function Jq(t,e){return f(this,null,function*(){nM(t),TI(t)?(t.x_.S_(e),DI(t)):t.x_.set("Unknown")})}function Zq(t,e,n){return f(this,null,function*(){if(t.x_.set("Online"),e instanceof uh&&e.state===2&&e.cause)try{yield function(i,s){return f(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yh(t,r)}else if(e instanceof Bs?t.O_.$e(e):e instanceof ch?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(j.min()))try{let r=yield ZR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(st.EMPTY_BYTE_STRING,l.snapshotVersion)),tM(s,c);let d=new sc(l.target,c,u,l.sequenceNumber);EI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield yh(t,r)}})}function yh(t,e,n){return f(this,null,function*(){if(!fc(e))throw e;t.v_.add(1),yield pc(t),t.x_.set("Offline"),n||(n=()=>ZR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield kh(t)}))})}function rM(t,e){return e().catch(n=>yh(t,n,e))}function Fh(t){return f(this,null,function*(){let e=B(t),n=xr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Xq(e);)try{let i=yield Gq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,ez(e,i)}catch(i){yield yh(e,i)}iM(e)&&sM(e)})}function Xq(t){return Mi(t)&&t.D_.length<10}function ez(t,e){t.D_.push(e);let n=xr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function iM(t){return Mi(t)&&!xr(t).Ho()&&t.D_.length>0}function sM(t){xr(t).start()}function tz(t){return f(this,null,function*(){xr(t).d_()})}function nz(t){return f(this,null,function*(){let e=xr(t);for(let n of t.D_)e.I_(n.mutations)})}function rz(t,e,n){return f(this,null,function*(){let r=t.D_.shift(),i=o_.from(r,e,n);yield rM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Fh(t)})}function iz(t,e){return f(this,null,function*(){e&&xr(t).P_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return Eq(o)&&o!==m.ABORTED}(i.code)){let s=r.D_.shift();xr(r).Zo(),yield rM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Fh(r)}})}(t,e)),iM(t)&&sM(t)})}function uR(t,e){return f(this,null,function*(){let n=B(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=Mi(n);n.v_.add(3),yield pc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield kh(n)})}function sz(t,e){return f(this,null,function*(){let n=B(t);e?(n.v_.delete(2),yield kh(n)):e||(n.v_.add(2),yield pc(n),n.x_.set("Unknown"))})}function io(t){return t.N_||(t.N_=function(n,r,i){let s=B(n);return s.R_(),new j_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Yq.bind(null,t),To:Jq.bind(null,t),u_:Zq.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.N_.Zo(),TI(t)?DI(t):t.x_.set("Unknown")):(yield t.N_.stop(),nM(t))}))),t.N_}function xr(t){return t.B_||(t.B_=function(n,r,i){let s=B(n);return s.R_(),new B_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:tz.bind(null,t),To:iz.bind(null,t),E_:nz.bind(null,t),T_:rz.bind(null,t)}),t.F_.push(e=>f(this,null,function*(){e?(t.B_.Zo(),yield Fh(t)):(yield t.B_.stop(),t.D_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var z_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CI(t,e){if(_n("AsyncQueue",`${e}: ${t}`),fc(t))return new C(m.UNAVAILABLE,`${e}: ${t}`);throw t}var vh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Ya(),this.sortedSet=new Ie(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var _h=class{constructor(){this.L_=new Ie(M.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):O():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Xs=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,vh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var G_=class{constructor(){this.q_=void 0,this.Q_=[]}},W_=class{constructor(){this.queries=new Nr(e=>MR(e),xh),this.onlineState="Unknown",this.K_=new Set}};function oz(t,e){return f(this,null,function*(){let n=B(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new G_),i)try{s.q_=yield n.onListen(r)}catch(o){let a=CI(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&bI(n)})}function az(t,e){return f(this,null,function*(){let n=B(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function cz(t,e){let n=B(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&bI(n)}function uz(t,e,n){let r=B(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function bI(t){t.K_.forEach(e=>{e.next()})}var K_=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Ih=class{constructor(e){this.key=e}},wh=class{constructor(e){this.key=e}},Q_=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=J(),this.mutatedKeys=J(),this.ua=NR(e),this.ca=new vh(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new _h,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=Ph(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),v=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),v=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),v=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(p?(o=o.add(p),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(p,g){let _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return _(p)-_(g)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Xs(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new _h,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=J(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new wh(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Ih(r))}),n}Ra(e){this.oa=e.hs,this.aa=J();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Xs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},Y_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},J_=class{constructor(e){this.key=e,this.ma=!1}},Z_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Nr(a=>MR(a),xh),this.pa=new Map,this.ya=new Set,this.wa=new Ie(M.comparator),this.Sa=new Map,this.ba=new ac,this.Da={},this.Ca=new Map,this.va=oc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function lz(t,e){return f(this,null,function*(){let n=Iz(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield Wq(n.localStore,yn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield dz(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&XR(n.remoteStore,o)}return i})}function dz(t,e,n,r,i){return f(this,null,function*(){t.Ma=(d,h,p)=>function(_,v,T,G){return f(this,null,function*(){let W=v.view.ha(T);W.Xi&&(W=yield cR(_.localStore,v.query,!1).then(({documents:xe})=>v.view.ha(xe,W)));let ue=G&&G.targetChanges.get(v.targetId),Ne=G&&G.targetMismatches.get(v.targetId)!=null,ne=v.view.applyChanges(W,_.isPrimaryClient,ue,Ne);return dR(_,v.targetId,ne.da),ne.snapshot})}(t,d,h,p);let s=yield cR(t.localStore,e,!0),o=new Q_(e,s.hs),a=o.ha(s.documents),c=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);dR(t,n,u.da);let l=new Y_(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function hz(t,e){return f(this,null,function*(){let n=B(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!xh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield k_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),eM(n.remoteStore,r.targetId),X_(n,r.targetId)}).catch(hc))):(X_(n,r.targetId),yield k_(n.localStore,r.targetId,!0))})}function fz(t,e,n){return f(this,null,function*(){let r=wz(t);try{let i=yield function(o,a){let c=B(o),u=Ge.now(),l=a.reduce((p,g)=>p.add(g.key),J()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Gn(),_=J();return c.os.getEntries(p,l).next(v=>{g=v,g.forEach((T,G)=>{G.isValidDocument()||(_=_.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;let T=[];for(let G of a){let W=wq(G,d.get(G.key).overlayedDocument);W!=null&&T.push(new wn(G.key,W,DR(W.value.mapValue),qn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,T,a)}).next(v=>{h=v;let T=v.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(p,v.batchId,T)})}).then(()=>({batchId:h.batchId,changes:PR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new Ie(ie)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield gc(r,i.changes),yield Fh(r.remoteStore)}catch(i){let s=CI(i,"Failed to persist write");n.reject(s)}})}function oM(t,e){return f(this,null,function*(){let n=B(t);try{let r=yield qq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?le(o.ma):i.removedDocuments.size>0&&(le(o.ma),o.ma=!1))}),yield gc(n,r,e)}catch(r){yield hc(r)}})}function lR(t,e,n){let r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=B(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&bI(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pz(t,e,n){return f(this,null,function*(){let r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ie(M.comparator);o=o.insert(s,zt.newNoDocument(s,j.min()));let a=J().add(s),c=new ah(j.min(),new Map,new Ie(ie),o,a);yield oM(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),AI(r)}else yield k_(r.localStore,e,!1).then(()=>X_(r,e,n)).catch(hc)})}function gz(t,e){return f(this,null,function*(){let n=B(t),r=e.batch.batchId;try{let i=yield Hq(n.localStore,e);cM(n,r,null),aM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gc(n,i)}catch(i){yield hc(i)}})}function mz(t,e,n){return f(this,null,function*(){let r=B(t);try{let i=yield function(o,a){let c=B(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(le(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);cM(r,e,n),aM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gc(r,i)}catch(i){yield hc(i)}})}function aM(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function cM(t,e,n){let r=B(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function X_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||uM(t,r)})}function uM(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(eM(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),AI(t))}function dR(t,e,n){for(let r of n)r instanceof Ih?(t.ba.addReference(r.key,e),yz(t,r)):r instanceof wh?(E("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||uM(t,r.key)):O()}function yz(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ya.add(r),AI(t))}function AI(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new M(pe.fromString(e)),r=t.va.next();t.Sa.set(r,new J_(n)),t.wa=t.wa.insert(n,r),XR(t.remoteStore,new sc(yn(II(n.path)),r,"TargetPurposeLimboResolution",IR._e))}}function gc(t,e,n){return f(this,null,function*(){let r=B(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=N_.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return f(this,null,function*(){let l=B(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!fc(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,_)}}})}(r.localStore,s))})}function vz(t,e){return f(this,null,function*(){let n=B(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield JR(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new C(m.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gc(n,r.us)}})}function _z(t,e){let n=B(t),r=n.Sa.get(e);if(r&&r.ma)return J().add(r.key);{let i=J(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function Iz(t){let e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_z.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pz.bind(null,e),e.fa.u_=cz.bind(null,e.eventManager),e.fa.xa=uz.bind(null,e.eventManager),e}function wz(t){let e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mz.bind(null,e),e}var Eh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $q(this.persistence,new P_,e.initialUser,this.serializer)}createPersistence(e){return new S_(M_.Hr,this.serializer)}createSharedClientState(e){return new F_}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var eI=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vz.bind(null,this.syncEngine),yield sz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new W_}()}createDatastore(e){let n=Oh(e.databaseInfo.databaseId),r=function(s){return new U_(s)}(e.databaseInfo);return function(s,o,a,c){return new $_(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new q_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lR(this.syncEngine,n,0),function(){return ph.D()?new ph:new L_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Z_(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=B(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield pc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var tI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):_n("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var nI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ve.UNAUTHENTICATED,this.clientId=Xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=CI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Rv(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield JR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function hR(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Dz(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uR(e.remoteStore,i)),t._onlineComponents=e})}function Ez(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Dz(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Ez(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),yield Rv(t,new Eh)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield Rv(t,new Eh);return t._offlineComponents})}function lM(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield hR(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield hR(t,new eI))),t._onlineComponents})}function Tz(t){return lM(t).then(e=>e.syncEngine)}function fR(t){return f(this,null,function*(){let e=yield lM(t),n=e.eventManager;return n.onListen=lz.bind(null,e.syncEngine),n.onUnlisten=hz.bind(null,e.syncEngine),n})}function dM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var pR=new Map;function hM(t,e,n){if(!n)throw new C(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cz(t,e,n,r){if(e===!0&&r===!0)throw new C(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gR(t){if(!M.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mR(t){if(M.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Lh(t);throw new C(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Dh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},eo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mv;switch(r.type){case"firstParty":return new Ov(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=pR.get(n);r&&(E("ComponentProvider","Removing Datastore"),pR.delete(n),r.terminate())}(this),Promise.resolve()}};function fM(t,e,n,r={}){var i;let s=(t=zn(t,eo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ve.MOCK_USER;else{a=t0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ve(u)}t._authCredentials=new Nv(new Zd(a,c))}}var to=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},it=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Sr=class t extends to{constructor(e,n,r){super(e,n,II(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new M(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function pM(t,e,...n){if(t=ye(t),hM("collection","path",e),t instanceof eo){let r=pe.fromString(e,...n);return mR(r),new Sr(t,null,r)}{if(!(t instanceof it||t instanceof Sr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return mR(r),new Sr(t.firestore,null,r)}}function SI(t,e,...n){if(t=ye(t),arguments.length===1&&(e=Xd.newId()),hM("doc","path",e),t instanceof eo){let r=pe.fromString(e,...n);return gR(r),new it(t,null,new M(r))}{if(!(t instanceof it||t instanceof Sr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(pe.fromString(e,...n));return gR(r),new it(t.firestore,t instanceof Sr?t.converter:null,new M(r))}}var rI=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new gh(this,"async_queue_retry"),this._u=()=>{let n=Sv();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Sv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new gn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return f(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!fc(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _n("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=z_.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&O()}verifyOperationInProgress(){}hu(){return f(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function yR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Pr=class extends eo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new rI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yM(this),this._firestoreClient.terminate()}};function gM(t,e){let n=typeof t=="object"?t:Cs(),r=typeof t=="string"?t:e||"(default)",i=ya(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=e0("firestore");s&&fM(i,...s)}return i}function mM(t){return t._firestoreClient||yM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yM(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new $v(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,dM(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new nI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new C(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var no=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var uc=class{constructor(e){this._methodName=e}};var lc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var bz=/^__.*__$/,iI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Si(e,this.data,n,this.fieldTransforms)}},Th=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function vM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}var sI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return bh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(vM(this.du)&&bz.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},oI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Oh(e)}Su(e,n,r,i=!1){return new sI({du:e,methodName:n,wu:r,path:Ct.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Vh(t){let e=t._freezeSettings(),n=Oh(t._databaseId);return new oI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _M(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);RI("Data must be an object, but it was:",o,r);let a=IM(r,o),c,u;if(s.merge)c=new Pt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=aI(e,d,n);if(!o.contains(h))throw new C(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);EM(l,h)||l.push(h)}c=new Pt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new iI(new Tt(a),c,u)}var Ch=class t extends uc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Az(t,e,n,r){let i=t.Su(1,e,n);RI("Data must be an object, but it was:",i,r);let s=[],o=Tt.empty();Ri(r,(c,u)=>{let l=MI(e,c,n);u=ye(u);let d=i.fu(l);if(u instanceof Ch)s.push(l);else{let h=mc(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Pt(s);return new Th(o,a,i.fieldTransforms)}function Sz(t,e,n,r,i,s){let o=t.Su(1,e,n),a=[aI(e,r,n)],c=[i];if(s.length%2!=0)throw new C(m.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(aI(e,s[h])),c.push(s[h+1]);let u=[],l=Tt.empty();for(let h=a.length-1;h>=0;--h)if(!EM(u,a[h])){let p=a[h],g=c[h];g=ye(g);let _=o.fu(p);if(g instanceof Ch)u.push(p);else{let v=mc(g,_);v!=null&&(u.push(p),l.set(p,v))}}let d=new Pt(u);return new Th(l,d,o.fieldTransforms)}function Rz(t,e,n,r=!1){return mc(n,t.Su(r?4:3,e))}function mc(t,e){if(wM(t=ye(t)))return RI("Unsupported field value:",e,t),IM(t,e);if(t instanceof uc)return function(r,i){if(!vM(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=mc(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ge.fromDate(r);return{timestampValue:dh(i.serializer,s)}}if(r instanceof Ge){let s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(i.serializer,s)}}if(r instanceof lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cc)return{bytesValue:qR(i.serializer,r._byteString)};if(r instanceof it){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wI(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Lh(r)}`)}(t,e)}function IM(t,e){let n={};return wR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(t,(r,i)=>{let s=mc(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof lc||t instanceof cc||t instanceof it||t instanceof uc)}function RI(t,e,n){if(!wM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Lh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function aI(t,e,n){if((e=ye(e))instanceof no)return e._internalPath;if(typeof e=="string")return MI(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}var Mz=new RegExp("[~\\*/\\[\\]]");function MI(t,e,n){if(e.search(Mz)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new no(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(m.INVALID_ARGUMENT,a+t+c)}function EM(t,e){return t.some(n=>n.isEqual(e))}var Ah=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(NI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},cI=class extends Ah{data(){return super.data()}};function NI(t,e){return typeof e=="string"?MI(t,e):e instanceof no?e._internalPath:e._delegate._internalPath}function Nz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dc=class{},uI=class extends dc{};function DM(t,e,...n){let r=[];e instanceof dc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof lI).length,a=s.filter(c=>c instanceof Sh).length;if(o>1||o>0&&a>0)throw new C(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Sh=class t extends uI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return CM(e._query,n),new to(e.firestore,e.converter,t_(e._query,n))}_parse(e){let n=Vh(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){_R(d,l);let p=[];for(let g of d)p.push(vR(c,s,g));h={arrayValue:{values:p}}}else h=vR(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||_R(d,l),h=Rz(a,o,d,l==="in"||l==="not-in");return Se.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function TM(t,e,n){let r=e,i=NI("where",t);return Sh._create(i,r,n)}var lI=class t extends dc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)CM(o,c),o=t_(o,c)}(e._query,n),new to(e.firestore,e.converter,t_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function vR(t,e,n){if(typeof(n=ye(n))=="string"){if(n==="")throw new C(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RR(e)&&n.indexOf("/")!==-1)throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(pe.fromString(n));if(!M.isDocumentKey(r))throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zS(t,new M(r))}if(n instanceof it)return zS(t,n._key);throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function _R(t,e){if(!Array.isArray(t)||t.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CM(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var dI=class{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ri(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new lc(_e(e.latitude),_e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=mI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){let n=Rr(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=pe.fromString(e);le(YR(r));let i=new ih(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||_n(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function bM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ii=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rh=class extends Ah{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new $s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(NI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},$s=class extends Rh{data(e={}){return super.data(e)}},hI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ii(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $s(this._firestore,this._userDataWriter,r.key,r,new Ii(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ii(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:xz(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function xz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}var Mh=class extends dI{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}};function AM(t,e,n){t=zn(t,it);let r=zn(t.firestore,Pr),i=bM(t.converter,e,n);return PI(r,[_M(Vh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qn.none())])}function SM(t,e,n,...r){t=zn(t,it);let i=zn(t.firestore,Pr),s=Vh(i),o;return o=typeof(e=ye(e))=="string"||e instanceof no?Sz(s,"updateDoc",t._key,e,n,r):Az(s,"updateDoc",t._key,e),PI(i,[o.toMutation(t._key,qn.exists(!0))])}function RM(t,e){let n=zn(t.firestore,Pr),r=SI(t),i=bM(t.converter,e);return PI(n,[_M(Vh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function xI(t,...e){var n,r,i;t=ye(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||yR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(yR(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof it)u=zn(t.firestore,Pr),l=II(t._key.path),c={next:d=>{e[o]&&e[o](Pz(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=zn(t,to);u=zn(d.firestore,Pr),l=d._query;let h=new Mh(u);c={next:p=>{e[o]&&e[o](new hI(u,h,d,p))},error:e[o+1],complete:e[o+2]},Nz(t._query)}return function(h,p,g,_){let v=new tI(_),T=new K_(p,v,g);return h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return oz(yield fR(h),T)})),()=>{v.La(),h.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return az(yield fR(h),T)}))}}(mM(u),l,a,c)}function PI(t,e){return function(r,i){let s=new gn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return fz(yield Tz(r),i,s)})),s.promise}(mM(t),e)}function Pz(t,e,n){let r=n.docs.get(e._key),i=new Mh(t);return new Rh(t,i,e._key,r,new Ii(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ro=i})(Er),wr(new Nt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Pr(new xv(r.getProvider("auth-internal")),new Fv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Me(BS,"4.4.3",e),Me(BS,"4.4.3","esm2017")})();var Uh=function(){return Uh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uh.apply(this,arguments)};var Fz={includeMetadataChanges:!1};function OI(t,e){return e===void 0&&(e=Fz),new q(function(n){var r=xI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function MM(t){return OI(t,{includeMetadataChanges:!0})}function NM(t,e){return e===void 0&&(e={}),MM(t).pipe($(function(n){return kI(n,e)}))}function kI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Uh(Uh({},r),(n={},n[e.idField]=t.id,n))}function xM(t){return OI(t,{includeMetadataChanges:!0}).pipe($(function(e){return e.docs}))}function PM(t,e){return e===void 0&&(e={}),xM(t).pipe($(function(n){return n.map(function(r){return kI(r,e)})}))}var Ni=class{constructor(e){return e}},OM="firestore",FI=class{constructor(){return va(OM)}};var LI=new b("angularfire2.firestore-instances");function Lz(t,e){let n=Wl(OM,t,e);return n&&new Ni(n)}function Vz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var Uz={provide:FI,deps:[[new nt,LI]]},jz={provide:Ni,useFactory:Lz,deps:[[new nt,LI],Vn]},Bz=(()=>{class t{constructor(){Me("angularfire",oi.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=He({providers:[jz,Uz]})}return t})();function aJ(t,...e){return{ngModule:Bz,providers:[{provide:LI,useFactory:Vz(t),multi:!0,deps:[Q,Oe,Ss,ai,[new nt,Ca],[new nt,As],...e]}]}}var cJ=De(PM,!0);var uJ=De(NM,!0);var lJ=De(RM,!0);var dJ=De(pM,!0);var kM=De(SI,!0);var hJ=De(gM,!0);var fJ=De(DM,!0);var FM=De(AM,!0);var pJ=De(SM,!0);var gJ=De(TM,!0);var TJ=(()=>{let e=class e{constructor(r,i,s,o){this.auth=r,this.firestore=i,this.router=s,this.platformId=o,this.currentUserID="",ds(this.platformId)&&(this.displayname=localStorage.getItem("displayname")),gA(this.auth).subscribe(a=>{a&&a.uid&&(this.currentUserID=a.uid)})}saveUserInfoAfterRegistering(r,i){let s=kM(this.firestore,`User/${i}`);return FM(s,r)}get currentUserLoggedInRole(){return JSON.stringify(localStorage.getItem("displayname"))}get isLoggedIn(){return ds(this.platformId)?localStorage.getItem("displayname")!=null:!1}setDisplayNameLocalStorage(r,i){ds(this.platformId)&&localStorage.setItem("displayname",r),localStorage.setItem("userobject",JSON.stringify(i))}getCurrentUserLoggedInObject(){return ds(this.platformId)?JSON.parse(localStorage.getItem("userobject")):[]}signIn(r){return re(vA(this.auth,r.email,r.password)).pipe(pt(i=>Kt(()=>new Error(this.translateFirebaseErrorMessage(i)))))}signUp(r){return re(mA(this.auth,r.email,r.password)).pipe(pt(i=>Kt(()=>new Error(this.translateFirebaseErrorMessageForSignUp(i)))))}resetPassword(r){return re(yA(this.auth,r)).pipe(pt(i=>Kt(()=>new Error(this.translateFirebaseErrorMessageForSignUp(i)))))}translateFirebaseErrorMessageForSignUp({code:r,message:i}){return r==="auth/admin-restricted-operation"?"Email is badly formatted.":r==="auth/email-already-in-use"?"Email already in use.":r==="auth/missing-email"?"Missing email":r==="auth/missing-password"?"Missing password":i}translateFirebaseErrorMessage({code:r,message:i}){return r==="auth/invalid-credential"?"User not found.":i}SignOut(){_A(this.auth),localStorage.removeItem("displayname"),localStorage.removeItem("userobject"),this.router.navigate(["/auth/login"])}};e.\u0275fac=function(i){return new(i||e)(S(di),S(Ni),S($t),S(dt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{D as a,oe as b,Hz as c,BI as d,qz as e,zz as f,Gz as g,f as h,A as i,he as j,uE as k,$e as l,v5 as m,_5 as n,I5 as o,w5 as p,R as q,He as r,dt as s,E5 as t,S as u,I as v,D5 as w,T5 as x,U as y,Yf as z,To as A,Q as B,pp as C,_1 as D,Yu as E,A5 as F,S5 as G,R5 as H,M5 as I,MT as J,NT as K,dg as L,N5 as M,dr as N,x5 as O,P5 as P,O5 as Q,q1 as R,VT as S,z1 as T,G1 as U,k5 as V,W1 as W,F5 as X,L5 as Y,ht as Z,aC as _,ds as $,vC as aa,L8 as ba,V8 as ca,U8 as da,pV as ea,$t as fa,pb as ga,MK as ha,NK as ia,m7 as ja,y7 as ka,mQ as la,yQ as ma,vQ as na,Ni as oa,aJ as pa,cJ as qa,uJ as ra,lJ as sa,dJ as ta,kM as ua,hJ as va,fJ as wa,pJ as xa,gJ as ya,TJ as za,LC as Aa,bC as Ba,rK as Ca,iK as Da,pl as Ea,qo as Fa,SL as Ga,oK as Ha,ML as Ia,xL as Ja,sb as Ka,aK as La,cK as Ma,jL as Na,uK as Oa,lK as Pa,dK as Qa};
